{"apps/ai/api.py": [{"type": "function", "rank": "C", "lineno": 179, "name": "update_prompt", "complexity": 11, "col_offset": 0, "endline": 219, "closures": []}, {"type": "function", "rank": "B", "lineno": 408, "name": "scale_recipe_endpoint", "complexity": 10, "col_offset": 0, "endline": 486, "closures": []}, {"type": "function", "rank": "B", "lineno": 309, "name": "create_remix_endpoint", "complexity": 8, "col_offset": 0, "endline": 374, "closures": []}, {"type": "function", "rank": "B", "lineno": 505, "name": "tips_endpoint", "complexity": 8, "col_offset": 0, "endline": 543, "closures": []}, {"type": "function", "rank": "B", "lineno": 271, "name": "remix_suggestions", "complexity": 7, "col_offset": 0, "endline": 304, "closures": []}, {"type": "function", "rank": "B", "lineno": 667, "name": "repair_selector_endpoint", "complexity": 7, "col_offset": 0, "endline": 715, "closures": []}, {"type": "function", "rank": "B", "lineno": 561, "name": "timer_name_endpoint", "complexity": 6, "col_offset": 0, "endline": 593, "closures": []}, {"type": "function", "rank": "A", "lineno": 86, "name": "get_ai_status", "complexity": 4, "col_offset": 0, "endline": 123, "closures": []}, {"type": "function", "rank": "A", "lineno": 614, "name": "discover_endpoint", "complexity": 4, "col_offset": 0, "endline": 634, "closures": []}, {"type": "function", "rank": "A", "lineno": 223, "name": "list_models", "complexity": 3, "col_offset": 0, "endline": 233, "closures": []}, {"type": "function", "rank": "A", "lineno": 720, "name": "sources_needing_attention_endpoint", "complexity": 3, "col_offset": 0, "endline": 734, "closures": []}, {"type": "function", "rank": "A", "lineno": 127, "name": "test_api_key", "complexity": 2, "col_offset": 0, "endline": 138, "closures": []}, {"type": "function", "rank": "A", "lineno": 166, "name": "get_prompt", "complexity": 2, "col_offset": 0, "endline": 174, "closures": []}, {"type": "function", "rank": "A", "lineno": 143, "name": "save_api_key", "complexity": 1, "col_offset": 0, "endline": 154, "closures": []}, {"type": "function", "rank": "A", "lineno": 159, "name": "list_prompts", "complexity": 1, "col_offset": 0, "endline": 162, "closures": []}, {"type": "class", "rank": "A", "lineno": 28, "name": "AIStatusOut", "complexity": 1, "col_offset": 0, "endline": 34, "methods": []}, {"type": "class", "rank": "A", "lineno": 37, "name": "TestApiKeyIn", "complexity": 1, "col_offset": 0, "endline": 38, "methods": []}, {"type": "class", "rank": "A", "lineno": 41, "name": "TestApiKeyOut", "complexity": 1, "col_offset": 0, "endline": 43, "methods": []}, {"type": "class", "rank": "A", "lineno": 46, "name": "SaveApiKeyIn", "complexity": 1, "col_offset": 0, "endline": 47, "methods": []}, {"type": "class", "rank": "A", "lineno": 50, "name": "SaveApiKeyOut", "complexity": 1, "col_offset": 0, "endline": 52, "methods": []}, {"type": "class", "rank": "A", "lineno": 55, "name": "PromptOut", "complexity": 1, "col_offset": 0, "endline": 62, "methods": []}, {"type": "class", "rank": "A", "lineno": 65, "name": "PromptUpdateIn", "complexity": 1, "col_offset": 0, "endline": 69, "methods": []}, {"type": "class", "rank": "A", "lineno": 72, "name": "ModelOut", "complexity": 1, "col_offset": 0, "endline": 74, "methods": []}, {"type": "class", "rank": "A", "lineno": 77, "name": "ErrorOut", "complexity": 1, "col_offset": 0, "endline": 80, "methods": []}, {"type": "class", "rank": "A", "lineno": 238, "name": "RemixSuggestionsIn", "complexity": 1, "col_offset": 0, "endline": 239, "methods": []}, {"type": "class", "rank": "A", "lineno": 242, "name": "RemixSuggestionsOut", "complexity": 1, "col_offset": 0, "endline": 243, "methods": []}, {"type": "class", "rank": "A", "lineno": 246, "name": "CreateRemixIn", "complexity": 1, "col_offset": 0, "endline": 249, "methods": []}, {"type": "class", "rank": "A", "lineno": 252, "name": "RemixOut", "complexity": 1, "col_offset": 0, "endline": 265, "methods": []}, {"type": "class", "rank": "A", "lineno": 380, "name": "ScaleIn", "complexity": 1, "col_offset": 0, "endline": 384, "methods": []}, {"type": "class", "rank": "A", "lineno": 387, "name": "NutritionOut", "complexity": 1, "col_offset": 0, "endline": 389, "methods": []}, {"type": "class", "rank": "A", "lineno": 392, "name": "ScaleOut", "complexity": 1, "col_offset": 0, "endline": 402, "methods": []}, {"type": "class", "rank": "A", "lineno": 492, "name": "TipsIn", "complexity": 1, "col_offset": 0, "endline": 494, "methods": []}, {"type": "class", "rank": "A", "lineno": 497, "name": "TipsOut", "complexity": 1, "col_offset": 0, "endline": 499, "methods": []}, {"type": "class", "rank": "A", "lineno": 549, "name": "TimerNameIn", "complexity": 1, "col_offset": 0, "endline": 551, "methods": []}, {"type": "class", "rank": "A", "lineno": 554, "name": "TimerNameOut", "complexity": 1, "col_offset": 0, "endline": 555, "methods": []}, {"type": "class", "rank": "A", "lineno": 599, "name": "DiscoverSuggestionOut", "complexity": 1, "col_offset": 0, "endline": 603, "methods": []}, {"type": "class", "rank": "A", "lineno": 606, "name": "DiscoverOut", "complexity": 1, "col_offset": 0, "endline": 608, "methods": []}, {"type": "class", "rank": "A", "lineno": 640, "name": "SelectorRepairIn", "complexity": 1, "col_offset": 0, "endline": 645, "methods": []}, {"type": "class", "rank": "A", "lineno": 648, "name": "SelectorRepairOut", "complexity": 1, "col_offset": 0, "endline": 653, "methods": []}, {"type": "class", "rank": "A", "lineno": 656, "name": "SourceNeedingAttentionOut", "complexity": 1, "col_offset": 0, "endline": 661, "methods": []}], "apps/ai/tests.py": [{"type": "method", "rank": "B", "lineno": 988, "classname": "SelectorRepairAPITests", "name": "test_sources_needing_attention_endpoint", "complexity": 9, "col_offset": 4, "endline": 988, "closures": []}, {"type": "method", "rank": "B", "lineno": 153, "classname": "AIAPITests", "name": "test_ai_status_endpoint", "complexity": 8, "col_offset": 4, "endline": 153, "closures": []}, {"type": "method", "rank": "B", "lineno": 719, "classname": "SelectorRepairServiceTests", "name": "test_repair_selector_success", "complexity": 8, "col_offset": 4, "endline": 719, "closures": []}, {"type": "method", "rank": "B", "lineno": 166, "classname": "AIAPITests", "name": "test_ai_status_no_api_key", "complexity": 7, "col_offset": 4, "endline": 166, "closures": []}, {"type": "method", "rank": "B", "lineno": 201, "classname": "AIAPITests", "name": "test_ai_status_valid_api_key", "complexity": 7, "col_offset": 4, "endline": 201, "closures": []}, {"type": "method", "rank": "B", "lineno": 362, "classname": "OpenRouterServiceTests", "name": "test_validate_key_cached_caches_result", "complexity": 7, "col_offset": 4, "endline": 362, "closures": []}, {"type": "method", "rank": "B", "lineno": 183, "classname": "AIAPITests", "name": "test_ai_status_invalid_api_key", "complexity": 6, "col_offset": 4, "endline": 183, "closures": []}, {"type": "method", "rank": "B", "lineno": 380, "classname": "OpenRouterServiceTests", "name": "test_validate_key_cached_caches_invalid_result", "complexity": 6, "col_offset": 4, "endline": 380, "closures": []}, {"type": "method", "rank": "B", "lineno": 749, "classname": "SelectorRepairServiceTests", "name": "test_repair_selector_low_confidence_no_update", "complexity": 6, "col_offset": 4, "endline": 749, "closures": []}, {"type": "method", "rank": "B", "lineno": 830, "classname": "SelectorRepairServiceTests", "name": "test_get_sources_needing_attention", "complexity": 6, "col_offset": 4, "endline": 830, "closures": []}, {"type": "method", "rank": "B", "lineno": 883, "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_success", "complexity": 6, "col_offset": 4, "endline": 883, "closures": []}, {"type": "class", "rank": "A", "lineno": 150, "name": "AIAPITests", "complexity": 5, "col_offset": 0, "endline": 308, "methods": [{"type": "method", "rank": "B", "lineno": 153, "classname": "AIAPITests", "name": "test_ai_status_endpoint", "complexity": 8, "col_offset": 4, "endline": 153, "closures": []}, {"type": "method", "rank": "B", "lineno": 166, "classname": "AIAPITests", "name": "test_ai_status_no_api_key", "complexity": 7, "col_offset": 4, "endline": 166, "closures": []}, {"type": "method", "rank": "B", "lineno": 183, "classname": "AIAPITests", "name": "test_ai_status_invalid_api_key", "complexity": 6, "col_offset": 4, "endline": 183, "closures": []}, {"type": "method", "rank": "B", "lineno": 201, "classname": "AIAPITests", "name": "test_ai_status_valid_api_key", "complexity": 7, "col_offset": 4, "endline": 201, "closures": []}, {"type": "method", "rank": "A", "lineno": 219, "classname": "AIAPITests", "name": "test_models_endpoint_no_api_key", "complexity": 3, "col_offset": 4, "endline": 219, "closures": []}, {"type": "method", "rank": "A", "lineno": 227, "classname": "AIAPITests", "name": "test_models_endpoint_with_api_key", "complexity": 4, "col_offset": 4, "endline": 227, "closures": []}, {"type": "method", "rank": "A", "lineno": 242, "classname": "AIAPITests", "name": "test_prompts_endpoint", "complexity": 3, "col_offset": 4, "endline": 242, "closures": []}, {"type": "method", "rank": "A", "lineno": 249, "classname": "AIAPITests", "name": "test_get_prompt_endpoint", "complexity": 4, "col_offset": 4, "endline": 249, "closures": []}, {"type": "method", "rank": "A", "lineno": 257, "classname": "AIAPITests", "name": "test_get_prompt_not_found", "complexity": 2, "col_offset": 4, "endline": 257, "closures": []}, {"type": "method", "rank": "A", "lineno": 262, "classname": "AIAPITests", "name": "test_update_prompt_endpoint", "complexity": 4, "col_offset": 4, "endline": 262, "closures": []}, {"type": "method", "rank": "A", "lineno": 278, "classname": "AIAPITests", "name": "test_update_prompt_invalid_model", "complexity": 4, "col_offset": 4, "endline": 278, "closures": []}, {"type": "method", "rank": "A", "lineno": 298, "classname": "AIAPITests", "name": "test_test_api_key_empty", "complexity": 2, "col_offset": 4, "endline": 298, "closures": []}, {"type": "method", "rank": "A", "lineno": 308, "classname": "AIAPITests", "name": "test_save_api_key_invalidates_cache", "complexity": 3, "col_offset": 4, "endline": 308, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 702, "name": "SelectorRepairServiceTests", "complexity": 5, "col_offset": 0, "endline": 830, "methods": [{"type": "method", "rank": "A", "lineno": 705, "classname": "SelectorRepairServiceTests", "name": "setUp", "complexity": 1, "col_offset": 4, "endline": 715, "closures": []}, {"type": "method", "rank": "B", "lineno": 719, "classname": "SelectorRepairServiceTests", "name": "test_repair_selector_success", "complexity": 8, "col_offset": 4, "endline": 719, "closures": []}, {"type": "method", "rank": "B", "lineno": 749, "classname": "SelectorRepairServiceTests", "name": "test_repair_selector_low_confidence_no_update", "complexity": 6, "col_offset": 4, "endline": 749, "closures": []}, {"type": "method", "rank": "A", "lineno": 777, "classname": "SelectorRepairServiceTests", "name": "test_repair_selector_auto_update_disabled", "complexity": 5, "col_offset": 4, "endline": 777, "closures": []}, {"type": "method", "rank": "A", "lineno": 804, "classname": "SelectorRepairServiceTests", "name": "test_repair_selector_truncates_html", "complexity": 2, "col_offset": 4, "endline": 804, "closures": []}, {"type": "method", "rank": "B", "lineno": 830, "classname": "SelectorRepairServiceTests", "name": "test_get_sources_needing_attention", "complexity": 6, "col_offset": 4, "endline": 830, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 777, "classname": "SelectorRepairServiceTests", "name": "test_repair_selector_auto_update_disabled", "complexity": 5, "col_offset": 4, "endline": 777, "closures": []}, {"type": "class", "rank": "A", "lineno": 867, "name": "SelectorRepairAPITests", "complexity": 5, "col_offset": 0, "endline": 1003, "methods": [{"type": "method", "rank": "A", "lineno": 870, "classname": "SelectorRepairAPITests", "name": "setUp", "complexity": 1, "col_offset": 4, "endline": 879, "closures": []}, {"type": "method", "rank": "B", "lineno": 883, "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_success", "complexity": 6, "col_offset": 4, "endline": 883, "closures": []}, {"type": "method", "rank": "A", "lineno": 909, "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_source_not_found", "complexity": 3, "col_offset": 4, "endline": 909, "closures": []}, {"type": "method", "rank": "A", "lineno": 924, "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_empty_html", "complexity": 3, "col_offset": 4, "endline": 924, "closures": []}, {"type": "method", "rank": "A", "lineno": 940, "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_ai_unavailable", "complexity": 3, "col_offset": 4, "endline": 940, "closures": []}, {"type": "method", "rank": "A", "lineno": 958, "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_with_options", "complexity": 5, "col_offset": 4, "endline": 958, "closures": []}, {"type": "method", "rank": "B", "lineno": 988, "classname": "SelectorRepairAPITests", "name": "test_sources_needing_attention_endpoint", "complexity": 9, "col_offset": 4, "endline": 988, "closures": []}, {"type": "method", "rank": "A", "lineno": 1003, "classname": "SelectorRepairAPITests", "name": "test_sources_needing_attention_endpoint_empty", "complexity": 3, "col_offset": 4, "endline": 1003, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 958, "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_with_options", "complexity": 5, "col_offset": 4, "endline": 958, "closures": []}, {"type": "method", "rank": "A", "lineno": 1052, "classname": "AIFeatureFallbackTests", "name": "test_ai_status_shows_available_with_key", "complexity": 5, "col_offset": 4, "endline": 1052, "closures": []}, {"type": "method", "rank": "A", "lineno": 1068, "classname": "AIFeatureFallbackTests", "name": "test_tips_returns_503_with_action_field_when_ai_unavailable", "complexity": 5, "col_offset": 4, "endline": 1068, "closures": []}, {"type": "method", "rank": "A", "lineno": 227, "classname": "AIAPITests", "name": "test_models_endpoint_with_api_key", "complexity": 4, "col_offset": 4, "endline": 227, "closures": []}, {"type": "method", "rank": "A", "lineno": 249, "classname": "AIAPITests", "name": "test_get_prompt_endpoint", "complexity": 4, "col_offset": 4, "endline": 249, "closures": []}, {"type": "method", "rank": "A", "lineno": 262, "classname": "AIAPITests", "name": "test_update_prompt_endpoint", "complexity": 4, "col_offset": 4, "endline": 262, "closures": []}, {"type": "method", "rank": "A", "lineno": 278, "classname": "AIAPITests", "name": "test_update_prompt_invalid_model", "complexity": 4, "col_offset": 4, "endline": 278, "closures": []}, {"type": "class", "rank": "A", "lineno": 326, "name": "OpenRouterServiceTests", "complexity": 4, "col_offset": 0, "endline": 537, "methods": [{"type": "method", "rank": "A", "lineno": 329, "classname": "OpenRouterServiceTests", "name": "test_init_requires_api_key", "complexity": 2, "col_offset": 4, "endline": 329, "closures": []}, {"type": "method", "rank": "A", "lineno": 340, "classname": "OpenRouterServiceTests", "name": "test_init_with_explicit_key", "complexity": 2, "col_offset": 4, "endline": 340, "closures": []}, {"type": "method", "rank": "A", "lineno": 345, "classname": "OpenRouterServiceTests", "name": "test_is_available_without_key", "complexity": 2, "col_offset": 4, "endline": 345, "closures": []}, {"type": "method", "rank": "A", "lineno": 353, "classname": "OpenRouterServiceTests", "name": "test_is_available_with_key", "complexity": 2, "col_offset": 4, "endline": 353, "closures": []}, {"type": "method", "rank": "B", "lineno": 362, "classname": "OpenRouterServiceTests", "name": "test_validate_key_cached_caches_result", "complexity": 7, "col_offset": 4, "endline": 362, "closures": []}, {"type": "method", "rank": "B", "lineno": 380, "classname": "OpenRouterServiceTests", "name": "test_validate_key_cached_caches_invalid_result", "complexity": 6, "col_offset": 4, "endline": 380, "closures": []}, {"type": "method", "rank": "A", "lineno": 396, "classname": "OpenRouterServiceTests", "name": "test_validate_key_cached_no_key", "complexity": 3, "col_offset": 4, "endline": 396, "closures": []}, {"type": "method", "rank": "A", "lineno": 403, "classname": "OpenRouterServiceTests", "name": "test_invalidate_key_cache", "complexity": 3, "col_offset": 4, "endline": 403, "closures": []}, {"type": "method", "rank": "A", "lineno": 412, "classname": "OpenRouterServiceTests", "name": "test_complete_success", "complexity": 2, "col_offset": 4, "endline": 432, "closures": []}, {"type": "method", "rank": "A", "lineno": 435, "classname": "OpenRouterServiceTests", "name": "test_complete_handles_code_block_json", "complexity": 2, "col_offset": 4, "endline": 435, "closures": []}, {"type": "method", "rank": "A", "lineno": 457, "classname": "OpenRouterServiceTests", "name": "test_complete_invalid_json", "complexity": 2, "col_offset": 4, "endline": 457, "closures": []}, {"type": "method", "rank": "A", "lineno": 477, "classname": "OpenRouterServiceTests", "name": "test_complete_no_choices", "complexity": 2, "col_offset": 4, "endline": 477, "closures": []}, {"type": "method", "rank": "A", "lineno": 496, "classname": "OpenRouterServiceTests", "name": "test_complete_raw_text_response", "complexity": 2, "col_offset": 4, "endline": 496, "closures": []}, {"type": "method", "rank": "A", "lineno": 516, "classname": "OpenRouterServiceTests", "name": "test_test_connection_success", "complexity": 3, "col_offset": 4, "endline": 516, "closures": []}, {"type": "method", "rank": "A", "lineno": 530, "classname": "OpenRouterServiceTests", "name": "test_test_connection_no_key", "complexity": 3, "col_offset": 4, "endline": 530, "closures": []}, {"type": "method", "rank": "A", "lineno": 537, "classname": "OpenRouterServiceTests", "name": "test_get_available_models_success", "complexity": 4, "col_offset": 4, "endline": 537, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 537, "classname": "OpenRouterServiceTests", "name": "test_get_available_models_success", "complexity": 4, "col_offset": 4, "endline": 537, "closures": []}, {"type": "class", "rank": "A", "lineno": 644, "name": "TimerNamingAPITests", "complexity": 4, "col_offset": 0, "endline": 687, "methods": [{"type": "method", "rank": "A", "lineno": 648, "classname": "TimerNamingAPITests", "name": "test_timer_name_endpoint_success", "complexity": 3, "col_offset": 4, "endline": 648, "closures": []}, {"type": "method", "rank": "A", "lineno": 662, "classname": "TimerNamingAPITests", "name": "test_timer_name_endpoint_missing_step_text", "complexity": 3, "col_offset": 4, "endline": 662, "closures": []}, {"type": "method", "rank": "A", "lineno": 674, "classname": "TimerNamingAPITests", "name": "test_timer_name_endpoint_invalid_duration", "complexity": 3, "col_offset": 4, "endline": 674, "closures": []}, {"type": "method", "rank": "A", "lineno": 687, "classname": "TimerNamingAPITests", "name": "test_timer_name_endpoint_ai_unavailable", "complexity": 3, "col_offset": 4, "endline": 687, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 1019, "name": "AIFeatureFallbackTests", "complexity": 4, "col_offset": 0, "endline": 1159, "methods": [{"type": "method", "rank": "A", "lineno": 1022, "classname": "AIFeatureFallbackTests", "name": "setUp", "complexity": 1, "col_offset": 4, "endline": 1036, "closures": []}, {"type": "method", "rank": "A", "lineno": 1038, "classname": "AIFeatureFallbackTests", "name": "test_ai_status_shows_unavailable_without_key", "complexity": 4, "col_offset": 4, "endline": 1038, "closures": []}, {"type": "method", "rank": "A", "lineno": 1052, "classname": "AIFeatureFallbackTests", "name": "test_ai_status_shows_available_with_key", "complexity": 5, "col_offset": 4, "endline": 1052, "closures": []}, {"type": "method", "rank": "A", "lineno": 1068, "classname": "AIFeatureFallbackTests", "name": "test_tips_returns_503_with_action_field_when_ai_unavailable", "complexity": 5, "col_offset": 4, "endline": 1068, "closures": []}, {"type": "method", "rank": "A", "lineno": 1085, "classname": "AIFeatureFallbackTests", "name": "test_remix_suggestions_returns_503_when_ai_unavailable", "complexity": 3, "col_offset": 4, "endline": 1085, "closures": []}, {"type": "method", "rank": "A", "lineno": 1100, "classname": "AIFeatureFallbackTests", "name": "test_scale_returns_503_when_ai_unavailable", "complexity": 3, "col_offset": 4, "endline": 1100, "closures": []}, {"type": "method", "rank": "A", "lineno": 1119, "classname": "AIFeatureFallbackTests", "name": "test_discover_returns_503_when_ai_unavailable", "complexity": 3, "col_offset": 4, "endline": 1119, "closures": []}, {"type": "method", "rank": "A", "lineno": 1130, "classname": "AIFeatureFallbackTests", "name": "test_tips_service_raises_when_no_key", "complexity": 1, "col_offset": 4, "endline": 1136, "closures": []}, {"type": "method", "rank": "A", "lineno": 1139, "classname": "AIFeatureFallbackTests", "name": "test_remix_service_raises_when_no_key", "complexity": 1, "col_offset": 4, "endline": 1145, "closures": []}, {"type": "method", "rank": "A", "lineno": 1147, "classname": "AIFeatureFallbackTests", "name": "test_models_endpoint_returns_empty_list_without_key", "complexity": 3, "col_offset": 4, "endline": 1147, "closures": []}, {"type": "method", "rank": "A", "lineno": 1159, "classname": "AIFeatureFallbackTests", "name": "test_timer_name_returns_503_when_ai_unavailable", "complexity": 3, "col_offset": 4, "endline": 1159, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 1038, "classname": "AIFeatureFallbackTests", "name": "test_ai_status_shows_unavailable_without_key", "complexity": 4, "col_offset": 4, "endline": 1038, "closures": []}, {"type": "class", "rank": "A", "lineno": 17, "name": "AIPromptModelTests", "complexity": 3, "col_offset": 0, "endline": 52, "methods": [{"type": "method", "rank": "A", "lineno": 20, "classname": "AIPromptModelTests", "name": "test_prompts_seeded", "complexity": 2, "col_offset": 4, "endline": 20, "closures": []}, {"type": "method", "rank": "A", "lineno": 24, "classname": "AIPromptModelTests", "name": "test_all_prompt_types_exist", "complexity": 3, "col_offset": 4, "endline": 39, "closures": []}, {"type": "method", "rank": "A", "lineno": 42, "classname": "AIPromptModelTests", "name": "test_get_prompt", "complexity": 2, "col_offset": 4, "endline": 42, "closures": []}, {"type": "method", "rank": "A", "lineno": 47, "classname": "AIPromptModelTests", "name": "test_get_prompt_not_found", "complexity": 1, "col_offset": 4, "endline": 50, "closures": []}, {"type": "method", "rank": "A", "lineno": 52, "classname": "AIPromptModelTests", "name": "test_format_user_prompt", "complexity": 3, "col_offset": 4, "endline": 52, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 24, "classname": "AIPromptModelTests", "name": "test_all_prompt_types_exist", "complexity": 3, "col_offset": 4, "endline": 39, "closures": []}, {"type": "method", "rank": "A", "lineno": 52, "classname": "AIPromptModelTests", "name": "test_format_user_prompt", "complexity": 3, "col_offset": 4, "endline": 52, "closures": []}, {"type": "method", "rank": "A", "lineno": 219, "classname": "AIAPITests", "name": "test_models_endpoint_no_api_key", "complexity": 3, "col_offset": 4, "endline": 219, "closures": []}, {"type": "method", "rank": "A", "lineno": 242, "classname": "AIAPITests", "name": "test_prompts_endpoint", "complexity": 3, "col_offset": 4, "endline": 242, "closures": []}, {"type": "method", "rank": "A", "lineno": 308, "classname": "AIAPITests", "name": "test_save_api_key_invalidates_cache", "complexity": 3, "col_offset": 4, "endline": 308, "closures": []}, {"type": "method", "rank": "A", "lineno": 396, "classname": "OpenRouterServiceTests", "name": "test_validate_key_cached_no_key", "complexity": 3, "col_offset": 4, "endline": 396, "closures": []}, {"type": "method", "rank": "A", "lineno": 403, "classname": "OpenRouterServiceTests", "name": "test_invalidate_key_cache", "complexity": 3, "col_offset": 4, "endline": 403, "closures": []}, {"type": "method", "rank": "A", "lineno": 516, "classname": "OpenRouterServiceTests", "name": "test_test_connection_success", "complexity": 3, "col_offset": 4, "endline": 516, "closures": []}, {"type": "method", "rank": "A", "lineno": 530, "classname": "OpenRouterServiceTests", "name": "test_test_connection_no_key", "complexity": 3, "col_offset": 4, "endline": 530, "closures": []}, {"type": "class", "rank": "A", "lineno": 564, "name": "OpenRouterServiceAsyncTests", "complexity": 3, "col_offset": 0, "endline": 568, "methods": [{"type": "method", "rank": "A", "lineno": 568, "classname": "OpenRouterServiceAsyncTests", "name": "test_complete_async_success", "complexity": 2, "col_offset": 4, "endline": 568, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 593, "name": "TimerNamingServiceTests", "complexity": 3, "col_offset": 0, "endline": 627, "methods": [{"type": "method", "rank": "A", "lineno": 597, "classname": "TimerNamingServiceTests", "name": "test_generate_timer_name_success", "complexity": 2, "col_offset": 4, "endline": 608, "closures": []}, {"type": "method", "rank": "A", "lineno": 611, "classname": "TimerNamingServiceTests", "name": "test_generate_timer_name_truncates_long_labels", "complexity": 3, "col_offset": 4, "endline": 611, "closures": []}, {"type": "method", "rank": "A", "lineno": 627, "classname": "TimerNamingServiceTests", "name": "test_generate_timer_name_formats_duration", "complexity": 2, "col_offset": 4, "endline": 627, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 611, "classname": "TimerNamingServiceTests", "name": "test_generate_timer_name_truncates_long_labels", "complexity": 3, "col_offset": 4, "endline": 611, "closures": []}, {"type": "method", "rank": "A", "lineno": 648, "classname": "TimerNamingAPITests", "name": "test_timer_name_endpoint_success", "complexity": 3, "col_offset": 4, "endline": 648, "closures": []}, {"type": "method", "rank": "A", "lineno": 662, "classname": "TimerNamingAPITests", "name": "test_timer_name_endpoint_missing_step_text", "complexity": 3, "col_offset": 4, "endline": 662, "closures": []}, {"type": "method", "rank": "A", "lineno": 674, "classname": "TimerNamingAPITests", "name": "test_timer_name_endpoint_invalid_duration", "complexity": 3, "col_offset": 4, "endline": 674, "closures": []}, {"type": "method", "rank": "A", "lineno": 687, "classname": "TimerNamingAPITests", "name": "test_timer_name_endpoint_ai_unavailable", "complexity": 3, "col_offset": 4, "endline": 687, "closures": []}, {"type": "method", "rank": "A", "lineno": 909, "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_source_not_found", "complexity": 3, "col_offset": 4, "endline": 909, "closures": []}, {"type": "method", "rank": "A", "lineno": 924, "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_empty_html", "complexity": 3, "col_offset": 4, "endline": 924, "closures": []}, {"type": "method", "rank": "A", "lineno": 940, "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_ai_unavailable", "complexity": 3, "col_offset": 4, "endline": 940, "closures": []}, {"type": "method", "rank": "A", "lineno": 1003, "classname": "SelectorRepairAPITests", "name": "test_sources_needing_attention_endpoint_empty", "complexity": 3, "col_offset": 4, "endline": 1003, "closures": []}, {"type": "method", "rank": "A", "lineno": 1085, "classname": "AIFeatureFallbackTests", "name": "test_remix_suggestions_returns_503_when_ai_unavailable", "complexity": 3, "col_offset": 4, "endline": 1085, "closures": []}, {"type": "method", "rank": "A", "lineno": 1100, "classname": "AIFeatureFallbackTests", "name": "test_scale_returns_503_when_ai_unavailable", "complexity": 3, "col_offset": 4, "endline": 1100, "closures": []}, {"type": "method", "rank": "A", "lineno": 1119, "classname": "AIFeatureFallbackTests", "name": "test_discover_returns_503_when_ai_unavailable", "complexity": 3, "col_offset": 4, "endline": 1119, "closures": []}, {"type": "method", "rank": "A", "lineno": 1147, "classname": "AIFeatureFallbackTests", "name": "test_models_endpoint_returns_empty_list_without_key", "complexity": 3, "col_offset": 4, "endline": 1147, "closures": []}, {"type": "method", "rank": "A", "lineno": 1159, "classname": "AIFeatureFallbackTests", "name": "test_timer_name_returns_503_when_ai_unavailable", "complexity": 3, "col_offset": 4, "endline": 1159, "closures": []}, {"type": "class", "rank": "A", "lineno": 1174, "name": "AIResponseErrorTests", "complexity": 3, "col_offset": 0, "endline": 1241, "methods": [{"type": "method", "rank": "A", "lineno": 1177, "classname": "AIResponseErrorTests", "name": "setUp", "complexity": 1, "col_offset": 4, "endline": 1189, "closures": []}, {"type": "method", "rank": "A", "lineno": 1192, "classname": "AIResponseErrorTests", "name": "test_tips_returns_400_on_ai_error", "complexity": 3, "col_offset": 4, "endline": 1192, "closures": []}, {"type": "method", "rank": "A", "lineno": 1207, "classname": "AIResponseErrorTests", "name": "test_tips_returns_400_on_validation_error", "complexity": 3, "col_offset": 4, "endline": 1207, "closures": []}, {"type": "method", "rank": "A", "lineno": 1222, "classname": "AIResponseErrorTests", "name": "test_remix_returns_400_on_ai_error", "complexity": 3, "col_offset": 4, "endline": 1222, "closures": []}, {"type": "method", "rank": "A", "lineno": 1241, "classname": "AIResponseErrorTests", "name": "test_repair_selector_returns_400_on_validation_error", "complexity": 3, "col_offset": 4, "endline": 1241, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 1192, "classname": "AIResponseErrorTests", "name": "test_tips_returns_400_on_ai_error", "complexity": 3, "col_offset": 4, "endline": 1192, "closures": []}, {"type": "method", "rank": "A", "lineno": 1207, "classname": "AIResponseErrorTests", "name": "test_tips_returns_400_on_validation_error", "complexity": 3, "col_offset": 4, "endline": 1207, "closures": []}, {"type": "method", "rank": "A", "lineno": 1222, "classname": "AIResponseErrorTests", "name": "test_remix_returns_400_on_ai_error", "complexity": 3, "col_offset": 4, "endline": 1222, "closures": []}, {"type": "method", "rank": "A", "lineno": 1241, "classname": "AIResponseErrorTests", "name": "test_repair_selector_returns_400_on_validation_error", "complexity": 3, "col_offset": 4, "endline": 1241, "closures": []}, {"type": "method", "rank": "A", "lineno": 20, "classname": "AIPromptModelTests", "name": "test_prompts_seeded", "complexity": 2, "col_offset": 4, "endline": 20, "closures": []}, {"type": "method", "rank": "A", "lineno": 42, "classname": "AIPromptModelTests", "name": "test_get_prompt", "complexity": 2, "col_offset": 4, "endline": 42, "closures": []}, {"type": "class", "rank": "A", "lineno": 63, "name": "AIResponseValidatorTests", "complexity": 2, "col_offset": 0, "endline": 147, "methods": [{"type": "method", "rank": "A", "lineno": 66, "classname": "AIResponseValidatorTests", "name": "setUp", "complexity": 1, "col_offset": 4, "endline": 67, "closures": []}, {"type": "method", "rank": "A", "lineno": 69, "classname": "AIResponseValidatorTests", "name": "test_validate_recipe_remix_valid", "complexity": 2, "col_offset": 4, "endline": 69, "closures": []}, {"type": "method", "rank": "A", "lineno": 80, "classname": "AIResponseValidatorTests", "name": "test_validate_recipe_remix_missing_field", "complexity": 2, "col_offset": 4, "endline": 80, "closures": []}, {"type": "method", "rank": "A", "lineno": 91, "classname": "AIResponseValidatorTests", "name": "test_validate_tips_generation_valid", "complexity": 2, "col_offset": 4, "endline": 91, "closures": []}, {"type": "method", "rank": "A", "lineno": 97, "classname": "AIResponseValidatorTests", "name": "test_validate_tips_generation_too_few", "complexity": 2, "col_offset": 4, "endline": 97, "closures": []}, {"type": "method", "rank": "A", "lineno": 104, "classname": "AIResponseValidatorTests", "name": "test_validate_remix_suggestions_valid", "complexity": 2, "col_offset": 4, "endline": 104, "closures": []}, {"type": "method", "rank": "A", "lineno": 111, "classname": "AIResponseValidatorTests", "name": "test_validate_remix_suggestions_wrong_count", "complexity": 1, "col_offset": 4, "endline": 115, "closures": []}, {"type": "method", "rank": "A", "lineno": 117, "classname": "AIResponseValidatorTests", "name": "test_validate_timer_naming_valid", "complexity": 2, "col_offset": 4, "endline": 117, "closures": []}, {"type": "method", "rank": "A", "lineno": 123, "classname": "AIResponseValidatorTests", "name": "test_validate_search_ranking_valid", "complexity": 2, "col_offset": 4, "endline": 123, "closures": []}, {"type": "method", "rank": "A", "lineno": 129, "classname": "AIResponseValidatorTests", "name": "test_validate_selector_repair_valid", "complexity": 2, "col_offset": 4, "endline": 129, "closures": []}, {"type": "method", "rank": "A", "lineno": 138, "classname": "AIResponseValidatorTests", "name": "test_validate_unknown_prompt_type", "complexity": 2, "col_offset": 4, "endline": 138, "closures": []}, {"type": "method", "rank": "A", "lineno": 144, "classname": "AIResponseValidatorTests", "name": "test_validate_wrong_type", "complexity": 1, "col_offset": 4, "endline": 147, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 69, "classname": "AIResponseValidatorTests", "name": "test_validate_recipe_remix_valid", "complexity": 2, "col_offset": 4, "endline": 69, "closures": []}, {"type": "method", "rank": "A", "lineno": 80, "classname": "AIResponseValidatorTests", "name": "test_validate_recipe_remix_missing_field", "complexity": 2, "col_offset": 4, "endline": 80, "closures": []}, {"type": "method", "rank": "A", "lineno": 91, "classname": "AIResponseValidatorTests", "name": "test_validate_tips_generation_valid", "complexity": 2, "col_offset": 4, "endline": 91, "closures": []}, {"type": "method", "rank": "A", "lineno": 97, "classname": "AIResponseValidatorTests", "name": "test_validate_tips_generation_too_few", "complexity": 2, "col_offset": 4, "endline": 97, "closures": []}, {"type": "method", "rank": "A", "lineno": 104, "classname": "AIResponseValidatorTests", "name": "test_validate_remix_suggestions_valid", "complexity": 2, "col_offset": 4, "endline": 104, "closures": []}, {"type": "method", "rank": "A", "lineno": 117, "classname": "AIResponseValidatorTests", "name": "test_validate_timer_naming_valid", "complexity": 2, "col_offset": 4, "endline": 117, "closures": []}, {"type": "method", "rank": "A", "lineno": 123, "classname": "AIResponseValidatorTests", "name": "test_validate_search_ranking_valid", "complexity": 2, "col_offset": 4, "endline": 123, "closures": []}, {"type": "method", "rank": "A", "lineno": 129, "classname": "AIResponseValidatorTests", "name": "test_validate_selector_repair_valid", "complexity": 2, "col_offset": 4, "endline": 129, "closures": []}, {"type": "method", "rank": "A", "lineno": 138, "classname": "AIResponseValidatorTests", "name": "test_validate_unknown_prompt_type", "complexity": 2, "col_offset": 4, "endline": 138, "closures": []}, {"type": "method", "rank": "A", "lineno": 257, "classname": "AIAPITests", "name": "test_get_prompt_not_found", "complexity": 2, "col_offset": 4, "endline": 257, "closures": []}, {"type": "method", "rank": "A", "lineno": 298, "classname": "AIAPITests", "name": "test_test_api_key_empty", "complexity": 2, "col_offset": 4, "endline": 298, "closures": []}, {"type": "method", "rank": "A", "lineno": 329, "classname": "OpenRouterServiceTests", "name": "test_init_requires_api_key", "complexity": 2, "col_offset": 4, "endline": 329, "closures": []}, {"type": "method", "rank": "A", "lineno": 340, "classname": "OpenRouterServiceTests", "name": "test_init_with_explicit_key", "complexity": 2, "col_offset": 4, "endline": 340, "closures": []}, {"type": "method", "rank": "A", "lineno": 345, "classname": "OpenRouterServiceTests", "name": "test_is_available_without_key", "complexity": 2, "col_offset": 4, "endline": 345, "closures": []}, {"type": "method", "rank": "A", "lineno": 353, "classname": "OpenRouterServiceTests", "name": "test_is_available_with_key", "complexity": 2, "col_offset": 4, "endline": 353, "closures": []}, {"type": "method", "rank": "A", "lineno": 412, "classname": "OpenRouterServiceTests", "name": "test_complete_success", "complexity": 2, "col_offset": 4, "endline": 432, "closures": []}, {"type": "method", "rank": "A", "lineno": 435, "classname": "OpenRouterServiceTests", "name": "test_complete_handles_code_block_json", "complexity": 2, "col_offset": 4, "endline": 435, "closures": []}, {"type": "method", "rank": "A", "lineno": 457, "classname": "OpenRouterServiceTests", "name": "test_complete_invalid_json", "complexity": 2, "col_offset": 4, "endline": 457, "closures": []}, {"type": "method", "rank": "A", "lineno": 477, "classname": "OpenRouterServiceTests", "name": "test_complete_no_choices", "complexity": 2, "col_offset": 4, "endline": 477, "closures": []}, {"type": "method", "rank": "A", "lineno": 496, "classname": "OpenRouterServiceTests", "name": "test_complete_raw_text_response", "complexity": 2, "col_offset": 4, "endline": 496, "closures": []}, {"type": "method", "rank": "A", "lineno": 568, "classname": "OpenRouterServiceAsyncTests", "name": "test_complete_async_success", "complexity": 2, "col_offset": 4, "endline": 568, "closures": []}, {"type": "method", "rank": "A", "lineno": 597, "classname": "TimerNamingServiceTests", "name": "test_generate_timer_name_success", "complexity": 2, "col_offset": 4, "endline": 608, "closures": []}, {"type": "method", "rank": "A", "lineno": 627, "classname": "TimerNamingServiceTests", "name": "test_generate_timer_name_formats_duration", "complexity": 2, "col_offset": 4, "endline": 627, "closures": []}, {"type": "method", "rank": "A", "lineno": 804, "classname": "SelectorRepairServiceTests", "name": "test_repair_selector_truncates_html", "complexity": 2, "col_offset": 4, "endline": 804, "closures": []}, {"type": "method", "rank": "A", "lineno": 47, "classname": "AIPromptModelTests", "name": "test_get_prompt_not_found", "complexity": 1, "col_offset": 4, "endline": 50, "closures": []}, {"type": "method", "rank": "A", "lineno": 66, "classname": "AIResponseValidatorTests", "name": "setUp", "complexity": 1, "col_offset": 4, "endline": 67, "closures": []}, {"type": "method", "rank": "A", "lineno": 111, "classname": "AIResponseValidatorTests", "name": "test_validate_remix_suggestions_wrong_count", "complexity": 1, "col_offset": 4, "endline": 115, "closures": []}, {"type": "method", "rank": "A", "lineno": 144, "classname": "AIResponseValidatorTests", "name": "test_validate_wrong_type", "complexity": 1, "col_offset": 4, "endline": 147, "closures": []}, {"type": "method", "rank": "A", "lineno": 705, "classname": "SelectorRepairServiceTests", "name": "setUp", "complexity": 1, "col_offset": 4, "endline": 715, "closures": []}, {"type": "method", "rank": "A", "lineno": 870, "classname": "SelectorRepairAPITests", "name": "setUp", "complexity": 1, "col_offset": 4, "endline": 879, "closures": []}, {"type": "method", "rank": "A", "lineno": 1022, "classname": "AIFeatureFallbackTests", "name": "setUp", "complexity": 1, "col_offset": 4, "endline": 1036, "closures": []}, {"type": "method", "rank": "A", "lineno": 1130, "classname": "AIFeatureFallbackTests", "name": "test_tips_service_raises_when_no_key", "complexity": 1, "col_offset": 4, "endline": 1136, "closures": []}, {"type": "method", "rank": "A", "lineno": 1139, "classname": "AIFeatureFallbackTests", "name": "test_remix_service_raises_when_no_key", "complexity": 1, "col_offset": 4, "endline": 1145, "closures": []}, {"type": "method", "rank": "A", "lineno": 1177, "classname": "AIResponseErrorTests", "name": "setUp", "complexity": 1, "col_offset": 4, "endline": 1189, "closures": []}], "apps/ai/models.py": [{"type": "class", "rank": "A", "lineno": 4, "name": "AIDiscoverySuggestion", "complexity": 2, "col_offset": 0, "endline": 46, "methods": [{"type": "method", "rank": "A", "lineno": 45, "classname": "AIDiscoverySuggestion", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 46, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 49, "name": "AIPrompt", "complexity": 2, "col_offset": 0, "endline": 130, "methods": [{"type": "method", "rank": "A", "lineno": 120, "classname": "AIPrompt", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 121, "closures": []}, {"type": "method", "rank": "A", "lineno": 123, "classname": "AIPrompt", "name": "format_user_prompt", "complexity": 1, "col_offset": 4, "endline": 125, "closures": []}, {"type": "method", "rank": "A", "lineno": 128, "classname": "AIPrompt", "name": "get_prompt", "complexity": 1, "col_offset": 4, "endline": 130, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 45, "classname": "AIDiscoverySuggestion", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 46, "closures": []}, {"type": "method", "rank": "A", "lineno": 120, "classname": "AIPrompt", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 121, "closures": []}, {"type": "method", "rank": "A", "lineno": 123, "classname": "AIPrompt", "name": "format_user_prompt", "complexity": 1, "col_offset": 4, "endline": 125, "closures": []}, {"type": "method", "rank": "A", "lineno": 128, "classname": "AIPrompt", "name": "get_prompt", "complexity": 1, "col_offset": 4, "endline": 130, "closures": []}], "apps/ai/services/remix.py": [{"type": "function", "rank": "B", "lineno": 64, "name": "create_remix", "complexity": 10, "col_offset": 0, "endline": 184, "closures": []}, {"type": "function", "rank": "B", "lineno": 187, "name": "estimate_nutrition", "complexity": 9, "col_offset": 0, "endline": 250, "closures": []}, {"type": "function", "rank": "A", "lineno": 253, "name": "_parse_time", "complexity": 5, "col_offset": 0, "endline": 274, "closures": []}, {"type": "function", "rank": "A", "lineno": 17, "name": "get_remix_suggestions", "complexity": 4, "col_offset": 0, "endline": 61, "closures": []}, {"type": "function", "rank": "A", "lineno": 277, "name": "_parse_servings", "complexity": 3, "col_offset": 0, "endline": 287, "closures": []}, {"type": "function", "rank": "A", "lineno": 290, "name": "_generate_tips_background", "complexity": 3, "col_offset": 0, "endline": 311, "closures": []}], "apps/ai/services/tips.py": [{"type": "function", "rank": "B", "lineno": 14, "name": "generate_tips", "complexity": 7, "col_offset": 0, "endline": 84, "closures": []}, {"type": "function", "rank": "A", "lineno": 88, "name": "clear_tips", "complexity": 2, "col_offset": 0, "endline": 108, "closures": []}], "apps/ai/services/timer.py": [{"type": "function", "rank": "B", "lineno": 12, "name": "generate_timer_name", "complexity": 8, "col_offset": 0, "endline": 68, "closures": []}], "apps/ai/services/selector.py": [{"type": "function", "rank": "A", "lineno": 18, "name": "repair_selector", "complexity": 5, "col_offset": 0, "endline": 110, "closures": []}, {"type": "function", "rank": "A", "lineno": 125, "name": "repair_all_broken_selectors", "complexity": 5, "col_offset": 0, "endline": 178, "closures": []}, {"type": "function", "rank": "A", "lineno": 113, "name": "get_sources_needing_attention", "complexity": 1, "col_offset": 0, "endline": 121, "closures": []}], "apps/ai/services/validator.py": [{"type": "method", "rank": "E", "lineno": 163, "classname": "AIResponseValidator", "name": "_validate_value", "complexity": 40, "col_offset": 4, "endline": 260, "closures": []}, {"type": "class", "rank": "C", "lineno": 133, "name": "AIResponseValidator", "complexity": 16, "col_offset": 0, "endline": 264, "methods": [{"type": "method", "rank": "A", "lineno": 136, "classname": "AIResponseValidator", "name": "validate", "complexity": 3, "col_offset": 4, "endline": 161, "closures": []}, {"type": "method", "rank": "E", "lineno": 163, "classname": "AIResponseValidator", "name": "_validate_value", "complexity": 40, "col_offset": 4, "endline": 260, "closures": []}, {"type": "method", "rank": "A", "lineno": 262, "classname": "AIResponseValidator", "name": "get_schema", "complexity": 1, "col_offset": 4, "endline": 264, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 6, "name": "ValidationError", "complexity": 3, "col_offset": 0, "endline": 11, "methods": [{"type": "method", "rank": "A", "lineno": 9, "classname": "ValidationError", "name": "__init__", "complexity": 2, "col_offset": 4, "endline": 11, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 136, "classname": "AIResponseValidator", "name": "validate", "complexity": 3, "col_offset": 4, "endline": 161, "closures": []}, {"type": "method", "rank": "A", "lineno": 9, "classname": "ValidationError", "name": "__init__", "complexity": 2, "col_offset": 4, "endline": 11, "closures": []}, {"type": "method", "rank": "A", "lineno": 262, "classname": "AIResponseValidator", "name": "get_schema", "complexity": 1, "col_offset": 4, "endline": 264, "closures": []}], "apps/ai/services/ranking.py": [{"type": "function", "rank": "C", "lineno": 43, "name": "rank_results", "complexity": 12, "col_offset": 0, "endline": 131, "closures": []}, {"type": "function", "rank": "B", "lineno": 134, "name": "_apply_ranking", "complexity": 7, "col_offset": 0, "endline": 162, "closures": []}, {"type": "function", "rank": "A", "lineno": 24, "name": "_filter_valid", "complexity": 3, "col_offset": 0, "endline": 30, "closures": []}, {"type": "function", "rank": "A", "lineno": 15, "name": "is_ranking_available", "complexity": 2, "col_offset": 0, "endline": 21, "closures": []}, {"type": "function", "rank": "A", "lineno": 33, "name": "_sort_by_image", "complexity": 2, "col_offset": 0, "endline": 40, "closures": []}], "apps/ai/services/openrouter.py": [{"type": "method", "rank": "C", "lineno": 52, "classname": "OpenRouterService", "name": "complete", "complexity": 12, "col_offset": 4, "endline": 125, "closures": []}, {"type": "method", "rank": "C", "lineno": 127, "classname": "OpenRouterService", "name": "complete_async", "complexity": 12, "col_offset": 4, "endline": 194, "closures": []}, {"type": "method", "rank": "B", "lineno": 202, "classname": "OpenRouterService", "name": "get_available_models", "complexity": 8, "col_offset": 4, "endline": 228, "closures": []}, {"type": "method", "rank": "B", "lineno": 258, "classname": "OpenRouterService", "name": "validate_key_cached", "complexity": 8, "col_offset": 4, "endline": 290, "closures": []}, {"type": "class", "rank": "B", "lineno": 30, "name": "OpenRouterService", "complexity": 7, "col_offset": 0, "endline": 295, "methods": [{"type": "method", "rank": "A", "lineno": 37, "classname": "OpenRouterService", "name": "__init__", "complexity": 3, "col_offset": 4, "endline": 50, "closures": []}, {"type": "method", "rank": "C", "lineno": 52, "classname": "OpenRouterService", "name": "complete", "complexity": 12, "col_offset": 4, "endline": 125, "closures": []}, {"type": "method", "rank": "C", "lineno": 127, "classname": "OpenRouterService", "name": "complete_async", "complexity": 12, "col_offset": 4, "endline": 194, "closures": []}, {"type": "method", "rank": "A", "lineno": 197, "classname": "OpenRouterService", "name": "is_available", "complexity": 1, "col_offset": 4, "endline": 200, "closures": []}, {"type": "method", "rank": "B", "lineno": 202, "classname": "OpenRouterService", "name": "get_available_models", "complexity": 8, "col_offset": 4, "endline": 228, "closures": []}, {"type": "method", "rank": "A", "lineno": 231, "classname": "OpenRouterService", "name": "test_connection", "complexity": 4, "col_offset": 4, "endline": 255, "closures": []}, {"type": "method", "rank": "B", "lineno": 258, "classname": "OpenRouterService", "name": "validate_key_cached", "complexity": 8, "col_offset": 4, "endline": 290, "closures": []}, {"type": "method", "rank": "A", "lineno": 293, "classname": "OpenRouterService", "name": "invalidate_key_cache", "complexity": 1, "col_offset": 4, "endline": 295, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 231, "classname": "OpenRouterService", "name": "test_connection", "complexity": 4, "col_offset": 4, "endline": 255, "closures": []}, {"type": "method", "rank": "A", "lineno": 37, "classname": "OpenRouterService", "name": "__init__", "complexity": 3, "col_offset": 4, "endline": 50, "closures": []}, {"type": "class", "rank": "A", "lineno": 15, "name": "AIServiceError", "complexity": 1, "col_offset": 0, "endline": 17, "methods": []}, {"type": "class", "rank": "A", "lineno": 20, "name": "AIUnavailableError", "complexity": 1, "col_offset": 0, "endline": 22, "methods": []}, {"type": "class", "rank": "A", "lineno": 25, "name": "AIResponseError", "complexity": 1, "col_offset": 0, "endline": 27, "methods": []}, {"type": "method", "rank": "A", "lineno": 197, "classname": "OpenRouterService", "name": "is_available", "complexity": 1, "col_offset": 4, "endline": 200, "closures": []}, {"type": "method", "rank": "A", "lineno": 293, "classname": "OpenRouterService", "name": "invalidate_key_cache", "complexity": 1, "col_offset": 4, "endline": 295, "closures": []}], "apps/ai/services/scaling.py": [{"type": "function", "rank": "C", "lineno": 56, "name": "scale_recipe", "complexity": 12, "col_offset": 0, "endline": 185, "closures": []}, {"type": "function", "rank": "B", "lineno": 189, "name": "calculate_nutrition", "complexity": 7, "col_offset": 0, "endline": 240, "closures": []}, {"type": "function", "rank": "B", "lineno": 43, "name": "_format_time", "complexity": 6, "col_offset": 0, "endline": 53, "closures": []}, {"type": "function", "rank": "A", "lineno": 17, "name": "_parse_time", "complexity": 5, "col_offset": 0, "endline": 40, "closures": []}], "apps/ai/services/discover.py": [{"type": "function", "rank": "B", "lineno": 163, "name": "_generate_recommended_suggestions", "complexity": 8, "col_offset": 0, "endline": 213, "closures": []}, {"type": "function", "rank": "B", "lineno": 216, "name": "_generate_new_suggestions", "complexity": 8, "col_offset": 0, "endline": 265, "closures": []}, {"type": "function", "rank": "A", "lineno": 86, "name": "_format_suggestions", "complexity": 5, "col_offset": 0, "endline": 109, "closures": []}, {"type": "function", "rank": "A", "lineno": 22, "name": "get_discover_suggestions", "complexity": 4, "col_offset": 0, "endline": 83, "closures": []}, {"type": "function", "rank": "A", "lineno": 113, "name": "_generate_seasonal_suggestions", "complexity": 4, "col_offset": 0, "endline": 160, "closures": []}, {"type": "function", "rank": "A", "lineno": 268, "name": "_get_season", "complexity": 4, "col_offset": 0, "endline": 278, "closures": []}], "apps/ai/migrations/0008_update_serving_adjustment_indivisible.py": [{"type": "function", "rank": "A", "lineno": 6, "name": "update_prompt", "complexity": 2, "col_offset": 0, "endline": 64, "closures": []}, {"type": "function", "rank": "A", "lineno": 67, "name": "revert_prompt", "complexity": 2, "col_offset": 0, "endline": 117, "closures": []}, {"type": "class", "rank": "A", "lineno": 120, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 126, "methods": []}], "apps/ai/migrations/0009_fix_discover_prompts.py": [{"type": "function", "rank": "A", "lineno": 121, "name": "update_discover_prompts", "complexity": 3, "col_offset": 0, "endline": 137, "closures": []}, {"type": "function", "rank": "A", "lineno": 140, "name": "reverse_update", "complexity": 3, "col_offset": 0, "endline": 156, "closures": []}, {"type": "class", "rank": "A", "lineno": 159, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 166, "methods": []}], "apps/ai/migrations/0001_initial.py": [{"type": "class", "rank": "A", "lineno": 6, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 31, "methods": []}], "apps/ai/migrations/0005_update_serving_adjustment_v2.py": [{"type": "function", "rank": "A", "lineno": 6, "name": "update_prompt", "complexity": 2, "col_offset": 0, "endline": 73, "closures": []}, {"type": "function", "rank": "A", "lineno": 76, "name": "revert_prompt", "complexity": 2, "col_offset": 0, "endline": 116, "closures": []}, {"type": "class", "rank": "A", "lineno": 119, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 125, "methods": []}], "apps/ai/migrations/0007_update_search_ranking_prompt.py": [{"type": "function", "rank": "A", "lineno": 6, "name": "update_search_ranking_prompt", "complexity": 2, "col_offset": 0, "endline": 27, "closures": []}, {"type": "function", "rank": "A", "lineno": 30, "name": "reverse_update", "complexity": 2, "col_offset": 0, "endline": 51, "closures": []}, {"type": "class", "rank": "A", "lineno": 54, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 61, "methods": []}], "apps/ai/migrations/0003_nutrition_estimate_prompt.py": [{"type": "function", "rank": "A", "lineno": 6, "name": "add_nutrition_prompt", "complexity": 1, "col_offset": 0, "endline": 52, "closures": []}, {"type": "function", "rank": "A", "lineno": 56, "name": "remove_nutrition_prompt", "complexity": 1, "col_offset": 0, "endline": 59, "closures": []}, {"type": "class", "rank": "A", "lineno": 62, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 68, "methods": []}], "apps/ai/migrations/0006_add_ai_discovery_suggestion.py": [{"type": "class", "rank": "A", "lineno": 7, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 35, "methods": []}], "apps/ai/migrations/0002_seed_prompts.py": [{"type": "function", "rank": "A", "lineno": 6, "name": "seed_prompts", "complexity": 2, "col_offset": 0, "endline": 291, "closures": []}, {"type": "function", "rank": "A", "lineno": 294, "name": "remove_prompts", "complexity": 1, "col_offset": 0, "endline": 297, "closures": []}, {"type": "class", "rank": "A", "lineno": 300, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 306, "methods": []}], "apps/ai/migrations/0004_update_serving_adjustment_prompt.py": [{"type": "function", "rank": "A", "lineno": 6, "name": "update_prompt", "complexity": 2, "col_offset": 0, "endline": 46, "closures": []}, {"type": "function", "rank": "A", "lineno": 49, "name": "revert_prompt", "complexity": 2, "col_offset": 0, "endline": 78, "closures": []}, {"type": "class", "rank": "A", "lineno": 81, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 87, "methods": []}], "apps/recipes/utils.py": [{"type": "function", "rank": "C", "lineno": 59, "name": "decimal_to_fraction", "complexity": 14, "col_offset": 0, "endline": 111, "closures": []}, {"type": "function", "rank": "B", "lineno": 114, "name": "tidy_ingredient", "complexity": 7, "col_offset": 0, "endline": 169, "closures": []}, {"type": "function", "rank": "A", "lineno": 172, "name": "tidy_quantities", "complexity": 2, "col_offset": 0, "endline": 181, "closures": []}], "apps/recipes/api_user.py": [{"type": "function", "rank": "A", "lineno": 210, "name": "add_recipe_to_collection", "complexity": 3, "col_offset": 0, "endline": 230, "closures": []}, {"type": "function", "rank": "A", "lineno": 57, "name": "add_favorite", "complexity": 2, "col_offset": 0, "endline": 66, "closures": []}, {"type": "function", "rank": "A", "lineno": 156, "name": "create_collection", "complexity": 2, "col_offset": 0, "endline": 168, "closures": []}, {"type": "function", "rank": "A", "lineno": 182, "name": "update_collection", "complexity": 2, "col_offset": 0, "endline": 195, "closures": []}, {"type": "function", "rank": "A", "lineno": 282, "name": "record_view", "complexity": 2, "col_offset": 0, "endline": 298, "closures": []}, {"type": "class", "rank": "A", "lineno": 36, "name": "FavoriteOut", "complexity": 2, "col_offset": 0, "endline": 42, "methods": [{"type": "method", "rank": "A", "lineno": 41, "classname": "FavoriteOut", "name": "resolve_created_at", "complexity": 1, "col_offset": 4, "endline": 42, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 96, "name": "CollectionItemOut", "complexity": 2, "col_offset": 0, "endline": 103, "methods": [{"type": "method", "rank": "A", "lineno": 102, "classname": "CollectionItemOut", "name": "resolve_added_at", "complexity": 1, "col_offset": 4, "endline": 103, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 106, "name": "CollectionOut", "complexity": 2, "col_offset": 0, "endline": 124, "methods": [{"type": "method", "rank": "A", "lineno": 115, "classname": "CollectionOut", "name": "resolve_recipe_count", "complexity": 1, "col_offset": 4, "endline": 116, "closures": []}, {"type": "method", "rank": "A", "lineno": 119, "classname": "CollectionOut", "name": "resolve_created_at", "complexity": 1, "col_offset": 4, "endline": 120, "closures": []}, {"type": "method", "rank": "A", "lineno": 123, "classname": "CollectionOut", "name": "resolve_updated_at", "complexity": 1, "col_offset": 4, "endline": 124, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 127, "name": "CollectionDetailOut", "complexity": 2, "col_offset": 0, "endline": 145, "methods": [{"type": "method", "rank": "A", "lineno": 136, "classname": "CollectionDetailOut", "name": "resolve_recipes", "complexity": 1, "col_offset": 4, "endline": 137, "closures": []}, {"type": "method", "rank": "A", "lineno": 140, "classname": "CollectionDetailOut", "name": "resolve_created_at", "complexity": 1, "col_offset": 4, "endline": 141, "closures": []}, {"type": "method", "rank": "A", "lineno": 144, "classname": "CollectionDetailOut", "name": "resolve_updated_at", "complexity": 1, "col_offset": 4, "endline": 145, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 258, "name": "HistoryOut", "complexity": 2, "col_offset": 0, "endline": 264, "methods": [{"type": "method", "rank": "A", "lineno": 263, "classname": "HistoryOut", "name": "resolve_viewed_at", "complexity": 1, "col_offset": 4, "endline": 264, "closures": []}]}, {"type": "function", "rank": "A", "lineno": 50, "name": "list_favorites", "complexity": 1, "col_offset": 0, "endline": 53, "closures": []}, {"type": "function", "rank": "A", "lineno": 70, "name": "remove_favorite", "complexity": 1, "col_offset": 0, "endline": 77, "closures": []}, {"type": "function", "rank": "A", "lineno": 149, "name": "list_collections", "complexity": 1, "col_offset": 0, "endline": 152, "closures": []}, {"type": "function", "rank": "A", "lineno": 172, "name": "get_collection", "complexity": 1, "col_offset": 0, "endline": 178, "closures": []}, {"type": "function", "rank": "A", "lineno": 199, "name": "delete_collection", "complexity": 1, "col_offset": 0, "endline": 206, "closures": []}, {"type": "function", "rank": "A", "lineno": 234, "name": "remove_recipe_from_collection", "complexity": 1, "col_offset": 0, "endline": 244, "closures": []}, {"type": "function", "rank": "A", "lineno": 268, "name": "list_history", "complexity": 1, "col_offset": 0, "endline": 277, "closures": []}, {"type": "function", "rank": "A", "lineno": 302, "name": "clear_history", "complexity": 1, "col_offset": 0, "endline": 306, "closures": []}, {"type": "class", "rank": "A", "lineno": 32, "name": "FavoriteIn", "complexity": 1, "col_offset": 0, "endline": 33, "methods": []}, {"type": "method", "rank": "A", "lineno": 41, "classname": "FavoriteOut", "name": "resolve_created_at", "complexity": 1, "col_offset": 4, "endline": 42, "closures": []}, {"type": "class", "rank": "A", "lineno": 45, "name": "ErrorOut", "complexity": 1, "col_offset": 0, "endline": 46, "methods": []}, {"type": "class", "rank": "A", "lineno": 87, "name": "CollectionIn", "complexity": 1, "col_offset": 0, "endline": 89, "methods": []}, {"type": "class", "rank": "A", "lineno": 92, "name": "CollectionItemIn", "complexity": 1, "col_offset": 0, "endline": 93, "methods": []}, {"type": "method", "rank": "A", "lineno": 102, "classname": "CollectionItemOut", "name": "resolve_added_at", "complexity": 1, "col_offset": 4, "endline": 103, "closures": []}, {"type": "method", "rank": "A", "lineno": 115, "classname": "CollectionOut", "name": "resolve_recipe_count", "complexity": 1, "col_offset": 4, "endline": 116, "closures": []}, {"type": "method", "rank": "A", "lineno": 119, "classname": "CollectionOut", "name": "resolve_created_at", "complexity": 1, "col_offset": 4, "endline": 120, "closures": []}, {"type": "method", "rank": "A", "lineno": 123, "classname": "CollectionOut", "name": "resolve_updated_at", "complexity": 1, "col_offset": 4, "endline": 124, "closures": []}, {"type": "method", "rank": "A", "lineno": 136, "classname": "CollectionDetailOut", "name": "resolve_recipes", "complexity": 1, "col_offset": 4, "endline": 137, "closures": []}, {"type": "method", "rank": "A", "lineno": 140, "classname": "CollectionDetailOut", "name": "resolve_created_at", "complexity": 1, "col_offset": 4, "endline": 141, "closures": []}, {"type": "method", "rank": "A", "lineno": 144, "classname": "CollectionDetailOut", "name": "resolve_updated_at", "complexity": 1, "col_offset": 4, "endline": 145, "closures": []}, {"type": "class", "rank": "A", "lineno": 254, "name": "HistoryIn", "complexity": 1, "col_offset": 0, "endline": 255, "methods": []}, {"type": "method", "rank": "A", "lineno": 263, "classname": "HistoryOut", "name": "resolve_viewed_at", "complexity": 1, "col_offset": 4, "endline": 264, "closures": []}], "apps/recipes/api.py": [{"type": "function", "rank": "B", "lineno": 195, "name": "search_recipes", "complexity": 10, "col_offset": 0, "endline": 261, "closures": [{"type": "function", "rank": "A", "lineno": 244, "name": "cache_in_background", "complexity": 2, "col_offset": 8, "endline": 255, "closures": []}]}, {"type": "function", "rank": "A", "lineno": 132, "name": "list_recipes", "complexity": 4, "col_offset": 0, "endline": 161, "closures": []}, {"type": "function", "rank": "A", "lineno": 165, "name": "scrape_recipe", "complexity": 4, "col_offset": 0, "endline": 191, "closures": []}, {"type": "class", "rank": "A", "lineno": 79, "name": "RecipeListOut", "complexity": 3, "col_offset": 0, "endline": 99, "methods": [{"type": "method", "rank": "A", "lineno": 92, "classname": "RecipeListOut", "name": "resolve_image", "complexity": 2, "col_offset": 4, "endline": 95, "closures": []}, {"type": "method", "rank": "A", "lineno": 98, "classname": "RecipeListOut", "name": "resolve_scraped_at", "complexity": 1, "col_offset": 4, "endline": 99, "closures": []}]}, {"type": "function", "rank": "A", "lineno": 265, "name": "cache_health", "complexity": 2, "col_offset": 0, "endline": 287, "closures": []}, {"type": "function", "rank": "A", "lineno": 295, "name": "get_recipe", "complexity": 2, "col_offset": 0, "endline": 307, "closures": []}, {"type": "function", "rank": "A", "lineno": 311, "name": "delete_recipe", "complexity": 2, "col_offset": 0, "endline": 324, "closures": []}, {"type": "class", "rank": "A", "lineno": 27, "name": "RecipeOut", "complexity": 2, "col_offset": 0, "endline": 76, "methods": [{"type": "method", "rank": "A", "lineno": 65, "classname": "RecipeOut", "name": "resolve_image", "complexity": 2, "col_offset": 4, "endline": 68, "closures": []}, {"type": "method", "rank": "A", "lineno": 71, "classname": "RecipeOut", "name": "resolve_scraped_at", "complexity": 1, "col_offset": 4, "endline": 72, "closures": []}, {"type": "method", "rank": "A", "lineno": 75, "classname": "RecipeOut", "name": "resolve_updated_at", "complexity": 1, "col_offset": 4, "endline": 76, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 65, "classname": "RecipeOut", "name": "resolve_image", "complexity": 2, "col_offset": 4, "endline": 68, "closures": []}, {"type": "method", "rank": "A", "lineno": 92, "classname": "RecipeListOut", "name": "resolve_image", "complexity": 2, "col_offset": 4, "endline": 95, "closures": []}, {"type": "method", "rank": "A", "lineno": 71, "classname": "RecipeOut", "name": "resolve_scraped_at", "complexity": 1, "col_offset": 4, "endline": 72, "closures": []}, {"type": "method", "rank": "A", "lineno": 75, "classname": "RecipeOut", "name": "resolve_updated_at", "complexity": 1, "col_offset": 4, "endline": 76, "closures": []}, {"type": "method", "rank": "A", "lineno": 98, "classname": "RecipeListOut", "name": "resolve_scraped_at", "complexity": 1, "col_offset": 4, "endline": 99, "closures": []}, {"type": "class", "rank": "A", "lineno": 102, "name": "ScrapeIn", "complexity": 1, "col_offset": 0, "endline": 103, "methods": []}, {"type": "class", "rank": "A", "lineno": 106, "name": "ErrorOut", "complexity": 1, "col_offset": 0, "endline": 107, "methods": []}, {"type": "class", "rank": "A", "lineno": 110, "name": "SearchResultOut", "complexity": 1, "col_offset": 0, "endline": 117, "methods": []}, {"type": "class", "rank": "A", "lineno": 120, "name": "SearchOut", "complexity": 1, "col_offset": 0, "endline": 125, "methods": []}], "apps/recipes/sources_api.py": [{"type": "function", "rank": "A", "lineno": 153, "name": "test_source", "complexity": 5, "col_offset": 0, "endline": 220, "closures": []}, {"type": "function", "rank": "A", "lineno": 225, "name": "test_all_sources", "complexity": 5, "col_offset": 0, "endline": 299, "closures": []}, {"type": "class", "rank": "A", "lineno": 19, "name": "SourceOut", "complexity": 3, "col_offset": 0, "endline": 35, "methods": [{"type": "method", "rank": "A", "lineno": 32, "classname": "SourceOut", "name": "resolve_last_validated_at", "complexity": 2, "col_offset": 4, "endline": 35, "closures": []}]}, {"type": "function", "rank": "A", "lineno": 94, "name": "get_source", "complexity": 2, "col_offset": 0, "endline": 102, "closures": []}, {"type": "function", "rank": "A", "lineno": 107, "name": "toggle_source", "complexity": 2, "col_offset": 0, "endline": 120, "closures": []}, {"type": "function", "rank": "A", "lineno": 135, "name": "update_selector", "complexity": 2, "col_offset": 0, "endline": 148, "closures": []}, {"type": "method", "rank": "A", "lineno": 32, "classname": "SourceOut", "name": "resolve_last_validated_at", "complexity": 2, "col_offset": 4, "endline": 35, "closures": []}, {"type": "function", "rank": "A", "lineno": 76, "name": "list_sources", "complexity": 1, "col_offset": 0, "endline": 79, "closures": []}, {"type": "function", "rank": "A", "lineno": 83, "name": "enabled_count", "complexity": 1, "col_offset": 0, "endline": 89, "closures": []}, {"type": "function", "rank": "A", "lineno": 125, "name": "bulk_toggle_sources", "complexity": 1, "col_offset": 0, "endline": 130, "closures": []}, {"type": "class", "rank": "A", "lineno": 38, "name": "SourceToggleOut", "complexity": 1, "col_offset": 0, "endline": 40, "methods": []}, {"type": "class", "rank": "A", "lineno": 43, "name": "SourceUpdateIn", "complexity": 1, "col_offset": 0, "endline": 44, "methods": []}, {"type": "class", "rank": "A", "lineno": 47, "name": "SourceUpdateOut", "complexity": 1, "col_offset": 0, "endline": 49, "methods": []}, {"type": "class", "rank": "A", "lineno": 52, "name": "SourceTestOut", "complexity": 1, "col_offset": 0, "endline": 56, "methods": []}, {"type": "class", "rank": "A", "lineno": 59, "name": "ErrorOut", "complexity": 1, "col_offset": 0, "endline": 61, "methods": []}, {"type": "class", "rank": "A", "lineno": 64, "name": "BulkToggleIn", "complexity": 1, "col_offset": 0, "endline": 65, "methods": []}, {"type": "class", "rank": "A", "lineno": 68, "name": "BulkToggleOut", "complexity": 1, "col_offset": 0, "endline": 70, "methods": []}], "apps/recipes/tests.py": [{"type": "class", "rank": "A", "lineno": 19, "name": "BaseTestCase", "complexity": 2, "col_offset": 0, "endline": 47, "methods": [{"type": "method", "rank": "A", "lineno": 22, "classname": "BaseTestCase", "name": "setUp", "complexity": 1, "col_offset": 4, "endline": 47, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 50, "name": "CollectionTests", "complexity": 2, "col_offset": 0, "endline": 245, "methods": [{"type": "method", "rank": "A", "lineno": 53, "classname": "CollectionTests", "name": "test_list_collections_empty", "complexity": 1, "col_offset": 4, "endline": 57, "closures": []}, {"type": "method", "rank": "A", "lineno": 59, "classname": "CollectionTests", "name": "test_create_collection", "complexity": 1, "col_offset": 4, "endline": 70, "closures": []}, {"type": "method", "rank": "A", "lineno": 72, "classname": "CollectionTests", "name": "test_create_collection_duplicate_name", "complexity": 1, "col_offset": 4, "endline": 83, "closures": []}, {"type": "method", "rank": "A", "lineno": 85, "classname": "CollectionTests", "name": "test_list_collections", "complexity": 1, "col_offset": 4, "endline": 93, "closures": []}, {"type": "method", "rank": "A", "lineno": 95, "classname": "CollectionTests", "name": "test_get_collection", "complexity": 1, "col_offset": 4, "endline": 113, "closures": []}, {"type": "method", "rank": "A", "lineno": 115, "classname": "CollectionTests", "name": "test_get_collection_not_found", "complexity": 1, "col_offset": 4, "endline": 118, "closures": []}, {"type": "method", "rank": "A", "lineno": 120, "classname": "CollectionTests", "name": "test_update_collection", "complexity": 1, "col_offset": 4, "endline": 135, "closures": []}, {"type": "method", "rank": "A", "lineno": 137, "classname": "CollectionTests", "name": "test_delete_collection", "complexity": 1, "col_offset": 4, "endline": 146, "closures": []}, {"type": "method", "rank": "A", "lineno": 148, "classname": "CollectionTests", "name": "test_add_recipe_to_collection", "complexity": 1, "col_offset": 4, "endline": 163, "closures": []}, {"type": "method", "rank": "A", "lineno": 165, "classname": "CollectionTests", "name": "test_add_recipe_to_collection_increments_order", "complexity": 1, "col_offset": 4, "endline": 184, "closures": []}, {"type": "method", "rank": "A", "lineno": 186, "classname": "CollectionTests", "name": "test_add_duplicate_recipe_to_collection", "complexity": 1, "col_offset": 4, "endline": 203, "closures": []}, {"type": "method", "rank": "A", "lineno": 205, "classname": "CollectionTests", "name": "test_remove_recipe_from_collection", "complexity": 1, "col_offset": 4, "endline": 223, "closures": []}, {"type": "method", "rank": "A", "lineno": 227, "classname": "CollectionTests", "name": "test_collection_isolation_between_profiles", "complexity": 1, "col_offset": 4, "endline": 245, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 248, "name": "FavoriteTests", "complexity": 2, "col_offset": 0, "endline": 326, "methods": [{"type": "method", "rank": "A", "lineno": 251, "classname": "FavoriteTests", "name": "test_list_favorites_empty", "complexity": 1, "col_offset": 4, "endline": 255, "closures": []}, {"type": "method", "rank": "A", "lineno": 257, "classname": "FavoriteTests", "name": "test_add_favorite", "complexity": 1, "col_offset": 4, "endline": 266, "closures": []}, {"type": "method", "rank": "A", "lineno": 268, "classname": "FavoriteTests", "name": "test_add_duplicate_favorite", "complexity": 1, "col_offset": 4, "endline": 280, "closures": []}, {"type": "method", "rank": "A", "lineno": 282, "classname": "FavoriteTests", "name": "test_list_favorites", "complexity": 1, "col_offset": 4, "endline": 290, "closures": []}, {"type": "method", "rank": "A", "lineno": 292, "classname": "FavoriteTests", "name": "test_remove_favorite", "complexity": 1, "col_offset": 4, "endline": 303, "closures": []}, {"type": "method", "rank": "A", "lineno": 307, "classname": "FavoriteTests", "name": "test_remove_favorite_not_found", "complexity": 1, "col_offset": 4, "endline": 310, "closures": []}, {"type": "method", "rank": "A", "lineno": 312, "classname": "FavoriteTests", "name": "test_favorites_isolation_between_profiles", "complexity": 1, "col_offset": 4, "endline": 326, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 329, "name": "HistoryTests", "complexity": 2, "col_offset": 0, "endline": 415, "methods": [{"type": "method", "rank": "A", "lineno": 332, "classname": "HistoryTests", "name": "test_list_history_empty", "complexity": 1, "col_offset": 4, "endline": 336, "closures": []}, {"type": "method", "rank": "A", "lineno": 338, "classname": "HistoryTests", "name": "test_record_view", "complexity": 1, "col_offset": 4, "endline": 347, "closures": []}, {"type": "method", "rank": "A", "lineno": 349, "classname": "HistoryTests", "name": "test_record_view_updates_timestamp", "complexity": 1, "col_offset": 4, "endline": 367, "closures": []}, {"type": "method", "rank": "A", "lineno": 370, "classname": "HistoryTests", "name": "test_list_history", "complexity": 1, "col_offset": 4, "endline": 378, "closures": []}, {"type": "method", "rank": "A", "lineno": 380, "classname": "HistoryTests", "name": "test_list_history_with_limit", "complexity": 1, "col_offset": 4, "endline": 388, "closures": []}, {"type": "method", "rank": "A", "lineno": 390, "classname": "HistoryTests", "name": "test_clear_history", "complexity": 1, "col_offset": 4, "endline": 398, "closures": []}, {"type": "method", "rank": "A", "lineno": 401, "classname": "HistoryTests", "name": "test_history_isolation_between_profiles", "complexity": 1, "col_offset": 4, "endline": 415, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 418, "name": "NoProfileTests", "complexity": 2, "col_offset": 0, "endline": 448, "methods": [{"type": "method", "rank": "A", "lineno": 421, "classname": "NoProfileTests", "name": "setUp", "complexity": 1, "col_offset": 4, "endline": 432, "closures": []}, {"type": "method", "rank": "A", "lineno": 435, "classname": "NoProfileTests", "name": "test_favorites_requires_profile", "complexity": 1, "col_offset": 4, "endline": 438, "closures": []}, {"type": "method", "rank": "A", "lineno": 440, "classname": "NoProfileTests", "name": "test_collections_requires_profile", "complexity": 1, "col_offset": 4, "endline": 443, "closures": []}, {"type": "method", "rank": "A", "lineno": 445, "classname": "NoProfileTests", "name": "test_history_requires_profile", "complexity": 1, "col_offset": 4, "endline": 448, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 451, "name": "QuantityTidyingTests", "complexity": 2, "col_offset": 0, "endline": 561, "methods": [{"type": "method", "rank": "A", "lineno": 454, "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_half", "complexity": 1, "col_offset": 4, "endline": 457, "closures": []}, {"type": "method", "rank": "A", "lineno": 459, "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_quarter", "complexity": 1, "col_offset": 4, "endline": 462, "closures": []}, {"type": "method", "rank": "A", "lineno": 464, "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_third", "complexity": 1, "col_offset": 4, "endline": 468, "closures": []}, {"type": "method", "rank": "A", "lineno": 470, "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_two_thirds", "complexity": 1, "col_offset": 4, "endline": 474, "closures": []}, {"type": "method", "rank": "A", "lineno": 476, "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_three_quarters", "complexity": 1, "col_offset": 4, "endline": 479, "closures": []}, {"type": "method", "rank": "A", "lineno": 481, "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_mixed_number", "complexity": 1, "col_offset": 4, "endline": 486, "closures": []}, {"type": "method", "rank": "A", "lineno": 488, "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_whole_number", "complexity": 1, "col_offset": 4, "endline": 492, "closures": []}, {"type": "method", "rank": "A", "lineno": 494, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_cups", "complexity": 1, "col_offset": 4, "endline": 499, "closures": []}, {"type": "method", "rank": "A", "lineno": 501, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_tablespoons", "complexity": 1, "col_offset": 4, "endline": 505, "closures": []}, {"type": "method", "rank": "A", "lineno": 507, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_teaspoons", "complexity": 1, "col_offset": 4, "endline": 511, "closures": []}, {"type": "method", "rank": "A", "lineno": 513, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_keeps_grams", "complexity": 1, "col_offset": 4, "endline": 517, "closures": []}, {"type": "method", "rank": "A", "lineno": 519, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_keeps_ml", "complexity": 1, "col_offset": 4, "endline": 523, "closures": []}, {"type": "method", "rank": "A", "lineno": 525, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_countable_items", "complexity": 1, "col_offset": 4, "endline": 529, "closures": []}, {"type": "method", "rank": "A", "lineno": 531, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_no_unit", "complexity": 1, "col_offset": 4, "endline": 535, "closures": []}, {"type": "method", "rank": "A", "lineno": 537, "classname": "QuantityTidyingTests", "name": "test_tidy_quantities_list", "complexity": 1, "col_offset": 4, "endline": 550, "closures": []}, {"type": "method", "rank": "A", "lineno": 552, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_empty_string", "complexity": 1, "col_offset": 4, "endline": 555, "closures": []}, {"type": "method", "rank": "A", "lineno": 557, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_no_number", "complexity": 1, "col_offset": 4, "endline": 561, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 22, "classname": "BaseTestCase", "name": "setUp", "complexity": 1, "col_offset": 4, "endline": 47, "closures": []}, {"type": "method", "rank": "A", "lineno": 53, "classname": "CollectionTests", "name": "test_list_collections_empty", "complexity": 1, "col_offset": 4, "endline": 57, "closures": []}, {"type": "method", "rank": "A", "lineno": 59, "classname": "CollectionTests", "name": "test_create_collection", "complexity": 1, "col_offset": 4, "endline": 70, "closures": []}, {"type": "method", "rank": "A", "lineno": 72, "classname": "CollectionTests", "name": "test_create_collection_duplicate_name", "complexity": 1, "col_offset": 4, "endline": 83, "closures": []}, {"type": "method", "rank": "A", "lineno": 85, "classname": "CollectionTests", "name": "test_list_collections", "complexity": 1, "col_offset": 4, "endline": 93, "closures": []}, {"type": "method", "rank": "A", "lineno": 95, "classname": "CollectionTests", "name": "test_get_collection", "complexity": 1, "col_offset": 4, "endline": 113, "closures": []}, {"type": "method", "rank": "A", "lineno": 115, "classname": "CollectionTests", "name": "test_get_collection_not_found", "complexity": 1, "col_offset": 4, "endline": 118, "closures": []}, {"type": "method", "rank": "A", "lineno": 120, "classname": "CollectionTests", "name": "test_update_collection", "complexity": 1, "col_offset": 4, "endline": 135, "closures": []}, {"type": "method", "rank": "A", "lineno": 137, "classname": "CollectionTests", "name": "test_delete_collection", "complexity": 1, "col_offset": 4, "endline": 146, "closures": []}, {"type": "method", "rank": "A", "lineno": 148, "classname": "CollectionTests", "name": "test_add_recipe_to_collection", "complexity": 1, "col_offset": 4, "endline": 163, "closures": []}, {"type": "method", "rank": "A", "lineno": 165, "classname": "CollectionTests", "name": "test_add_recipe_to_collection_increments_order", "complexity": 1, "col_offset": 4, "endline": 184, "closures": []}, {"type": "method", "rank": "A", "lineno": 186, "classname": "CollectionTests", "name": "test_add_duplicate_recipe_to_collection", "complexity": 1, "col_offset": 4, "endline": 203, "closures": []}, {"type": "method", "rank": "A", "lineno": 205, "classname": "CollectionTests", "name": "test_remove_recipe_from_collection", "complexity": 1, "col_offset": 4, "endline": 223, "closures": []}, {"type": "method", "rank": "A", "lineno": 227, "classname": "CollectionTests", "name": "test_collection_isolation_between_profiles", "complexity": 1, "col_offset": 4, "endline": 245, "closures": []}, {"type": "method", "rank": "A", "lineno": 251, "classname": "FavoriteTests", "name": "test_list_favorites_empty", "complexity": 1, "col_offset": 4, "endline": 255, "closures": []}, {"type": "method", "rank": "A", "lineno": 257, "classname": "FavoriteTests", "name": "test_add_favorite", "complexity": 1, "col_offset": 4, "endline": 266, "closures": []}, {"type": "method", "rank": "A", "lineno": 268, "classname": "FavoriteTests", "name": "test_add_duplicate_favorite", "complexity": 1, "col_offset": 4, "endline": 280, "closures": []}, {"type": "method", "rank": "A", "lineno": 282, "classname": "FavoriteTests", "name": "test_list_favorites", "complexity": 1, "col_offset": 4, "endline": 290, "closures": []}, {"type": "method", "rank": "A", "lineno": 292, "classname": "FavoriteTests", "name": "test_remove_favorite", "complexity": 1, "col_offset": 4, "endline": 303, "closures": []}, {"type": "method", "rank": "A", "lineno": 307, "classname": "FavoriteTests", "name": "test_remove_favorite_not_found", "complexity": 1, "col_offset": 4, "endline": 310, "closures": []}, {"type": "method", "rank": "A", "lineno": 312, "classname": "FavoriteTests", "name": "test_favorites_isolation_between_profiles", "complexity": 1, "col_offset": 4, "endline": 326, "closures": []}, {"type": "method", "rank": "A", "lineno": 332, "classname": "HistoryTests", "name": "test_list_history_empty", "complexity": 1, "col_offset": 4, "endline": 336, "closures": []}, {"type": "method", "rank": "A", "lineno": 338, "classname": "HistoryTests", "name": "test_record_view", "complexity": 1, "col_offset": 4, "endline": 347, "closures": []}, {"type": "method", "rank": "A", "lineno": 349, "classname": "HistoryTests", "name": "test_record_view_updates_timestamp", "complexity": 1, "col_offset": 4, "endline": 367, "closures": []}, {"type": "method", "rank": "A", "lineno": 370, "classname": "HistoryTests", "name": "test_list_history", "complexity": 1, "col_offset": 4, "endline": 378, "closures": []}, {"type": "method", "rank": "A", "lineno": 380, "classname": "HistoryTests", "name": "test_list_history_with_limit", "complexity": 1, "col_offset": 4, "endline": 388, "closures": []}, {"type": "method", "rank": "A", "lineno": 390, "classname": "HistoryTests", "name": "test_clear_history", "complexity": 1, "col_offset": 4, "endline": 398, "closures": []}, {"type": "method", "rank": "A", "lineno": 401, "classname": "HistoryTests", "name": "test_history_isolation_between_profiles", "complexity": 1, "col_offset": 4, "endline": 415, "closures": []}, {"type": "method", "rank": "A", "lineno": 421, "classname": "NoProfileTests", "name": "setUp", "complexity": 1, "col_offset": 4, "endline": 432, "closures": []}, {"type": "method", "rank": "A", "lineno": 435, "classname": "NoProfileTests", "name": "test_favorites_requires_profile", "complexity": 1, "col_offset": 4, "endline": 438, "closures": []}, {"type": "method", "rank": "A", "lineno": 440, "classname": "NoProfileTests", "name": "test_collections_requires_profile", "complexity": 1, "col_offset": 4, "endline": 443, "closures": []}, {"type": "method", "rank": "A", "lineno": 445, "classname": "NoProfileTests", "name": "test_history_requires_profile", "complexity": 1, "col_offset": 4, "endline": 448, "closures": []}, {"type": "method", "rank": "A", "lineno": 454, "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_half", "complexity": 1, "col_offset": 4, "endline": 457, "closures": []}, {"type": "method", "rank": "A", "lineno": 459, "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_quarter", "complexity": 1, "col_offset": 4, "endline": 462, "closures": []}, {"type": "method", "rank": "A", "lineno": 464, "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_third", "complexity": 1, "col_offset": 4, "endline": 468, "closures": []}, {"type": "method", "rank": "A", "lineno": 470, "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_two_thirds", "complexity": 1, "col_offset": 4, "endline": 474, "closures": []}, {"type": "method", "rank": "A", "lineno": 476, "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_three_quarters", "complexity": 1, "col_offset": 4, "endline": 479, "closures": []}, {"type": "method", "rank": "A", "lineno": 481, "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_mixed_number", "complexity": 1, "col_offset": 4, "endline": 486, "closures": []}, {"type": "method", "rank": "A", "lineno": 488, "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_whole_number", "complexity": 1, "col_offset": 4, "endline": 492, "closures": []}, {"type": "method", "rank": "A", "lineno": 494, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_cups", "complexity": 1, "col_offset": 4, "endline": 499, "closures": []}, {"type": "method", "rank": "A", "lineno": 501, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_tablespoons", "complexity": 1, "col_offset": 4, "endline": 505, "closures": []}, {"type": "method", "rank": "A", "lineno": 507, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_teaspoons", "complexity": 1, "col_offset": 4, "endline": 511, "closures": []}, {"type": "method", "rank": "A", "lineno": 513, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_keeps_grams", "complexity": 1, "col_offset": 4, "endline": 517, "closures": []}, {"type": "method", "rank": "A", "lineno": 519, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_keeps_ml", "complexity": 1, "col_offset": 4, "endline": 523, "closures": []}, {"type": "method", "rank": "A", "lineno": 525, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_countable_items", "complexity": 1, "col_offset": 4, "endline": 529, "closures": []}, {"type": "method", "rank": "A", "lineno": 531, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_no_unit", "complexity": 1, "col_offset": 4, "endline": 535, "closures": []}, {"type": "method", "rank": "A", "lineno": 537, "classname": "QuantityTidyingTests", "name": "test_tidy_quantities_list", "complexity": 1, "col_offset": 4, "endline": 550, "closures": []}, {"type": "method", "rank": "A", "lineno": 552, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_empty_string", "complexity": 1, "col_offset": 4, "endline": 555, "closures": []}, {"type": "method", "rank": "A", "lineno": 557, "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_no_number", "complexity": 1, "col_offset": 4, "endline": 561, "closures": []}], "apps/recipes/models.py": [{"type": "class", "rank": "A", "lineno": 4, "name": "Recipe", "complexity": 2, "col_offset": 0, "endline": 95, "methods": [{"type": "method", "rank": "A", "lineno": 94, "classname": "Recipe", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 95, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 98, "name": "SearchSource", "complexity": 2, "col_offset": 0, "endline": 117, "methods": [{"type": "method", "rank": "A", "lineno": 116, "classname": "SearchSource", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 117, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 120, "name": "RecipeFavorite", "complexity": 2, "col_offset": 0, "endline": 140, "methods": [{"type": "method", "rank": "A", "lineno": 139, "classname": "RecipeFavorite", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 140, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 143, "name": "RecipeCollection", "complexity": 2, "col_offset": 0, "endline": 161, "methods": [{"type": "method", "rank": "A", "lineno": 160, "classname": "RecipeCollection", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 161, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 164, "name": "RecipeCollectionItem", "complexity": 2, "col_offset": 0, "endline": 184, "methods": [{"type": "method", "rank": "A", "lineno": 183, "classname": "RecipeCollectionItem", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 184, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 187, "name": "RecipeViewHistory", "complexity": 2, "col_offset": 0, "endline": 206, "methods": [{"type": "method", "rank": "A", "lineno": 205, "classname": "RecipeViewHistory", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 206, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 209, "name": "CachedSearchImage", "complexity": 2, "col_offset": 0, "endline": 234, "methods": [{"type": "method", "rank": "A", "lineno": 233, "classname": "CachedSearchImage", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 234, "closures": []}]}, {"type": "class", "rank": "A", "lineno": 237, "name": "ServingAdjustment", "complexity": 2, "col_offset": 0, "endline": 276, "methods": [{"type": "method", "rank": "A", "lineno": 275, "classname": "ServingAdjustment", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 276, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 94, "classname": "Recipe", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 95, "closures": []}, {"type": "method", "rank": "A", "lineno": 116, "classname": "SearchSource", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 117, "closures": []}, {"type": "method", "rank": "A", "lineno": 139, "classname": "RecipeFavorite", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 140, "closures": []}, {"type": "method", "rank": "A", "lineno": 160, "classname": "RecipeCollection", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 161, "closures": []}, {"type": "method", "rank": "A", "lineno": 183, "classname": "RecipeCollectionItem", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 184, "closures": []}, {"type": "method", "rank": "A", "lineno": 205, "classname": "RecipeViewHistory", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 206, "closures": []}, {"type": "method", "rank": "A", "lineno": 233, "classname": "CachedSearchImage", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 234, "closures": []}, {"type": "method", "rank": "A", "lineno": 275, "classname": "ServingAdjustment", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 276, "closures": []}], "apps/recipes/services/fingerprint.py": [{"type": "function", "rank": "A", "lineno": 66, "name": "get_fallback_profiles", "complexity": 3, "col_offset": 0, "endline": 79, "closures": []}, {"type": "function", "rank": "A", "lineno": 46, "name": "get_random_profile", "complexity": 1, "col_offset": 0, "endline": 53, "closures": []}, {"type": "function", "rank": "A", "lineno": 56, "name": "get_random_delay", "complexity": 1, "col_offset": 0, "endline": 63, "closures": []}], "apps/recipes/services/image_cache.py": [{"type": "method", "rank": "B", "lineno": 65, "classname": "SearchImageCache", "name": "_download_and_save", "complexity": 7, "col_offset": 4, "endline": 123, "closures": []}, {"type": "method", "rank": "B", "lineno": 125, "classname": "SearchImageCache", "name": "_fetch_image", "complexity": 6, "col_offset": 4, "endline": 160, "closures": []}, {"type": "method", "rank": "B", "lineno": 222, "classname": "SearchImageCache", "name": "_convert_to_jpeg", "complexity": 6, "col_offset": 4, "endline": 257, "closures": []}, {"type": "class", "rank": "A", "lineno": 25, "name": "SearchImageCache", "complexity": 5, "col_offset": 0, "endline": 271, "methods": [{"type": "method", "rank": "A", "lineno": 39, "classname": "SearchImageCache", "name": "cache_images", "complexity": 4, "col_offset": 4, "endline": 63, "closures": []}, {"type": "method", "rank": "B", "lineno": 65, "classname": "SearchImageCache", "name": "_download_and_save", "complexity": 7, "col_offset": 4, "endline": 123, "closures": []}, {"type": "method", "rank": "B", "lineno": 125, "classname": "SearchImageCache", "name": "_fetch_image", "complexity": 6, "col_offset": 4, "endline": 160, "closures": []}, {"type": "method", "rank": "A", "lineno": 162, "classname": "SearchImageCache", "name": "get_cached_urls_batch", "complexity": 4, "col_offset": 4, "endline": 197, "closures": []}, {"type": "method", "rank": "A", "lineno": 199, "classname": "SearchImageCache", "name": "_generate_filename", "complexity": 3, "col_offset": 4, "endline": 220, "closures": []}, {"type": "method", "rank": "B", "lineno": 222, "classname": "SearchImageCache", "name": "_convert_to_jpeg", "complexity": 6, "col_offset": 4, "endline": 257, "closures": []}, {"type": "method", "rank": "A", "lineno": 259, "classname": "SearchImageCache", "name": "_is_image_url", "complexity": 1, "col_offset": 4, "endline": 271, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 39, "classname": "SearchImageCache", "name": "cache_images", "complexity": 4, "col_offset": 4, "endline": 63, "closures": []}, {"type": "method", "rank": "A", "lineno": 162, "classname": "SearchImageCache", "name": "get_cached_urls_batch", "complexity": 4, "col_offset": 4, "endline": 197, "closures": []}, {"type": "method", "rank": "A", "lineno": 199, "classname": "SearchImageCache", "name": "_generate_filename", "complexity": 3, "col_offset": 4, "endline": 220, "closures": []}, {"type": "method", "rank": "A", "lineno": 259, "classname": "SearchImageCache", "name": "_is_image_url", "complexity": 1, "col_offset": 4, "endline": 271, "closures": []}], "apps/recipes/services/scraper.py": [{"type": "method", "rank": "B", "lineno": 332, "classname": "RecipeScraper", "name": "_download_image", "complexity": 7, "col_offset": 4, "endline": 364, "closures": []}, {"type": "method", "rank": "B", "lineno": 366, "classname": "RecipeScraper", "name": "_convert_webp_to_jpeg", "complexity": 7, "col_offset": 4, "endline": 397, "closures": []}, {"type": "method", "rank": "B", "lineno": 56, "classname": "RecipeScraper", "name": "scrape_url", "complexity": 6, "col_offset": 4, "endline": 161, "closures": []}, {"type": "method", "rank": "A", "lineno": 292, "classname": "RecipeScraper", "name": "_parse_time", "complexity": 5, "col_offset": 4, "endline": 303, "closures": []}, {"type": "class", "rank": "A", "lineno": 41, "name": "RecipeScraper", "complexity": 4, "col_offset": 0, "endline": 416, "methods": [{"type": "method", "rank": "A", "lineno": 53, "classname": "RecipeScraper", "name": "__init__", "complexity": 1, "col_offset": 4, "endline": 54, "closures": []}, {"type": "method", "rank": "B", "lineno": 56, "classname": "RecipeScraper", "name": "scrape_url", "complexity": 6, "col_offset": 4, "endline": 161, "closures": []}, {"type": "method", "rank": "A", "lineno": 163, "classname": "RecipeScraper", "name": "_generate_tips_background", "complexity": 3, "col_offset": 4, "endline": 184, "closures": []}, {"type": "method", "rank": "A", "lineno": 186, "classname": "RecipeScraper", "name": "_fetch_html", "complexity": 4, "col_offset": 4, "endline": 213, "closures": []}, {"type": "method", "rank": "A", "lineno": 215, "classname": "RecipeScraper", "name": "_parse_recipe", "complexity": 3, "col_offset": 4, "endline": 263, "closures": []}, {"type": "method", "rank": "A", "lineno": 265, "classname": "RecipeScraper", "name": "_safe_get", "complexity": 4, "col_offset": 4, "endline": 274, "closures": []}, {"type": "method", "rank": "A", "lineno": 276, "classname": "RecipeScraper", "name": "_safe_get_ingredient_groups", "complexity": 4, "col_offset": 4, "endline": 290, "closures": []}, {"type": "method", "rank": "A", "lineno": 292, "classname": "RecipeScraper", "name": "_parse_time", "complexity": 5, "col_offset": 4, "endline": 303, "closures": []}, {"type": "method", "rank": "A", "lineno": 305, "classname": "RecipeScraper", "name": "_parse_servings", "complexity": 3, "col_offset": 4, "endline": 312, "closures": []}, {"type": "method", "rank": "A", "lineno": 314, "classname": "RecipeScraper", "name": "_parse_rating", "complexity": 3, "col_offset": 4, "endline": 321, "closures": []}, {"type": "method", "rank": "A", "lineno": 323, "classname": "RecipeScraper", "name": "_parse_rating_count", "complexity": 3, "col_offset": 4, "endline": 330, "closures": []}, {"type": "method", "rank": "B", "lineno": 332, "classname": "RecipeScraper", "name": "_download_image", "complexity": 7, "col_offset": 4, "endline": 364, "closures": []}, {"type": "method", "rank": "B", "lineno": 366, "classname": "RecipeScraper", "name": "_convert_webp_to_jpeg", "complexity": 7, "col_offset": 4, "endline": 397, "closures": []}, {"type": "method", "rank": "A", "lineno": 399, "classname": "RecipeScraper", "name": "_is_image_url", "complexity": 1, "col_offset": 4, "endline": 403, "closures": []}, {"type": "method", "rank": "A", "lineno": 405, "classname": "RecipeScraper", "name": "_generate_image_filename", "complexity": 1, "col_offset": 4, "endline": 416, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 186, "classname": "RecipeScraper", "name": "_fetch_html", "complexity": 4, "col_offset": 4, "endline": 213, "closures": []}, {"type": "method", "rank": "A", "lineno": 265, "classname": "RecipeScraper", "name": "_safe_get", "complexity": 4, "col_offset": 4, "endline": 274, "closures": []}, {"type": "method", "rank": "A", "lineno": 276, "classname": "RecipeScraper", "name": "_safe_get_ingredient_groups", "complexity": 4, "col_offset": 4, "endline": 290, "closures": []}, {"type": "method", "rank": "A", "lineno": 163, "classname": "RecipeScraper", "name": "_generate_tips_background", "complexity": 3, "col_offset": 4, "endline": 184, "closures": []}, {"type": "method", "rank": "A", "lineno": 215, "classname": "RecipeScraper", "name": "_parse_recipe", "complexity": 3, "col_offset": 4, "endline": 263, "closures": []}, {"type": "method", "rank": "A", "lineno": 305, "classname": "RecipeScraper", "name": "_parse_servings", "complexity": 3, "col_offset": 4, "endline": 312, "closures": []}, {"type": "method", "rank": "A", "lineno": 314, "classname": "RecipeScraper", "name": "_parse_rating", "complexity": 3, "col_offset": 4, "endline": 321, "closures": []}, {"type": "method", "rank": "A", "lineno": 323, "classname": "RecipeScraper", "name": "_parse_rating_count", "complexity": 3, "col_offset": 4, "endline": 330, "closures": []}, {"type": "class", "rank": "A", "lineno": 26, "name": "ScraperError", "complexity": 1, "col_offset": 0, "endline": 28, "methods": []}, {"type": "class", "rank": "A", "lineno": 31, "name": "FetchError", "complexity": 1, "col_offset": 0, "endline": 33, "methods": []}, {"type": "class", "rank": "A", "lineno": 36, "name": "ParseError", "complexity": 1, "col_offset": 0, "endline": 38, "methods": []}, {"type": "method", "rank": "A", "lineno": 53, "classname": "RecipeScraper", "name": "__init__", "complexity": 1, "col_offset": 4, "endline": 54, "closures": []}, {"type": "method", "rank": "A", "lineno": 399, "classname": "RecipeScraper", "name": "_is_image_url", "complexity": 1, "col_offset": 4, "endline": 403, "closures": []}, {"type": "method", "rank": "A", "lineno": 405, "classname": "RecipeScraper", "name": "_generate_image_filename", "complexity": 1, "col_offset": 4, "endline": 416, "closures": []}], "apps/recipes/services/search.py": [{"type": "method", "rank": "C", "lineno": 251, "classname": "RecipeSearch", "name": "_extract_result_from_element", "complexity": 20, "col_offset": 4, "endline": 328, "closures": []}, {"type": "method", "rank": "C", "lineno": 382, "classname": "RecipeSearch", "name": "_looks_like_recipe_url", "complexity": 15, "col_offset": 4, "endline": 496, "closures": []}, {"type": "method", "rank": "C", "lineno": 331, "classname": "RecipeSearch", "name": "_fallback_parse", "complexity": 12, "col_offset": 4, "endline": 380, "closures": []}, {"type": "method", "rank": "C", "lineno": 53, "classname": "RecipeSearch", "name": "search", "complexity": 11, "col_offset": 4, "endline": 161, "closures": []}, {"type": "class", "rank": "B", "lineno": 37, "name": "RecipeSearch", "complexity": 8, "col_offset": 0, "endline": 526, "methods": [{"type": "method", "rank": "A", "lineno": 50, "classname": "RecipeSearch", "name": "__init__", "complexity": 1, "col_offset": 4, "endline": 51, "closures": []}, {"type": "method", "rank": "C", "lineno": 53, "classname": "RecipeSearch", "name": "search", "complexity": 11, "col_offset": 4, "endline": 161, "closures": []}, {"type": "method", "rank": "A", "lineno": 164, "classname": "RecipeSearch", "name": "_apply_ai_ranking", "complexity": 2, "col_offset": 4, "endline": 175, "closures": []}, {"type": "method", "rank": "A", "lineno": 177, "classname": "RecipeSearch", "name": "_search_source", "complexity": 3, "col_offset": 4, "endline": 219, "closures": []}, {"type": "method", "rank": "A", "lineno": 221, "classname": "RecipeSearch", "name": "_parse_search_results", "complexity": 5, "col_offset": 4, "endline": 249, "closures": []}, {"type": "method", "rank": "C", "lineno": 251, "classname": "RecipeSearch", "name": "_extract_result_from_element", "complexity": 20, "col_offset": 4, "endline": 328, "closures": []}, {"type": "method", "rank": "C", "lineno": 331, "classname": "RecipeSearch", "name": "_fallback_parse", "complexity": 12, "col_offset": 4, "endline": 380, "closures": []}, {"type": "method", "rank": "C", "lineno": 382, "classname": "RecipeSearch", "name": "_looks_like_recipe_url", "complexity": 15, "col_offset": 4, "endline": 496, "closures": []}, {"type": "method", "rank": "A", "lineno": 498, "classname": "RecipeSearch", "name": "_record_failure", "complexity": 1, "col_offset": 4, "endline": 509, "closures": [{"type": "function", "rank": "A", "lineno": 503, "name": "update", "complexity": 2, "col_offset": 8, "endline": 507, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 511, "classname": "RecipeSearch", "name": "_record_success", "complexity": 1, "col_offset": 4, "endline": 526, "closures": [{"type": "function", "rank": "A", "lineno": 516, "name": "update", "complexity": 1, "col_offset": 8, "endline": 523, "closures": []}]}]}, {"type": "method", "rank": "A", "lineno": 221, "classname": "RecipeSearch", "name": "_parse_search_results", "complexity": 5, "col_offset": 4, "endline": 249, "closures": []}, {"type": "method", "rank": "A", "lineno": 177, "classname": "RecipeSearch", "name": "_search_source", "complexity": 3, "col_offset": 4, "endline": 219, "closures": []}, {"type": "method", "rank": "A", "lineno": 164, "classname": "RecipeSearch", "name": "_apply_ai_ranking", "complexity": 2, "col_offset": 4, "endline": 175, "closures": []}, {"type": "class", "rank": "A", "lineno": 27, "name": "SearchResult", "complexity": 1, "col_offset": 0, "endline": 34, "methods": []}, {"type": "method", "rank": "A", "lineno": 50, "classname": "RecipeSearch", "name": "__init__", "complexity": 1, "col_offset": 4, "endline": 51, "closures": []}, {"type": "method", "rank": "A", "lineno": 498, "classname": "RecipeSearch", "name": "_record_failure", "complexity": 1, "col_offset": 4, "endline": 509, "closures": [{"type": "function", "rank": "A", "lineno": 503, "name": "update", "complexity": 2, "col_offset": 8, "endline": 507, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 511, "classname": "RecipeSearch", "name": "_record_success", "complexity": 1, "col_offset": 4, "endline": 526, "closures": [{"type": "function", "rank": "A", "lineno": 516, "name": "update", "complexity": 1, "col_offset": 8, "endline": 523, "closures": []}]}], "apps/recipes/migrations/0001_initial.py": [{"type": "class", "rank": "A", "lineno": 7, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 74, "methods": []}], "apps/recipes/migrations/0003_recipecollection_recipecollectionitem_recipefavorite_and_more.py": [{"type": "class", "rank": "A", "lineno": 7, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 67, "methods": []}], "apps/recipes/migrations/0006_serving_adjustment_instructions_times.py": [{"type": "class", "rank": "A", "lineno": 6, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 30, "methods": []}], "apps/recipes/migrations/0007_recipe_profile.py": [{"type": "function", "rank": "A", "lineno": 7, "name": "delete_all_recipes", "complexity": 1, "col_offset": 0, "endline": 10, "closures": []}, {"type": "function", "rank": "A", "lineno": 13, "name": "noop", "complexity": 1, "col_offset": 0, "endline": 15, "closures": []}, {"type": "class", "rank": "A", "lineno": 18, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 56, "methods": []}], "apps/recipes/migrations/0004_cachedsearchimage.py": [{"type": "class", "rank": "A", "lineno": 6, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 24, "methods": []}], "apps/recipes/migrations/0002_populate_search_sources.py": [{"type": "function", "rank": "A", "lineno": 98, "name": "populate_search_sources", "complexity": 2, "col_offset": 0, "endline": 103, "closures": []}, {"type": "function", "rank": "A", "lineno": 107, "name": "remove_search_sources", "complexity": 2, "col_offset": 0, "endline": 110, "closures": []}, {"type": "class", "rank": "A", "lineno": 113, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 120, "methods": []}], "apps/recipes/migrations/0009_add_default_selectors.py": [{"type": "function", "rank": "A", "lineno": 28, "name": "add_selectors", "complexity": 2, "col_offset": 0, "endline": 31, "closures": []}, {"type": "function", "rank": "A", "lineno": 34, "name": "remove_selectors", "complexity": 2, "col_offset": 0, "endline": 37, "closures": []}, {"type": "class", "rank": "A", "lineno": 40, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 47, "methods": []}], "apps/recipes/migrations/0005_serving_adjustment.py": [{"type": "class", "rank": "A", "lineno": 7, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 29, "methods": []}], "apps/recipes/migrations/0008_rename_recipes_rec_profile_idx_recipes_rec_profile_7945b8_idx.py": [{"type": "class", "rank": "A", "lineno": 6, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 16, "methods": []}], "apps/recipes/management/commands/cleanup_search_images.py": [{"type": "method", "rank": "B", "lineno": 40, "classname": "Command", "name": "handle", "complexity": 9, "col_offset": 4, "endline": 111, "closures": []}, {"type": "class", "rank": "B", "lineno": 24, "name": "Command", "complexity": 6, "col_offset": 0, "endline": 111, "methods": [{"type": "method", "rank": "A", "lineno": 27, "classname": "Command", "name": "add_arguments", "complexity": 1, "col_offset": 4, "endline": 37, "closures": []}, {"type": "method", "rank": "B", "lineno": 40, "classname": "Command", "name": "handle", "complexity": 9, "col_offset": 4, "endline": 111, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 27, "classname": "Command", "name": "add_arguments", "complexity": 1, "col_offset": 4, "endline": 37, "closures": []}], "apps/legacy/apps.py": [{"type": "class", "rank": "A", "lineno": 6, "name": "LegacyConfig", "complexity": 1, "col_offset": 0, "endline": 10, "methods": []}], "apps/legacy/views.py": [{"type": "function", "rank": "B", "lineno": 110, "name": "recipe_detail", "complexity": 7, "col_offset": 0, "endline": 163, "closures": []}, {"type": "function", "rank": "B", "lineno": 167, "name": "play_mode", "complexity": 7, "col_offset": 0, "endline": 199, "closures": []}, {"type": "function", "rank": "A", "lineno": 36, "name": "home", "complexity": 4, "col_offset": 0, "endline": 79, "closures": []}, {"type": "function", "rank": "A", "lineno": 83, "name": "search", "complexity": 4, "col_offset": 0, "endline": 106, "closures": []}, {"type": "function", "rank": "A", "lineno": 327, "name": "settings", "complexity": 4, "col_offset": 0, "endline": 365, "closures": []}, {"type": "function", "rank": "A", "lineno": 203, "name": "all_recipes", "complexity": 3, "col_offset": 0, "endline": 232, "closures": []}, {"type": "function", "rank": "A", "lineno": 236, "name": "favorites", "complexity": 3, "col_offset": 0, "endline": 259, "closures": []}, {"type": "function", "rank": "A", "lineno": 263, "name": "collections", "complexity": 3, "col_offset": 0, "endline": 286, "closures": []}, {"type": "function", "rank": "A", "lineno": 290, "name": "collection_detail", "complexity": 3, "col_offset": 0, "endline": 323, "closures": []}, {"type": "function", "rank": "A", "lineno": 17, "name": "_is_ai_available", "complexity": 2, "col_offset": 0, "endline": 23, "closures": []}, {"type": "function", "rank": "A", "lineno": 26, "name": "profile_selector", "complexity": 1, "col_offset": 0, "endline": 32, "closures": []}], "apps/legacy/templatetags/legacy_tags.py": [{"type": "function", "rank": "A", "lineno": 11, "name": "format_time", "complexity": 4, "col_offset": 0, "endline": 22, "closures": []}, {"type": "function", "rank": "A", "lineno": 32, "name": "format_nutrition_key", "complexity": 4, "col_offset": 0, "endline": 53, "closures": []}, {"type": "function", "rank": "A", "lineno": 26, "name": "in_list", "complexity": 1, "col_offset": 0, "endline": 28, "closures": []}], "apps/core/apps.py": [{"type": "class", "rank": "A", "lineno": 4, "name": "CoreConfig", "complexity": 1, "col_offset": 0, "endline": 6, "methods": []}], "apps/core/middleware.py": [{"type": "method", "rank": "C", "lineno": 34, "classname": "DeviceDetectionMiddleware", "name": "_is_legacy_device", "complexity": 14, "col_offset": 4, "endline": 64, "closures": []}, {"type": "class", "rank": "B", "lineno": 4, "name": "DeviceDetectionMiddleware", "complexity": 6, "col_offset": 0, "endline": 64, "methods": [{"type": "method", "rank": "A", "lineno": 27, "classname": "DeviceDetectionMiddleware", "name": "__init__", "complexity": 1, "col_offset": 4, "endline": 28, "closures": []}, {"type": "method", "rank": "A", "lineno": 30, "classname": "DeviceDetectionMiddleware", "name": "__call__", "complexity": 1, "col_offset": 4, "endline": 32, "closures": []}, {"type": "method", "rank": "C", "lineno": 34, "classname": "DeviceDetectionMiddleware", "name": "_is_legacy_device", "complexity": 14, "col_offset": 4, "endline": 64, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 27, "classname": "DeviceDetectionMiddleware", "name": "__init__", "complexity": 1, "col_offset": 4, "endline": 28, "closures": []}, {"type": "method", "rank": "A", "lineno": 30, "classname": "DeviceDetectionMiddleware", "name": "__call__", "complexity": 1, "col_offset": 4, "endline": 32, "closures": []}], "apps/core/api.py": [{"type": "function", "rank": "B", "lineno": 111, "name": "reset_database", "complexity": 7, "col_offset": 0, "endline": 198, "closures": []}, {"type": "function", "rank": "A", "lineno": 34, "name": "health_check", "complexity": 2, "col_offset": 0, "endline": 42, "closures": []}, {"type": "function", "rank": "A", "lineno": 80, "name": "get_reset_preview", "complexity": 1, "col_offset": 0, "endline": 105, "closures": []}, {"type": "class", "rank": "A", "lineno": 28, "name": "HealthSchema", "complexity": 1, "col_offset": 0, "endline": 30, "methods": []}, {"type": "class", "rank": "A", "lineno": 45, "name": "DataCountsSchema", "complexity": 1, "col_offset": 0, "endline": 55, "methods": []}, {"type": "class", "rank": "A", "lineno": 58, "name": "ResetPreviewSchema", "complexity": 1, "col_offset": 0, "endline": 61, "methods": []}, {"type": "class", "rank": "A", "lineno": 64, "name": "ResetConfirmSchema", "complexity": 1, "col_offset": 0, "endline": 65, "methods": []}, {"type": "class", "rank": "A", "lineno": 68, "name": "ErrorSchema", "complexity": 1, "col_offset": 0, "endline": 70, "methods": []}, {"type": "class", "rank": "A", "lineno": 73, "name": "ResetSuccessSchema", "complexity": 1, "col_offset": 0, "endline": 76, "methods": []}], "apps/core/models.py": [{"type": "class", "rank": "A", "lineno": 4, "name": "AppSettings", "complexity": 2, "col_offset": 0, "endline": 24, "methods": [{"type": "method", "rank": "A", "lineno": 16, "classname": "AppSettings", "name": "save", "complexity": 1, "col_offset": 4, "endline": 18, "closures": []}, {"type": "method", "rank": "A", "lineno": 21, "classname": "AppSettings", "name": "get", "complexity": 1, "col_offset": 4, "endline": 24, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 16, "classname": "AppSettings", "name": "save", "complexity": 1, "col_offset": 4, "endline": 18, "closures": []}, {"type": "method", "rank": "A", "lineno": 21, "classname": "AppSettings", "name": "get", "complexity": 1, "col_offset": 4, "endline": 24, "closures": []}], "apps/core/migrations/0001_initial.py": [{"type": "class", "rank": "A", "lineno": 6, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 23, "methods": []}], "apps/profiles/utils.py": [{"type": "function", "rank": "A", "lineno": 9, "name": "get_current_profile", "complexity": 3, "col_offset": 0, "endline": 22, "closures": []}, {"type": "function", "rank": "A", "lineno": 25, "name": "get_current_profile_or_none", "complexity": 3, "col_offset": 0, "endline": 39, "closures": []}, {"type": "function", "rank": "A", "lineno": 42, "name": "aget_current_profile_or_none", "complexity": 1, "col_offset": 0, "endline": 58, "closures": [{"type": "function", "rank": "A", "lineno": 49, "name": "_get_profile", "complexity": 3, "col_offset": 4, "endline": 56, "closures": []}]}], "apps/profiles/apps.py": [{"type": "class", "rank": "A", "lineno": 4, "name": "ProfilesConfig", "complexity": 1, "col_offset": 0, "endline": 6, "methods": []}], "apps/profiles/api.py": [{"type": "function", "rank": "B", "lineno": 202, "name": "delete_profile", "complexity": 6, "col_offset": 0, "endline": 252, "closures": []}, {"type": "function", "rank": "A", "lineno": 79, "name": "list_profiles", "complexity": 2, "col_offset": 0, "endline": 120, "closures": []}, {"type": "function", "rank": "A", "lineno": 137, "name": "update_profile", "complexity": 2, "col_offset": 0, "endline": 143, "closures": []}, {"type": "function", "rank": "A", "lineno": 147, "name": "get_deletion_preview", "complexity": 2, "col_offset": 0, "endline": 196, "closures": []}, {"type": "function", "rank": "A", "lineno": 124, "name": "create_profile", "complexity": 1, "col_offset": 0, "endline": 127, "closures": []}, {"type": "function", "rank": "A", "lineno": 131, "name": "get_profile", "complexity": 1, "col_offset": 0, "endline": 133, "closures": []}, {"type": "function", "rank": "A", "lineno": 256, "name": "select_profile", "complexity": 1, "col_offset": 0, "endline": 260, "closures": []}, {"type": "class", "rank": "A", "lineno": 14, "name": "ProfileIn", "complexity": 1, "col_offset": 0, "endline": 18, "methods": []}, {"type": "class", "rank": "A", "lineno": 21, "name": "ProfileOut", "complexity": 1, "col_offset": 0, "endline": 26, "methods": []}, {"type": "class", "rank": "A", "lineno": 29, "name": "ProfileStatsSchema", "complexity": 1, "col_offset": 0, "endline": 36, "methods": []}, {"type": "class", "rank": "A", "lineno": 39, "name": "ProfileWithStatsSchema", "complexity": 1, "col_offset": 0, "endline": 46, "methods": []}, {"type": "class", "rank": "A", "lineno": 49, "name": "DeletionDataSchema", "complexity": 1, "col_offset": 0, "endline": 57, "methods": []}, {"type": "class", "rank": "A", "lineno": 60, "name": "ProfileSummarySchema", "complexity": 1, "col_offset": 0, "endline": 64, "methods": []}, {"type": "class", "rank": "A", "lineno": 67, "name": "DeletionPreviewSchema", "complexity": 1, "col_offset": 0, "endline": 70, "methods": []}, {"type": "class", "rank": "A", "lineno": 73, "name": "ErrorSchema", "complexity": 1, "col_offset": 0, "endline": 75, "methods": []}], "apps/profiles/models.py": [{"type": "class", "rank": "A", "lineno": 4, "name": "Profile", "complexity": 2, "col_offset": 0, "endline": 27, "methods": [{"type": "method", "rank": "A", "lineno": 26, "classname": "Profile", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 27, "closures": []}]}, {"type": "method", "rank": "A", "lineno": 26, "classname": "Profile", "name": "__str__", "complexity": 1, "col_offset": 4, "endline": 27, "closures": []}], "apps/profiles/migrations/0001_initial.py": [{"type": "class", "rank": "A", "lineno": 6, "name": "Migration", "complexity": 1, "col_offset": 0, "endline": 23, "methods": []}], "cookie/urls.py": [{"type": "function", "rank": "A", "lineno": 29, "name": "health", "complexity": 1, "col_offset": 0, "endline": 30, "closures": []}], "cookie/settings.py": [{"type": "function", "rank": "A", "lineno": 17, "name": "get_secret_key", "complexity": 3, "col_offset": 0, "endline": 25, "closures": []}]}
