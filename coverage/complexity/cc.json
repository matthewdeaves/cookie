{"apps/ai/api.py": [{"type": "function", "rank": "C", "name": "update_prompt", "col_offset": 0, "lineno": 215, "complexity": 11, "endline": 255, "closures": []}, {"type": "function", "rank": "B", "name": "scale_recipe_endpoint", "col_offset": 0, "lineno": 431, "complexity": 7, "endline": 499, "closures": []}, {"type": "function", "rank": "A", "name": "create_remix_endpoint", "col_offset": 0, "lineno": 339, "complexity": 5, "endline": 394, "closures": []}, {"type": "function", "rank": "A", "name": "tips_endpoint", "col_offset": 0, "lineno": 521, "complexity": 5, "endline": 550, "closures": []}, {"type": "function", "rank": "A", "name": "get_ai_status", "col_offset": 0, "lineno": 122, "complexity": 4, "endline": 159, "closures": []}, {"type": "function", "rank": "A", "name": "remix_suggestions", "col_offset": 0, "lineno": 310, "complexity": 4, "endline": 334, "closures": []}, {"type": "function", "rank": "A", "name": "repair_selector_endpoint", "col_offset": 0, "lineno": 664, "complexity": 4, "endline": 700, "closures": []}, {"type": "function", "rank": "A", "name": "list_models", "col_offset": 0, "lineno": 259, "complexity": 3, "endline": 269, "closures": []}, {"type": "function", "rank": "A", "name": "timer_name_endpoint", "col_offset": 0, "lineno": 570, "complexity": 3, "endline": 591, "closures": []}, {"type": "function", "rank": "A", "name": "sources_needing_attention_endpoint", "col_offset": 0, "lineno": 705, "complexity": 3, "endline": 719, "closures": []}, {"type": "function", "rank": "A", "name": "test_api_key", "col_offset": 0, "lineno": 163, "complexity": 2, "endline": 174, "closures": []}, {"type": "function", "rank": "A", "name": "get_prompt", "col_offset": 0, "lineno": 202, "complexity": 2, "endline": 210, "closures": []}, {"type": "function", "rank": "A", "name": "discover_endpoint", "col_offset": 0, "lineno": 614, "complexity": 2, "endline": 628, "closures": []}, {"type": "function", "rank": "A", "name": "handle_ai_errors", "col_offset": 0, "lineno": 30, "complexity": 1, "endline": 57, "closures": [{"type": "function", "rank": "A", "name": "wrapper", "col_offset": 4, "lineno": 42, "complexity": 4, "endline": 54, "closures": []}]}, {"type": "function", "rank": "A", "name": "save_api_key", "col_offset": 0, "lineno": 179, "complexity": 1, "endline": 190, "closures": []}, {"type": "function", "rank": "A", "name": "list_prompts", "col_offset": 0, "lineno": 195, "complexity": 1, "endline": 198, "closures": []}, {"type": "class", "rank": "A", "name": "AIStatusOut", "col_offset": 0, "lineno": 63, "complexity": 1, "endline": 69, "methods": []}, {"type": "class", "rank": "A", "name": "TestApiKeyIn", "col_offset": 0, "lineno": 72, "complexity": 1, "endline": 73, "methods": []}, {"type": "class", "rank": "A", "name": "TestApiKeyOut", "col_offset": 0, "lineno": 76, "complexity": 1, "endline": 78, "methods": []}, {"type": "class", "rank": "A", "name": "SaveApiKeyIn", "col_offset": 0, "lineno": 81, "complexity": 1, "endline": 82, "methods": []}, {"type": "class", "rank": "A", "name": "SaveApiKeyOut", "col_offset": 0, "lineno": 85, "complexity": 1, "endline": 87, "methods": []}, {"type": "class", "rank": "A", "name": "PromptOut", "col_offset": 0, "lineno": 90, "complexity": 1, "endline": 97, "methods": []}, {"type": "class", "rank": "A", "name": "PromptUpdateIn", "col_offset": 0, "lineno": 100, "complexity": 1, "endline": 104, "methods": []}, {"type": "class", "rank": "A", "name": "ModelOut", "col_offset": 0, "lineno": 107, "complexity": 1, "endline": 109, "methods": []}, {"type": "class", "rank": "A", "name": "ErrorOut", "col_offset": 0, "lineno": 112, "complexity": 1, "endline": 115, "methods": []}, {"type": "class", "rank": "A", "name": "RemixSuggestionsIn", "col_offset": 0, "lineno": 275, "complexity": 1, "endline": 276, "methods": []}, {"type": "class", "rank": "A", "name": "RemixSuggestionsOut", "col_offset": 0, "lineno": 279, "complexity": 1, "endline": 280, "methods": []}, {"type": "class", "rank": "A", "name": "CreateRemixIn", "col_offset": 0, "lineno": 283, "complexity": 1, "endline": 286, "methods": []}, {"type": "class", "rank": "A", "name": "RemixOut", "col_offset": 0, "lineno": 289, "complexity": 1, "endline": 302, "methods": []}, {"type": "class", "rank": "A", "name": "ScaleIn", "col_offset": 0, "lineno": 401, "complexity": 1, "endline": 405, "methods": []}, {"type": "class", "rank": "A", "name": "NutritionOut", "col_offset": 0, "lineno": 408, "complexity": 1, "endline": 410, "methods": []}, {"type": "class", "rank": "A", "name": "ScaleOut", "col_offset": 0, "lineno": 413, "complexity": 1, "endline": 423, "methods": []}, {"type": "class", "rank": "A", "name": "TipsIn", "col_offset": 0, "lineno": 506, "complexity": 1, "endline": 508, "methods": []}, {"type": "class", "rank": "A", "name": "TipsOut", "col_offset": 0, "lineno": 511, "complexity": 1, "endline": 513, "methods": []}, {"type": "class", "rank": "A", "name": "TimerNameIn", "col_offset": 0, "lineno": 556, "complexity": 1, "endline": 558, "methods": []}, {"type": "class", "rank": "A", "name": "TimerNameOut", "col_offset": 0, "lineno": 561, "complexity": 1, "endline": 562, "methods": []}, {"type": "class", "rank": "A", "name": "DiscoverSuggestionOut", "col_offset": 0, "lineno": 597, "complexity": 1, "endline": 601, "methods": []}, {"type": "class", "rank": "A", "name": "DiscoverOut", "col_offset": 0, "lineno": 604, "complexity": 1, "endline": 606, "methods": []}, {"type": "class", "rank": "A", "name": "SelectorRepairIn", "col_offset": 0, "lineno": 635, "complexity": 1, "endline": 640, "methods": []}, {"type": "class", "rank": "A", "name": "SelectorRepairOut", "col_offset": 0, "lineno": 643, "complexity": 1, "endline": 648, "methods": []}, {"type": "class", "rank": "A", "name": "SourceNeedingAttentionOut", "col_offset": 0, "lineno": 651, "complexity": 1, "endline": 656, "methods": []}], "apps/ai/fixtures.py": [{"type": "function", "rank": "A", "name": "get_fixture", "col_offset": 0, "lineno": 301, "complexity": 2, "endline": 350, "closures": []}], "apps/ai/tests.py": [{"type": "method", "rank": "B", "classname": "SelectorRepairAPITests", "name": "test_sources_needing_attention_endpoint", "col_offset": 4, "lineno": 973, "complexity": 9, "endline": 973, "closures": []}, {"type": "method", "rank": "B", "classname": "AIAPITests", "name": "test_ai_status_endpoint", "col_offset": 4, "lineno": 153, "complexity": 8, "endline": 153, "closures": []}, {"type": "method", "rank": "B", "classname": "SelectorRepairServiceTests", "name": "test_repair_selector_success", "col_offset": 4, "lineno": 712, "complexity": 8, "endline": 712, "closures": []}, {"type": "method", "rank": "B", "classname": "AIAPITests", "name": "test_ai_status_no_api_key", "col_offset": 4, "lineno": 166, "complexity": 7, "endline": 166, "closures": []}, {"type": "method", "rank": "B", "classname": "AIAPITests", "name": "test_ai_status_valid_api_key", "col_offset": 4, "lineno": 201, "complexity": 7, "endline": 201, "closures": []}, {"type": "method", "rank": "B", "classname": "OpenRouterServiceTests", "name": "test_validate_key_cached_caches_result", "col_offset": 4, "lineno": 352, "complexity": 7, "endline": 352, "closures": []}, {"type": "method", "rank": "B", "classname": "AICacheTests", "name": "test_cache_decorator_caches_result", "col_offset": 4, "lineno": 1381, "complexity": 7, "endline": 1381, "closures": [{"type": "function", "rank": "A", "name": "test_func", "col_offset": 8, "lineno": 1388, "complexity": 1, "endline": 1391, "closures": []}]}, {"type": "method", "rank": "B", "classname": "RemixServiceTests", "name": "test_parse_time_remix", "col_offset": 4, "lineno": 1578, "complexity": 7, "endline": 1578, "closures": []}, {"type": "method", "rank": "B", "classname": "RemixServiceTests", "name": "test_parse_servings", "col_offset": 4, "lineno": 1589, "complexity": 7, "endline": 1589, "closures": []}, {"type": "method", "rank": "B", "classname": "AIAPITests", "name": "test_ai_status_invalid_api_key", "col_offset": 4, "lineno": 183, "complexity": 6, "endline": 183, "closures": []}, {"type": "method", "rank": "B", "classname": "OpenRouterServiceTests", "name": "test_validate_key_cached_caches_invalid_result", "col_offset": 4, "lineno": 370, "complexity": 6, "endline": 370, "closures": []}, {"type": "method", "rank": "B", "classname": "SelectorRepairServiceTests", "name": "test_repair_selector_low_confidence_no_update", "col_offset": 4, "lineno": 742, "complexity": 6, "endline": 742, "closures": []}, {"type": "method", "rank": "B", "classname": "SelectorRepairServiceTests", "name": "test_get_sources_needing_attention", "col_offset": 4, "lineno": 814, "complexity": 6, "endline": 814, "closures": []}, {"type": "method", "rank": "B", "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_success", "col_offset": 4, "lineno": 868, "complexity": 6, "endline": 868, "closures": []}, {"type": "class", "rank": "A", "name": "AIAPITests", "col_offset": 0, "lineno": 150, "complexity": 5, "endline": 300, "methods": [{"type": "method", "rank": "B", "classname": "AIAPITests", "name": "test_ai_status_endpoint", "col_offset": 4, "lineno": 153, "complexity": 8, "endline": 153, "closures": []}, {"type": "method", "rank": "B", "classname": "AIAPITests", "name": "test_ai_status_no_api_key", "col_offset": 4, "lineno": 166, "complexity": 7, "endline": 166, "closures": []}, {"type": "method", "rank": "B", "classname": "AIAPITests", "name": "test_ai_status_invalid_api_key", "col_offset": 4, "lineno": 183, "complexity": 6, "endline": 183, "closures": []}, {"type": "method", "rank": "B", "classname": "AIAPITests", "name": "test_ai_status_valid_api_key", "col_offset": 4, "lineno": 201, "complexity": 7, "endline": 201, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_models_endpoint_no_api_key", "col_offset": 4, "lineno": 219, "complexity": 3, "endline": 219, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_models_endpoint_with_api_key", "col_offset": 4, "lineno": 227, "complexity": 4, "endline": 227, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_prompts_endpoint", "col_offset": 4, "lineno": 242, "complexity": 3, "endline": 242, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_get_prompt_endpoint", "col_offset": 4, "lineno": 249, "complexity": 4, "endline": 249, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_get_prompt_not_found", "col_offset": 4, "lineno": 257, "complexity": 2, "endline": 257, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_update_prompt_endpoint", "col_offset": 4, "lineno": 262, "complexity": 4, "endline": 262, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_update_prompt_invalid_model", "col_offset": 4, "lineno": 276, "complexity": 4, "endline": 276, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_test_api_key_empty", "col_offset": 4, "lineno": 294, "complexity": 2, "endline": 294, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_save_api_key_invalidates_cache", "col_offset": 4, "lineno": 300, "complexity": 3, "endline": 300, "closures": []}]}, {"type": "class", "rank": "A", "name": "SelectorRepairServiceTests", "col_offset": 0, "lineno": 694, "complexity": 5, "endline": 814, "methods": [{"type": "method", "rank": "A", "classname": "SelectorRepairServiceTests", "name": "setUp", "col_offset": 4, "lineno": 697, "complexity": 1, "endline": 708, "closures": []}, {"type": "method", "rank": "B", "classname": "SelectorRepairServiceTests", "name": "test_repair_selector_success", "col_offset": 4, "lineno": 712, "complexity": 8, "endline": 712, "closures": []}, {"type": "method", "rank": "B", "classname": "SelectorRepairServiceTests", "name": "test_repair_selector_low_confidence_no_update", "col_offset": 4, "lineno": 742, "complexity": 6, "endline": 742, "closures": []}, {"type": "method", "rank": "A", "classname": "SelectorRepairServiceTests", "name": "test_repair_selector_auto_update_disabled", "col_offset": 4, "lineno": 767, "complexity": 5, "endline": 767, "closures": []}, {"type": "method", "rank": "A", "classname": "SelectorRepairServiceTests", "name": "test_repair_selector_truncates_html", "col_offset": 4, "lineno": 791, "complexity": 2, "endline": 791, "closures": []}, {"type": "method", "rank": "B", "classname": "SelectorRepairServiceTests", "name": "test_get_sources_needing_attention", "col_offset": 4, "lineno": 814, "complexity": 6, "endline": 814, "closures": []}]}, {"type": "method", "rank": "A", "classname": "SelectorRepairServiceTests", "name": "test_repair_selector_auto_update_disabled", "col_offset": 4, "lineno": 767, "complexity": 5, "endline": 767, "closures": []}, {"type": "class", "rank": "A", "name": "SelectorRepairAPITests", "col_offset": 0, "lineno": 851, "complexity": 5, "endline": 988, "methods": [{"type": "method", "rank": "A", "classname": "SelectorRepairAPITests", "name": "setUp", "col_offset": 4, "lineno": 854, "complexity": 1, "endline": 864, "closures": []}, {"type": "method", "rank": "B", "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_success", "col_offset": 4, "lineno": 868, "complexity": 6, "endline": 868, "closures": []}, {"type": "method", "rank": "A", "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_source_not_found", "col_offset": 4, "lineno": 894, "complexity": 3, "endline": 894, "closures": []}, {"type": "method", "rank": "A", "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_empty_html", "col_offset": 4, "lineno": 909, "complexity": 3, "endline": 909, "closures": []}, {"type": "method", "rank": "A", "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_ai_unavailable", "col_offset": 4, "lineno": 925, "complexity": 3, "endline": 925, "closures": []}, {"type": "method", "rank": "A", "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_with_options", "col_offset": 4, "lineno": 943, "complexity": 5, "endline": 943, "closures": []}, {"type": "method", "rank": "B", "classname": "SelectorRepairAPITests", "name": "test_sources_needing_attention_endpoint", "col_offset": 4, "lineno": 973, "complexity": 9, "endline": 973, "closures": []}, {"type": "method", "rank": "A", "classname": "SelectorRepairAPITests", "name": "test_sources_needing_attention_endpoint_empty", "col_offset": 4, "lineno": 988, "complexity": 3, "endline": 988, "closures": []}]}, {"type": "method", "rank": "A", "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_with_options", "col_offset": 4, "lineno": 943, "complexity": 5, "endline": 943, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_ai_status_shows_available_with_key", "col_offset": 4, "lineno": 1039, "complexity": 5, "endline": 1039, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_tips_returns_503_with_action_field_when_ai_unavailable", "col_offset": 4, "lineno": 1055, "complexity": 5, "endline": 1055, "closures": []}, {"type": "class", "rank": "A", "name": "AICacheTests", "col_offset": 0, "lineno": 1372, "complexity": 5, "endline": 1425, "methods": [{"type": "method", "rank": "A", "classname": "AICacheTests", "name": "setUp", "col_offset": 4, "lineno": 1375, "complexity": 1, "endline": 1379, "closures": []}, {"type": "method", "rank": "B", "classname": "AICacheTests", "name": "test_cache_decorator_caches_result", "col_offset": 4, "lineno": 1381, "complexity": 7, "endline": 1381, "closures": [{"type": "function", "rank": "A", "name": "test_func", "col_offset": 8, "lineno": 1388, "complexity": 1, "endline": 1391, "closures": []}]}, {"type": "method", "rank": "A", "classname": "AICacheTests", "name": "test_cache_key_generation", "col_offset": 4, "lineno": 1408, "complexity": 4, "endline": 1408, "closures": []}, {"type": "method", "rank": "A", "classname": "AICacheTests", "name": "test_invalidate_ai_cache", "col_offset": 4, "lineno": 1425, "complexity": 3, "endline": 1425, "closures": [{"type": "function", "rank": "A", "name": "test_func", "col_offset": 8, "lineno": 1431, "complexity": 1, "endline": 1432, "closures": []}]}]}, {"type": "class", "rank": "A", "name": "RemixServiceTests", "col_offset": 0, "lineno": 1569, "complexity": 5, "endline": 1641, "methods": [{"type": "method", "rank": "A", "classname": "RemixServiceTests", "name": "setUp", "col_offset": 4, "lineno": 1572, "complexity": 1, "endline": 1576, "closures": []}, {"type": "method", "rank": "B", "classname": "RemixServiceTests", "name": "test_parse_time_remix", "col_offset": 4, "lineno": 1578, "complexity": 7, "endline": 1578, "closures": []}, {"type": "method", "rank": "B", "classname": "RemixServiceTests", "name": "test_parse_servings", "col_offset": 4, "lineno": 1589, "complexity": 7, "endline": 1589, "closures": []}, {"type": "method", "rank": "A", "classname": "RemixServiceTests", "name": "test_get_remix_suggestions_success", "col_offset": 4, "lineno": 1601, "complexity": 3, "endline": 1601, "closures": []}, {"type": "method", "rank": "A", "classname": "RemixServiceTests", "name": "test_get_remix_suggestions_validation_error", "col_offset": 4, "lineno": 1623, "complexity": 1, "endline": 1641, "closures": []}]}, {"type": "class", "rank": "A", "name": "DiscoverServiceTests", "col_offset": 0, "lineno": 1644, "complexity": 5, "endline": 1683, "methods": [{"type": "method", "rank": "A", "classname": "DiscoverServiceTests", "name": "test_get_season_winter", "col_offset": 4, "lineno": 1647, "complexity": 4, "endline": 1647, "closures": []}, {"type": "method", "rank": "A", "classname": "DiscoverServiceTests", "name": "test_get_season_spring", "col_offset": 4, "lineno": 1656, "complexity": 4, "endline": 1656, "closures": []}, {"type": "method", "rank": "A", "classname": "DiscoverServiceTests", "name": "test_get_season_summer", "col_offset": 4, "lineno": 1665, "complexity": 4, "endline": 1665, "closures": []}, {"type": "method", "rank": "A", "classname": "DiscoverServiceTests", "name": "test_get_season_autumn", "col_offset": 4, "lineno": 1674, "complexity": 4, "endline": 1674, "closures": []}, {"type": "method", "rank": "A", "classname": "DiscoverServiceTests", "name": "test_format_suggestions_from_list", "col_offset": 4, "lineno": 1683, "complexity": 5, "endline": 1683, "closures": []}]}, {"type": "method", "rank": "A", "classname": "DiscoverServiceTests", "name": "test_format_suggestions_from_list", "col_offset": 4, "lineno": 1683, "complexity": 5, "endline": 1683, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_apply_ranking_adds_missing", "col_offset": 4, "lineno": 1805, "complexity": 5, "endline": 1805, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_models_endpoint_with_api_key", "col_offset": 4, "lineno": 227, "complexity": 4, "endline": 227, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_get_prompt_endpoint", "col_offset": 4, "lineno": 249, "complexity": 4, "endline": 249, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_update_prompt_endpoint", "col_offset": 4, "lineno": 262, "complexity": 4, "endline": 262, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_update_prompt_invalid_model", "col_offset": 4, "lineno": 276, "complexity": 4, "endline": 276, "closures": []}, {"type": "class", "rank": "A", "name": "OpenRouterServiceTests", "col_offset": 0, "lineno": 316, "complexity": 4, "endline": 525, "methods": [{"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_init_requires_api_key", "col_offset": 4, "lineno": 319, "complexity": 2, "endline": 319, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_init_with_explicit_key", "col_offset": 4, "lineno": 330, "complexity": 2, "endline": 330, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_is_available_without_key", "col_offset": 4, "lineno": 335, "complexity": 2, "endline": 335, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_is_available_with_key", "col_offset": 4, "lineno": 343, "complexity": 2, "endline": 343, "closures": []}, {"type": "method", "rank": "B", "classname": "OpenRouterServiceTests", "name": "test_validate_key_cached_caches_result", "col_offset": 4, "lineno": 352, "complexity": 7, "endline": 352, "closures": []}, {"type": "method", "rank": "B", "classname": "OpenRouterServiceTests", "name": "test_validate_key_cached_caches_invalid_result", "col_offset": 4, "lineno": 370, "complexity": 6, "endline": 370, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_validate_key_cached_no_key", "col_offset": 4, "lineno": 386, "complexity": 3, "endline": 386, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_invalidate_key_cache", "col_offset": 4, "lineno": 393, "complexity": 3, "endline": 393, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_complete_success", "col_offset": 4, "lineno": 402, "complexity": 2, "endline": 422, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_complete_handles_code_block_json", "col_offset": 4, "lineno": 425, "complexity": 2, "endline": 425, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_complete_invalid_json", "col_offset": 4, "lineno": 445, "complexity": 2, "endline": 445, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_complete_no_choices", "col_offset": 4, "lineno": 465, "complexity": 2, "endline": 465, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_complete_raw_text_response", "col_offset": 4, "lineno": 484, "complexity": 2, "endline": 484, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_test_connection_success", "col_offset": 4, "lineno": 504, "complexity": 3, "endline": 504, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_test_connection_no_key", "col_offset": 4, "lineno": 518, "complexity": 3, "endline": 518, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_get_available_models_success", "col_offset": 4, "lineno": 525, "complexity": 4, "endline": 525, "closures": []}]}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_get_available_models_success", "col_offset": 4, "lineno": 525, "complexity": 4, "endline": 525, "closures": []}, {"type": "class", "rank": "A", "name": "TimerNamingAPITests", "col_offset": 0, "lineno": 638, "complexity": 4, "endline": 679, "methods": [{"type": "method", "rank": "A", "classname": "TimerNamingAPITests", "name": "test_timer_name_endpoint_success", "col_offset": 4, "lineno": 642, "complexity": 3, "endline": 642, "closures": []}, {"type": "method", "rank": "A", "classname": "TimerNamingAPITests", "name": "test_timer_name_endpoint_missing_step_text", "col_offset": 4, "lineno": 656, "complexity": 3, "endline": 656, "closures": []}, {"type": "method", "rank": "A", "classname": "TimerNamingAPITests", "name": "test_timer_name_endpoint_invalid_duration", "col_offset": 4, "lineno": 666, "complexity": 3, "endline": 666, "closures": []}, {"type": "method", "rank": "A", "classname": "TimerNamingAPITests", "name": "test_timer_name_endpoint_ai_unavailable", "col_offset": 4, "lineno": 679, "complexity": 3, "endline": 679, "closures": []}]}, {"type": "class", "rank": "A", "name": "AIFeatureFallbackTests", "col_offset": 0, "lineno": 1005, "complexity": 4, "endline": 1142, "methods": [{"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "setUp", "col_offset": 4, "lineno": 1008, "complexity": 1, "endline": 1023, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_ai_status_shows_unavailable_without_key", "col_offset": 4, "lineno": 1025, "complexity": 4, "endline": 1025, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_ai_status_shows_available_with_key", "col_offset": 4, "lineno": 1039, "complexity": 5, "endline": 1039, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_tips_returns_503_with_action_field_when_ai_unavailable", "col_offset": 4, "lineno": 1055, "complexity": 5, "endline": 1055, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_remix_suggestions_returns_503_when_ai_unavailable", "col_offset": 4, "lineno": 1068, "complexity": 3, "endline": 1068, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_scale_returns_503_when_ai_unavailable", "col_offset": 4, "lineno": 1081, "complexity": 3, "endline": 1081, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_discover_returns_503_when_ai_unavailable", "col_offset": 4, "lineno": 1100, "complexity": 3, "endline": 1100, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_tips_service_raises_when_no_key", "col_offset": 4, "lineno": 1111, "complexity": 1, "endline": 1118, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_remix_service_raises_when_no_key", "col_offset": 4, "lineno": 1121, "complexity": 1, "endline": 1128, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_models_endpoint_returns_empty_list_without_key", "col_offset": 4, "lineno": 1130, "complexity": 3, "endline": 1130, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_timer_name_returns_503_when_ai_unavailable", "col_offset": 4, "lineno": 1142, "complexity": 3, "endline": 1142, "closures": []}]}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_ai_status_shows_unavailable_without_key", "col_offset": 4, "lineno": 1025, "complexity": 4, "endline": 1025, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_get_schema_returns_schema", "col_offset": 4, "lineno": 1359, "complexity": 4, "endline": 1359, "closures": []}, {"type": "method", "rank": "A", "classname": "AICacheTests", "name": "test_cache_key_generation", "col_offset": 4, "lineno": 1408, "complexity": 4, "endline": 1408, "closures": []}, {"type": "class", "rank": "A", "name": "ScalingServiceTests", "col_offset": 0, "lineno": 1446, "complexity": 4, "endline": 1549, "methods": [{"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_parse_time_minutes", "col_offset": 4, "lineno": 1449, "complexity": 4, "endline": 1449, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_parse_time_hours", "col_offset": 4, "lineno": 1457, "complexity": 3, "endline": 1457, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_parse_time_hours_and_minutes", "col_offset": 4, "lineno": 1464, "complexity": 3, "endline": 1464, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_parse_time_none", "col_offset": 4, "lineno": 1471, "complexity": 3, "endline": 1471, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_parse_time_no_numbers", "col_offset": 4, "lineno": 1478, "complexity": 2, "endline": 1478, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_format_time_minutes", "col_offset": 4, "lineno": 1484, "complexity": 3, "endline": 1484, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_format_time_hours", "col_offset": 4, "lineno": 1491, "complexity": 3, "endline": 1491, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_format_time_hours_and_minutes", "col_offset": 4, "lineno": 1498, "complexity": 3, "endline": 1498, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_format_time_none", "col_offset": 4, "lineno": 1505, "complexity": 3, "endline": 1505, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_calculate_nutrition_empty", "col_offset": 4, "lineno": 1512, "complexity": 2, "endline": 1512, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_calculate_nutrition_string_values", "col_offset": 4, "lineno": 1529, "complexity": 4, "endline": 1529, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_calculate_nutrition_numeric_values", "col_offset": 4, "lineno": 1549, "complexity": 3, "endline": 1549, "closures": []}]}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_parse_time_minutes", "col_offset": 4, "lineno": 1449, "complexity": 4, "endline": 1449, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_calculate_nutrition_string_values", "col_offset": 4, "lineno": 1529, "complexity": 4, "endline": 1529, "closures": []}, {"type": "method", "rank": "A", "classname": "DiscoverServiceTests", "name": "test_get_season_winter", "col_offset": 4, "lineno": 1647, "complexity": 4, "endline": 1647, "closures": []}, {"type": "method", "rank": "A", "classname": "DiscoverServiceTests", "name": "test_get_season_spring", "col_offset": 4, "lineno": 1656, "complexity": 4, "endline": 1656, "closures": []}, {"type": "method", "rank": "A", "classname": "DiscoverServiceTests", "name": "test_get_season_summer", "col_offset": 4, "lineno": 1665, "complexity": 4, "endline": 1665, "closures": []}, {"type": "method", "rank": "A", "classname": "DiscoverServiceTests", "name": "test_get_season_autumn", "col_offset": 4, "lineno": 1674, "complexity": 4, "endline": 1674, "closures": []}, {"type": "class", "rank": "A", "name": "RankingServiceTests", "col_offset": 0, "lineno": 1705, "complexity": 4, "endline": 1837, "methods": [{"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_is_ranking_available_no_key", "col_offset": 4, "lineno": 1708, "complexity": 2, "endline": 1708, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_is_ranking_available_with_key", "col_offset": 4, "lineno": 1717, "complexity": 2, "endline": 1717, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_filter_valid_removes_titleless", "col_offset": 4, "lineno": 1726, "complexity": 4, "endline": 1726, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_sort_by_image_prioritizes_images", "col_offset": 4, "lineno": 1741, "complexity": 2, "endline": 1741, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_sort_by_image_filters_invalid", "col_offset": 4, "lineno": 1753, "complexity": 3, "endline": 1753, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_apply_ranking", "col_offset": 4, "lineno": 1765, "complexity": 4, "endline": 1765, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_apply_ranking_handles_invalid_indices", "col_offset": 4, "lineno": 1779, "complexity": 4, "endline": 1779, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_apply_ranking_handles_duplicates", "col_offset": 4, "lineno": 1792, "complexity": 4, "endline": 1792, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_apply_ranking_adds_missing", "col_offset": 4, "lineno": 1805, "complexity": 5, "endline": 1805, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_rank_results_empty_list", "col_offset": 4, "lineno": 1821, "complexity": 2, "endline": 1821, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_rank_results_single_item", "col_offset": 4, "lineno": 1828, "complexity": 3, "endline": 1828, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_rank_results_falls_back_without_key", "col_offset": 4, "lineno": 1837, "complexity": 2, "endline": 1837, "closures": []}]}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_filter_valid_removes_titleless", "col_offset": 4, "lineno": 1726, "complexity": 4, "endline": 1726, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_apply_ranking", "col_offset": 4, "lineno": 1765, "complexity": 4, "endline": 1765, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_apply_ranking_handles_invalid_indices", "col_offset": 4, "lineno": 1779, "complexity": 4, "endline": 1779, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_apply_ranking_handles_duplicates", "col_offset": 4, "lineno": 1792, "complexity": 4, "endline": 1792, "closures": []}, {"type": "class", "rank": "A", "name": "AIPromptModelTests", "col_offset": 0, "lineno": 17, "complexity": 3, "endline": 52, "methods": [{"type": "method", "rank": "A", "classname": "AIPromptModelTests", "name": "test_prompts_seeded", "col_offset": 4, "lineno": 20, "complexity": 2, "endline": 20, "closures": []}, {"type": "method", "rank": "A", "classname": "AIPromptModelTests", "name": "test_all_prompt_types_exist", "col_offset": 4, "lineno": 24, "complexity": 3, "endline": 39, "closures": []}, {"type": "method", "rank": "A", "classname": "AIPromptModelTests", "name": "test_get_prompt", "col_offset": 4, "lineno": 42, "complexity": 2, "endline": 42, "closures": []}, {"type": "method", "rank": "A", "classname": "AIPromptModelTests", "name": "test_get_prompt_not_found", "col_offset": 4, "lineno": 47, "complexity": 1, "endline": 50, "closures": []}, {"type": "method", "rank": "A", "classname": "AIPromptModelTests", "name": "test_format_user_prompt", "col_offset": 4, "lineno": 52, "complexity": 3, "endline": 52, "closures": []}]}, {"type": "method", "rank": "A", "classname": "AIPromptModelTests", "name": "test_all_prompt_types_exist", "col_offset": 4, "lineno": 24, "complexity": 3, "endline": 39, "closures": []}, {"type": "method", "rank": "A", "classname": "AIPromptModelTests", "name": "test_format_user_prompt", "col_offset": 4, "lineno": 52, "complexity": 3, "endline": 52, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_models_endpoint_no_api_key", "col_offset": 4, "lineno": 219, "complexity": 3, "endline": 219, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_prompts_endpoint", "col_offset": 4, "lineno": 242, "complexity": 3, "endline": 242, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_save_api_key_invalidates_cache", "col_offset": 4, "lineno": 300, "complexity": 3, "endline": 300, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_validate_key_cached_no_key", "col_offset": 4, "lineno": 386, "complexity": 3, "endline": 386, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_invalidate_key_cache", "col_offset": 4, "lineno": 393, "complexity": 3, "endline": 393, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_test_connection_success", "col_offset": 4, "lineno": 504, "complexity": 3, "endline": 504, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_test_connection_no_key", "col_offset": 4, "lineno": 518, "complexity": 3, "endline": 518, "closures": []}, {"type": "class", "rank": "A", "name": "OpenRouterServiceAsyncTests", "col_offset": 0, "lineno": 552, "complexity": 3, "endline": 556, "methods": [{"type": "method", "rank": "A", "classname": "OpenRouterServiceAsyncTests", "name": "test_complete_async_success", "col_offset": 4, "lineno": 556, "complexity": 2, "endline": 556, "closures": []}]}, {"type": "class", "rank": "A", "name": "TimerNamingServiceTests", "col_offset": 0, "lineno": 581, "complexity": 3, "endline": 621, "methods": [{"type": "method", "rank": "A", "classname": "TimerNamingServiceTests", "name": "setUp", "col_offset": 4, "lineno": 584, "complexity": 1, "endline": 588, "closures": []}, {"type": "method", "rank": "A", "classname": "TimerNamingServiceTests", "name": "test_generate_timer_name_success", "col_offset": 4, "lineno": 591, "complexity": 2, "endline": 602, "closures": []}, {"type": "method", "rank": "A", "classname": "TimerNamingServiceTests", "name": "test_generate_timer_name_truncates_long_labels", "col_offset": 4, "lineno": 605, "complexity": 3, "endline": 605, "closures": []}, {"type": "method", "rank": "A", "classname": "TimerNamingServiceTests", "name": "test_generate_timer_name_formats_duration", "col_offset": 4, "lineno": 621, "complexity": 2, "endline": 621, "closures": []}]}, {"type": "method", "rank": "A", "classname": "TimerNamingServiceTests", "name": "test_generate_timer_name_truncates_long_labels", "col_offset": 4, "lineno": 605, "complexity": 3, "endline": 605, "closures": []}, {"type": "method", "rank": "A", "classname": "TimerNamingAPITests", "name": "test_timer_name_endpoint_success", "col_offset": 4, "lineno": 642, "complexity": 3, "endline": 642, "closures": []}, {"type": "method", "rank": "A", "classname": "TimerNamingAPITests", "name": "test_timer_name_endpoint_missing_step_text", "col_offset": 4, "lineno": 656, "complexity": 3, "endline": 656, "closures": []}, {"type": "method", "rank": "A", "classname": "TimerNamingAPITests", "name": "test_timer_name_endpoint_invalid_duration", "col_offset": 4, "lineno": 666, "complexity": 3, "endline": 666, "closures": []}, {"type": "method", "rank": "A", "classname": "TimerNamingAPITests", "name": "test_timer_name_endpoint_ai_unavailable", "col_offset": 4, "lineno": 679, "complexity": 3, "endline": 679, "closures": []}, {"type": "method", "rank": "A", "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_source_not_found", "col_offset": 4, "lineno": 894, "complexity": 3, "endline": 894, "closures": []}, {"type": "method", "rank": "A", "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_empty_html", "col_offset": 4, "lineno": 909, "complexity": 3, "endline": 909, "closures": []}, {"type": "method", "rank": "A", "classname": "SelectorRepairAPITests", "name": "test_repair_selector_endpoint_ai_unavailable", "col_offset": 4, "lineno": 925, "complexity": 3, "endline": 925, "closures": []}, {"type": "method", "rank": "A", "classname": "SelectorRepairAPITests", "name": "test_sources_needing_attention_endpoint_empty", "col_offset": 4, "lineno": 988, "complexity": 3, "endline": 988, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_remix_suggestions_returns_503_when_ai_unavailable", "col_offset": 4, "lineno": 1068, "complexity": 3, "endline": 1068, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_scale_returns_503_when_ai_unavailable", "col_offset": 4, "lineno": 1081, "complexity": 3, "endline": 1081, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_discover_returns_503_when_ai_unavailable", "col_offset": 4, "lineno": 1100, "complexity": 3, "endline": 1100, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_models_endpoint_returns_empty_list_without_key", "col_offset": 4, "lineno": 1130, "complexity": 3, "endline": 1130, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_timer_name_returns_503_when_ai_unavailable", "col_offset": 4, "lineno": 1142, "complexity": 3, "endline": 1142, "closures": []}, {"type": "class", "rank": "A", "name": "AIResponseErrorTests", "col_offset": 0, "lineno": 1157, "complexity": 3, "endline": 1217, "methods": [{"type": "method", "rank": "A", "classname": "AIResponseErrorTests", "name": "setUp", "col_offset": 4, "lineno": 1160, "complexity": 1, "endline": 1173, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseErrorTests", "name": "test_tips_returns_400_on_ai_error", "col_offset": 4, "lineno": 1176, "complexity": 3, "endline": 1176, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseErrorTests", "name": "test_tips_returns_400_on_validation_error", "col_offset": 4, "lineno": 1187, "complexity": 3, "endline": 1187, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseErrorTests", "name": "test_remix_returns_400_on_ai_error", "col_offset": 4, "lineno": 1198, "complexity": 3, "endline": 1198, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseErrorTests", "name": "test_repair_selector_returns_400_on_validation_error", "col_offset": 4, "lineno": 1217, "complexity": 3, "endline": 1217, "closures": []}]}, {"type": "method", "rank": "A", "classname": "AIResponseErrorTests", "name": "test_tips_returns_400_on_ai_error", "col_offset": 4, "lineno": 1176, "complexity": 3, "endline": 1176, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseErrorTests", "name": "test_tips_returns_400_on_validation_error", "col_offset": 4, "lineno": 1187, "complexity": 3, "endline": 1187, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseErrorTests", "name": "test_remix_returns_400_on_ai_error", "col_offset": 4, "lineno": 1198, "complexity": 3, "endline": 1198, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseErrorTests", "name": "test_repair_selector_returns_400_on_validation_error", "col_offset": 4, "lineno": 1217, "complexity": 3, "endline": 1217, "closures": []}, {"type": "class", "rank": "A", "name": "ValidatorEdgeCaseTests", "col_offset": 0, "lineno": 1249, "complexity": 3, "endline": 1366, "methods": [{"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "setUp", "col_offset": 4, "lineno": 1252, "complexity": 1, "endline": 1253, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_union_type_null", "col_offset": 4, "lineno": 1255, "complexity": 2, "endline": 1255, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_union_type_string", "col_offset": 4, "lineno": 1264, "complexity": 2, "endline": 1264, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_union_type_wrong_type", "col_offset": 4, "lineno": 1270, "complexity": 2, "endline": 1270, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_nested_object_in_array", "col_offset": 4, "lineno": 1280, "complexity": 3, "endline": 1280, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_nested_object_missing_field", "col_offset": 4, "lineno": 1286, "complexity": 2, "endline": 1286, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_number_type", "col_offset": 4, "lineno": 1292, "complexity": 2, "endline": 1292, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_number_type_as_int", "col_offset": 4, "lineno": 1303, "complexity": 2, "endline": 1303, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_integer_type", "col_offset": 4, "lineno": 1314, "complexity": 2, "endline": 1314, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_integer_rejects_float", "col_offset": 4, "lineno": 1319, "complexity": 1, "endline": 1322, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_integer_rejects_boolean", "col_offset": 4, "lineno": 1324, "complexity": 1, "endline": 1327, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_array_max_items", "col_offset": 4, "lineno": 1329, "complexity": 2, "endline": 1329, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_array_min_items", "col_offset": 4, "lineno": 1335, "complexity": 2, "endline": 1335, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_array_item_wrong_type", "col_offset": 4, "lineno": 1341, "complexity": 2, "endline": 1341, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_with_extra_fields_passes", "col_offset": 4, "lineno": 1347, "complexity": 3, "endline": 1347, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_special_characters", "col_offset": 4, "lineno": 1353, "complexity": 3, "endline": 1353, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_get_schema_returns_schema", "col_offset": 4, "lineno": 1359, "complexity": 4, "endline": 1359, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_get_schema_returns_none_for_unknown", "col_offset": 4, "lineno": 1366, "complexity": 2, "endline": 1366, "closures": []}]}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_nested_object_in_array", "col_offset": 4, "lineno": 1280, "complexity": 3, "endline": 1280, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_with_extra_fields_passes", "col_offset": 4, "lineno": 1347, "complexity": 3, "endline": 1347, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_special_characters", "col_offset": 4, "lineno": 1353, "complexity": 3, "endline": 1353, "closures": []}, {"type": "method", "rank": "A", "classname": "AICacheTests", "name": "test_invalidate_ai_cache", "col_offset": 4, "lineno": 1425, "complexity": 3, "endline": 1425, "closures": [{"type": "function", "rank": "A", "name": "test_func", "col_offset": 8, "lineno": 1431, "complexity": 1, "endline": 1432, "closures": []}]}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_parse_time_hours", "col_offset": 4, "lineno": 1457, "complexity": 3, "endline": 1457, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_parse_time_hours_and_minutes", "col_offset": 4, "lineno": 1464, "complexity": 3, "endline": 1464, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_parse_time_none", "col_offset": 4, "lineno": 1471, "complexity": 3, "endline": 1471, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_format_time_minutes", "col_offset": 4, "lineno": 1484, "complexity": 3, "endline": 1484, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_format_time_hours", "col_offset": 4, "lineno": 1491, "complexity": 3, "endline": 1491, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_format_time_hours_and_minutes", "col_offset": 4, "lineno": 1498, "complexity": 3, "endline": 1498, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_format_time_none", "col_offset": 4, "lineno": 1505, "complexity": 3, "endline": 1505, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_calculate_nutrition_numeric_values", "col_offset": 4, "lineno": 1549, "complexity": 3, "endline": 1549, "closures": []}, {"type": "method", "rank": "A", "classname": "RemixServiceTests", "name": "test_get_remix_suggestions_success", "col_offset": 4, "lineno": 1601, "complexity": 3, "endline": 1601, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_sort_by_image_filters_invalid", "col_offset": 4, "lineno": 1753, "complexity": 3, "endline": 1753, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_rank_results_single_item", "col_offset": 4, "lineno": 1828, "complexity": 3, "endline": 1828, "closures": []}, {"type": "class", "rank": "A", "name": "FixturesIntegrationTests", "col_offset": 0, "lineno": 1853, "complexity": 3, "endline": 1918, "methods": [{"type": "method", "rank": "A", "classname": "FixturesIntegrationTests", "name": "setUp", "col_offset": 4, "lineno": 1856, "complexity": 1, "endline": 1857, "closures": []}, {"type": "method", "rank": "A", "classname": "FixturesIntegrationTests", "name": "test_all_valid_fixtures_pass_validation", "col_offset": 4, "lineno": 1859, "complexity": 3, "endline": 1881, "closures": []}, {"type": "method", "rank": "A", "classname": "FixturesIntegrationTests", "name": "test_all_invalid_fixtures_fail_validation", "col_offset": 4, "lineno": 1884, "complexity": 2, "endline": 1908, "closures": []}, {"type": "method", "rank": "A", "classname": "FixturesIntegrationTests", "name": "test_get_fixture_helper", "col_offset": 4, "lineno": 1910, "complexity": 2, "endline": 1910, "closures": []}, {"type": "method", "rank": "A", "classname": "FixturesIntegrationTests", "name": "test_get_fixture_not_found", "col_offset": 4, "lineno": 1915, "complexity": 1, "endline": 1918, "closures": []}]}, {"type": "method", "rank": "A", "classname": "FixturesIntegrationTests", "name": "test_all_valid_fixtures_pass_validation", "col_offset": 4, "lineno": 1859, "complexity": 3, "endline": 1881, "closures": []}, {"type": "method", "rank": "A", "classname": "AIPromptModelTests", "name": "test_prompts_seeded", "col_offset": 4, "lineno": 20, "complexity": 2, "endline": 20, "closures": []}, {"type": "method", "rank": "A", "classname": "AIPromptModelTests", "name": "test_get_prompt", "col_offset": 4, "lineno": 42, "complexity": 2, "endline": 42, "closures": []}, {"type": "class", "rank": "A", "name": "AIResponseValidatorTests", "col_offset": 0, "lineno": 60, "complexity": 2, "endline": 147, "methods": [{"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "setUp", "col_offset": 4, "lineno": 63, "complexity": 1, "endline": 64, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_recipe_remix_valid", "col_offset": 4, "lineno": 66, "complexity": 2, "endline": 66, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_recipe_remix_missing_field", "col_offset": 4, "lineno": 77, "complexity": 2, "endline": 77, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_tips_generation_valid", "col_offset": 4, "lineno": 88, "complexity": 2, "endline": 88, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_tips_generation_too_few", "col_offset": 4, "lineno": 94, "complexity": 2, "endline": 94, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_remix_suggestions_valid", "col_offset": 4, "lineno": 101, "complexity": 2, "endline": 101, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_remix_suggestions_wrong_count", "col_offset": 4, "lineno": 114, "complexity": 1, "endline": 118, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_timer_naming_valid", "col_offset": 4, "lineno": 120, "complexity": 2, "endline": 120, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_search_ranking_valid", "col_offset": 4, "lineno": 126, "complexity": 2, "endline": 126, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_selector_repair_valid", "col_offset": 4, "lineno": 132, "complexity": 2, "endline": 132, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_unknown_prompt_type", "col_offset": 4, "lineno": 138, "complexity": 2, "endline": 138, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_wrong_type", "col_offset": 4, "lineno": 144, "complexity": 1, "endline": 147, "closures": []}]}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_recipe_remix_valid", "col_offset": 4, "lineno": 66, "complexity": 2, "endline": 66, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_recipe_remix_missing_field", "col_offset": 4, "lineno": 77, "complexity": 2, "endline": 77, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_tips_generation_valid", "col_offset": 4, "lineno": 88, "complexity": 2, "endline": 88, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_tips_generation_too_few", "col_offset": 4, "lineno": 94, "complexity": 2, "endline": 94, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_remix_suggestions_valid", "col_offset": 4, "lineno": 101, "complexity": 2, "endline": 101, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_timer_naming_valid", "col_offset": 4, "lineno": 120, "complexity": 2, "endline": 120, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_search_ranking_valid", "col_offset": 4, "lineno": 126, "complexity": 2, "endline": 126, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_selector_repair_valid", "col_offset": 4, "lineno": 132, "complexity": 2, "endline": 132, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_unknown_prompt_type", "col_offset": 4, "lineno": 138, "complexity": 2, "endline": 138, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_get_prompt_not_found", "col_offset": 4, "lineno": 257, "complexity": 2, "endline": 257, "closures": []}, {"type": "method", "rank": "A", "classname": "AIAPITests", "name": "test_test_api_key_empty", "col_offset": 4, "lineno": 294, "complexity": 2, "endline": 294, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_init_requires_api_key", "col_offset": 4, "lineno": 319, "complexity": 2, "endline": 319, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_init_with_explicit_key", "col_offset": 4, "lineno": 330, "complexity": 2, "endline": 330, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_is_available_without_key", "col_offset": 4, "lineno": 335, "complexity": 2, "endline": 335, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_is_available_with_key", "col_offset": 4, "lineno": 343, "complexity": 2, "endline": 343, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_complete_success", "col_offset": 4, "lineno": 402, "complexity": 2, "endline": 422, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_complete_handles_code_block_json", "col_offset": 4, "lineno": 425, "complexity": 2, "endline": 425, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_complete_invalid_json", "col_offset": 4, "lineno": 445, "complexity": 2, "endline": 445, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_complete_no_choices", "col_offset": 4, "lineno": 465, "complexity": 2, "endline": 465, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceTests", "name": "test_complete_raw_text_response", "col_offset": 4, "lineno": 484, "complexity": 2, "endline": 484, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterServiceAsyncTests", "name": "test_complete_async_success", "col_offset": 4, "lineno": 556, "complexity": 2, "endline": 556, "closures": []}, {"type": "method", "rank": "A", "classname": "TimerNamingServiceTests", "name": "test_generate_timer_name_success", "col_offset": 4, "lineno": 591, "complexity": 2, "endline": 602, "closures": []}, {"type": "method", "rank": "A", "classname": "TimerNamingServiceTests", "name": "test_generate_timer_name_formats_duration", "col_offset": 4, "lineno": 621, "complexity": 2, "endline": 621, "closures": []}, {"type": "method", "rank": "A", "classname": "SelectorRepairServiceTests", "name": "test_repair_selector_truncates_html", "col_offset": 4, "lineno": 791, "complexity": 2, "endline": 791, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_union_type_null", "col_offset": 4, "lineno": 1255, "complexity": 2, "endline": 1255, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_union_type_string", "col_offset": 4, "lineno": 1264, "complexity": 2, "endline": 1264, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_union_type_wrong_type", "col_offset": 4, "lineno": 1270, "complexity": 2, "endline": 1270, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_nested_object_missing_field", "col_offset": 4, "lineno": 1286, "complexity": 2, "endline": 1286, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_number_type", "col_offset": 4, "lineno": 1292, "complexity": 2, "endline": 1292, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_number_type_as_int", "col_offset": 4, "lineno": 1303, "complexity": 2, "endline": 1303, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_integer_type", "col_offset": 4, "lineno": 1314, "complexity": 2, "endline": 1314, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_array_max_items", "col_offset": 4, "lineno": 1329, "complexity": 2, "endline": 1329, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_array_min_items", "col_offset": 4, "lineno": 1335, "complexity": 2, "endline": 1335, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_array_item_wrong_type", "col_offset": 4, "lineno": 1341, "complexity": 2, "endline": 1341, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_get_schema_returns_none_for_unknown", "col_offset": 4, "lineno": 1366, "complexity": 2, "endline": 1366, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_parse_time_no_numbers", "col_offset": 4, "lineno": 1478, "complexity": 2, "endline": 1478, "closures": []}, {"type": "method", "rank": "A", "classname": "ScalingServiceTests", "name": "test_calculate_nutrition_empty", "col_offset": 4, "lineno": 1512, "complexity": 2, "endline": 1512, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_is_ranking_available_no_key", "col_offset": 4, "lineno": 1708, "complexity": 2, "endline": 1708, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_is_ranking_available_with_key", "col_offset": 4, "lineno": 1717, "complexity": 2, "endline": 1717, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_sort_by_image_prioritizes_images", "col_offset": 4, "lineno": 1741, "complexity": 2, "endline": 1741, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_rank_results_empty_list", "col_offset": 4, "lineno": 1821, "complexity": 2, "endline": 1821, "closures": []}, {"type": "method", "rank": "A", "classname": "RankingServiceTests", "name": "test_rank_results_falls_back_without_key", "col_offset": 4, "lineno": 1837, "complexity": 2, "endline": 1837, "closures": []}, {"type": "method", "rank": "A", "classname": "FixturesIntegrationTests", "name": "test_all_invalid_fixtures_fail_validation", "col_offset": 4, "lineno": 1884, "complexity": 2, "endline": 1908, "closures": []}, {"type": "method", "rank": "A", "classname": "FixturesIntegrationTests", "name": "test_get_fixture_helper", "col_offset": 4, "lineno": 1910, "complexity": 2, "endline": 1910, "closures": []}, {"type": "method", "rank": "A", "classname": "AIPromptModelTests", "name": "test_get_prompt_not_found", "col_offset": 4, "lineno": 47, "complexity": 1, "endline": 50, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "setUp", "col_offset": 4, "lineno": 63, "complexity": 1, "endline": 64, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_remix_suggestions_wrong_count", "col_offset": 4, "lineno": 114, "complexity": 1, "endline": 118, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidatorTests", "name": "test_validate_wrong_type", "col_offset": 4, "lineno": 144, "complexity": 1, "endline": 147, "closures": []}, {"type": "method", "rank": "A", "classname": "TimerNamingServiceTests", "name": "setUp", "col_offset": 4, "lineno": 584, "complexity": 1, "endline": 588, "closures": []}, {"type": "method", "rank": "A", "classname": "SelectorRepairServiceTests", "name": "setUp", "col_offset": 4, "lineno": 697, "complexity": 1, "endline": 708, "closures": []}, {"type": "method", "rank": "A", "classname": "SelectorRepairAPITests", "name": "setUp", "col_offset": 4, "lineno": 854, "complexity": 1, "endline": 864, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "setUp", "col_offset": 4, "lineno": 1008, "complexity": 1, "endline": 1023, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_tips_service_raises_when_no_key", "col_offset": 4, "lineno": 1111, "complexity": 1, "endline": 1118, "closures": []}, {"type": "method", "rank": "A", "classname": "AIFeatureFallbackTests", "name": "test_remix_service_raises_when_no_key", "col_offset": 4, "lineno": 1121, "complexity": 1, "endline": 1128, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseErrorTests", "name": "setUp", "col_offset": 4, "lineno": 1160, "complexity": 1, "endline": 1173, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "setUp", "col_offset": 4, "lineno": 1252, "complexity": 1, "endline": 1253, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_integer_rejects_float", "col_offset": 4, "lineno": 1319, "complexity": 1, "endline": 1322, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidatorEdgeCaseTests", "name": "test_validate_integer_rejects_boolean", "col_offset": 4, "lineno": 1324, "complexity": 1, "endline": 1327, "closures": []}, {"type": "method", "rank": "A", "classname": "AICacheTests", "name": "setUp", "col_offset": 4, "lineno": 1375, "complexity": 1, "endline": 1379, "closures": []}, {"type": "method", "rank": "A", "classname": "RemixServiceTests", "name": "setUp", "col_offset": 4, "lineno": 1572, "complexity": 1, "endline": 1576, "closures": []}, {"type": "method", "rank": "A", "classname": "RemixServiceTests", "name": "test_get_remix_suggestions_validation_error", "col_offset": 4, "lineno": 1623, "complexity": 1, "endline": 1641, "closures": []}, {"type": "method", "rank": "A", "classname": "FixturesIntegrationTests", "name": "setUp", "col_offset": 4, "lineno": 1856, "complexity": 1, "endline": 1857, "closures": []}, {"type": "method", "rank": "A", "classname": "FixturesIntegrationTests", "name": "test_get_fixture_not_found", "col_offset": 4, "lineno": 1915, "complexity": 1, "endline": 1918, "closures": []}], "apps/ai/models.py": [{"type": "class", "rank": "A", "name": "AIDiscoverySuggestion", "col_offset": 0, "lineno": 4, "complexity": 2, "endline": 36, "methods": [{"type": "method", "rank": "A", "classname": "AIDiscoverySuggestion", "name": "__str__", "col_offset": 4, "lineno": 35, "complexity": 1, "endline": 36, "closures": []}]}, {"type": "class", "rank": "A", "name": "AIPrompt", "col_offset": 0, "lineno": 39, "complexity": 2, "endline": 106, "methods": [{"type": "method", "rank": "A", "classname": "AIPrompt", "name": "__str__", "col_offset": 4, "lineno": 96, "complexity": 1, "endline": 97, "closures": []}, {"type": "method", "rank": "A", "classname": "AIPrompt", "name": "format_user_prompt", "col_offset": 4, "lineno": 99, "complexity": 1, "endline": 101, "closures": []}, {"type": "method", "rank": "A", "classname": "AIPrompt", "name": "get_prompt", "col_offset": 4, "lineno": 104, "complexity": 1, "endline": 106, "closures": []}]}, {"type": "method", "rank": "A", "classname": "AIDiscoverySuggestion", "name": "__str__", "col_offset": 4, "lineno": 35, "complexity": 1, "endline": 36, "closures": []}, {"type": "method", "rank": "A", "classname": "AIPrompt", "name": "__str__", "col_offset": 4, "lineno": 96, "complexity": 1, "endline": 97, "closures": []}, {"type": "method", "rank": "A", "classname": "AIPrompt", "name": "format_user_prompt", "col_offset": 4, "lineno": 99, "complexity": 1, "endline": 101, "closures": []}, {"type": "method", "rank": "A", "classname": "AIPrompt", "name": "get_prompt", "col_offset": 4, "lineno": 104, "complexity": 1, "endline": 106, "closures": []}], "apps/ai/services/remix.py": [{"type": "function", "rank": "B", "name": "create_remix", "col_offset": 0, "lineno": 66, "complexity": 10, "endline": 182, "closures": []}, {"type": "function", "rank": "B", "name": "estimate_nutrition", "col_offset": 0, "lineno": 185, "complexity": 9, "endline": 246, "closures": []}, {"type": "function", "rank": "A", "name": "_parse_time", "col_offset": 0, "lineno": 249, "complexity": 5, "endline": 271, "closures": []}, {"type": "function", "rank": "A", "name": "get_remix_suggestions", "col_offset": 0, "lineno": 19, "complexity": 4, "endline": 63, "closures": []}, {"type": "function", "rank": "A", "name": "_parse_servings", "col_offset": 0, "lineno": 274, "complexity": 3, "endline": 285, "closures": []}, {"type": "function", "rank": "A", "name": "_generate_tips_background", "col_offset": 0, "lineno": 288, "complexity": 3, "endline": 310, "closures": []}], "apps/ai/services/tips.py": [{"type": "function", "rank": "B", "name": "generate_tips", "col_offset": 0, "lineno": 14, "complexity": 7, "endline": 84, "closures": []}, {"type": "function", "rank": "A", "name": "clear_tips", "col_offset": 0, "lineno": 88, "complexity": 2, "endline": 108, "closures": []}], "apps/ai/services/timer.py": [{"type": "function", "rank": "B", "name": "generate_timer_name", "col_offset": 0, "lineno": 14, "complexity": 8, "endline": 70, "closures": []}], "apps/ai/services/selector.py": [{"type": "function", "rank": "A", "name": "repair_selector", "col_offset": 0, "lineno": 18, "complexity": 5, "endline": 110, "closures": []}, {"type": "function", "rank": "A", "name": "repair_all_broken_selectors", "col_offset": 0, "lineno": 127, "complexity": 5, "endline": 180, "closures": []}, {"type": "function", "rank": "A", "name": "get_sources_needing_attention", "col_offset": 0, "lineno": 113, "complexity": 1, "endline": 122, "closures": []}], "apps/ai/services/validator.py": [{"type": "method", "rank": "C", "classname": "AIResponseValidator", "name": "_format_error", "col_offset": 4, "lineno": 165, "complexity": 11, "endline": 198, "closures": []}, {"type": "class", "rank": "B", "name": "AIResponseValidator", "col_offset": 0, "lineno": 135, "complexity": 6, "endline": 202, "methods": [{"type": "method", "rank": "A", "classname": "AIResponseValidator", "name": "validate", "col_offset": 4, "lineno": 138, "complexity": 3, "endline": 163, "closures": []}, {"type": "method", "rank": "C", "classname": "AIResponseValidator", "name": "_format_error", "col_offset": 4, "lineno": 165, "complexity": 11, "endline": 198, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidator", "name": "get_schema", "col_offset": 4, "lineno": 200, "complexity": 1, "endline": 202, "closures": []}]}, {"type": "class", "rank": "A", "name": "ValidationError", "col_offset": 0, "lineno": 8, "complexity": 3, "endline": 13, "methods": [{"type": "method", "rank": "A", "classname": "ValidationError", "name": "__init__", "col_offset": 4, "lineno": 11, "complexity": 2, "endline": 13, "closures": []}]}, {"type": "method", "rank": "A", "classname": "AIResponseValidator", "name": "validate", "col_offset": 4, "lineno": 138, "complexity": 3, "endline": 163, "closures": []}, {"type": "method", "rank": "A", "classname": "ValidationError", "name": "__init__", "col_offset": 4, "lineno": 11, "complexity": 2, "endline": 13, "closures": []}, {"type": "method", "rank": "A", "classname": "AIResponseValidator", "name": "get_schema", "col_offset": 4, "lineno": 200, "complexity": 1, "endline": 202, "closures": []}], "apps/ai/services/ranking.py": [{"type": "function", "rank": "C", "name": "rank_results", "col_offset": 0, "lineno": 43, "complexity": 12, "endline": 131, "closures": []}, {"type": "function", "rank": "B", "name": "_apply_ranking", "col_offset": 0, "lineno": 134, "complexity": 7, "endline": 162, "closures": []}, {"type": "function", "rank": "A", "name": "_filter_valid", "col_offset": 0, "lineno": 24, "complexity": 3, "endline": 30, "closures": []}, {"type": "function", "rank": "A", "name": "is_ranking_available", "col_offset": 0, "lineno": 15, "complexity": 2, "endline": 21, "closures": []}, {"type": "function", "rank": "A", "name": "_sort_by_image", "col_offset": 0, "lineno": 33, "complexity": 2, "endline": 40, "closures": []}], "apps/ai/services/openrouter.py": [{"type": "method", "rank": "B", "classname": "OpenRouterService", "name": "get_available_models", "col_offset": 4, "lineno": 199, "complexity": 8, "endline": 225, "closures": []}, {"type": "method", "rank": "B", "classname": "OpenRouterService", "name": "validate_key_cached", "col_offset": 4, "lineno": 255, "complexity": 8, "endline": 287, "closures": []}, {"type": "method", "rank": "B", "classname": "OpenRouterService", "name": "complete", "col_offset": 4, "lineno": 87, "complexity": 7, "endline": 140, "closures": []}, {"type": "method", "rank": "B", "classname": "OpenRouterService", "name": "complete_async", "col_offset": 4, "lineno": 142, "complexity": 7, "endline": 191, "closures": []}, {"type": "class", "rank": "B", "name": "OpenRouterService", "col_offset": 0, "lineno": 33, "complexity": 6, "endline": 292, "methods": [{"type": "method", "rank": "A", "classname": "OpenRouterService", "name": "__init__", "col_offset": 4, "lineno": 40, "complexity": 3, "endline": 53, "closures": []}, {"type": "method", "rank": "B", "classname": "OpenRouterService", "name": "_parse_json_response", "col_offset": 4, "lineno": 55, "complexity": 6, "endline": 85, "closures": []}, {"type": "method", "rank": "B", "classname": "OpenRouterService", "name": "complete", "col_offset": 4, "lineno": 87, "complexity": 7, "endline": 140, "closures": []}, {"type": "method", "rank": "B", "classname": "OpenRouterService", "name": "complete_async", "col_offset": 4, "lineno": 142, "complexity": 7, "endline": 191, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterService", "name": "is_available", "col_offset": 4, "lineno": 194, "complexity": 1, "endline": 197, "closures": []}, {"type": "method", "rank": "B", "classname": "OpenRouterService", "name": "get_available_models", "col_offset": 4, "lineno": 199, "complexity": 8, "endline": 225, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterService", "name": "test_connection", "col_offset": 4, "lineno": 228, "complexity": 4, "endline": 252, "closures": []}, {"type": "method", "rank": "B", "classname": "OpenRouterService", "name": "validate_key_cached", "col_offset": 4, "lineno": 255, "complexity": 8, "endline": 287, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterService", "name": "invalidate_key_cache", "col_offset": 4, "lineno": 290, "complexity": 1, "endline": 292, "closures": []}]}, {"type": "method", "rank": "B", "classname": "OpenRouterService", "name": "_parse_json_response", "col_offset": 4, "lineno": 55, "complexity": 6, "endline": 85, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterService", "name": "test_connection", "col_offset": 4, "lineno": 228, "complexity": 4, "endline": 252, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterService", "name": "__init__", "col_offset": 4, "lineno": 40, "complexity": 3, "endline": 53, "closures": []}, {"type": "class", "rank": "A", "name": "AIServiceError", "col_offset": 0, "lineno": 15, "complexity": 1, "endline": 18, "methods": []}, {"type": "class", "rank": "A", "name": "AIUnavailableError", "col_offset": 0, "lineno": 21, "complexity": 1, "endline": 24, "methods": []}, {"type": "class", "rank": "A", "name": "AIResponseError", "col_offset": 0, "lineno": 27, "complexity": 1, "endline": 30, "methods": []}, {"type": "method", "rank": "A", "classname": "OpenRouterService", "name": "is_available", "col_offset": 4, "lineno": 194, "complexity": 1, "endline": 197, "closures": []}, {"type": "method", "rank": "A", "classname": "OpenRouterService", "name": "invalidate_key_cache", "col_offset": 4, "lineno": 290, "complexity": 1, "endline": 292, "closures": []}], "apps/ai/services/cache.py": [{"type": "function", "rank": "A", "name": "_make_cache_key", "col_offset": 0, "lineno": 18, "complexity": 1, "endline": 39, "closures": []}, {"type": "function", "rank": "A", "name": "cache_ai_response", "col_offset": 0, "lineno": 42, "complexity": 1, "endline": 98, "closures": [{"type": "function", "rank": "A", "name": "decorator", "col_offset": 4, "lineno": 65, "complexity": 1, "endline": 96, "closures": [{"type": "function", "rank": "B", "name": "wrapper", "col_offset": 8, "lineno": 67, "complexity": 8, "endline": 94, "closures": []}]}]}, {"type": "function", "rank": "A", "name": "invalidate_ai_cache", "col_offset": 0, "lineno": 101, "complexity": 1, "endline": 113, "closures": []}], "apps/ai/services/scaling.py": [{"type": "function", "rank": "C", "name": "scale_recipe", "col_offset": 0, "lineno": 56, "complexity": 12, "endline": 185, "closures": []}, {"type": "function", "rank": "B", "name": "calculate_nutrition", "col_offset": 0, "lineno": 189, "complexity": 7, "endline": 241, "closures": []}, {"type": "function", "rank": "B", "name": "_format_time", "col_offset": 0, "lineno": 43, "complexity": 6, "endline": 53, "closures": []}, {"type": "function", "rank": "A", "name": "_parse_time", "col_offset": 0, "lineno": 17, "complexity": 5, "endline": 40, "closures": []}], "apps/ai/services/discover.py": [{"type": "function", "rank": "B", "name": "_generate_recommended_suggestions", "col_offset": 0, "lineno": 162, "complexity": 8, "endline": 211, "closures": []}, {"type": "function", "rank": "B", "name": "_generate_new_suggestions", "col_offset": 0, "lineno": 214, "complexity": 8, "endline": 263, "closures": []}, {"type": "function", "rank": "A", "name": "_format_suggestions", "col_offset": 0, "lineno": 83, "complexity": 5, "endline": 108, "closures": []}, {"type": "function", "rank": "A", "name": "get_discover_suggestions", "col_offset": 0, "lineno": 22, "complexity": 4, "endline": 80, "closures": []}, {"type": "function", "rank": "A", "name": "_generate_seasonal_suggestions", "col_offset": 0, "lineno": 112, "complexity": 4, "endline": 159, "closures": []}, {"type": "function", "rank": "A", "name": "_get_season", "col_offset": 0, "lineno": 266, "complexity": 4, "endline": 276, "closures": []}], "apps/ai/migrations/0008_update_serving_adjustment_indivisible.py": [{"type": "function", "rank": "A", "name": "update_prompt", "col_offset": 0, "lineno": 6, "complexity": 2, "endline": 64, "closures": []}, {"type": "function", "rank": "A", "name": "revert_prompt", "col_offset": 0, "lineno": 67, "complexity": 2, "endline": 117, "closures": []}, {"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 120, "complexity": 1, "endline": 126, "methods": []}], "apps/ai/migrations/0009_fix_discover_prompts.py": [{"type": "function", "rank": "A", "name": "update_discover_prompts", "col_offset": 0, "lineno": 121, "complexity": 3, "endline": 137, "closures": []}, {"type": "function", "rank": "A", "name": "reverse_update", "col_offset": 0, "lineno": 140, "complexity": 3, "endline": 156, "closures": []}, {"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 159, "complexity": 1, "endline": 166, "methods": []}], "apps/ai/migrations/0001_initial.py": [{"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 6, "complexity": 1, "endline": 31, "methods": []}], "apps/ai/migrations/0005_update_serving_adjustment_v2.py": [{"type": "function", "rank": "A", "name": "update_prompt", "col_offset": 0, "lineno": 6, "complexity": 2, "endline": 73, "closures": []}, {"type": "function", "rank": "A", "name": "revert_prompt", "col_offset": 0, "lineno": 76, "complexity": 2, "endline": 116, "closures": []}, {"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 119, "complexity": 1, "endline": 125, "methods": []}], "apps/ai/migrations/0007_update_search_ranking_prompt.py": [{"type": "function", "rank": "A", "name": "update_search_ranking_prompt", "col_offset": 0, "lineno": 6, "complexity": 2, "endline": 27, "closures": []}, {"type": "function", "rank": "A", "name": "reverse_update", "col_offset": 0, "lineno": 30, "complexity": 2, "endline": 51, "closures": []}, {"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 54, "complexity": 1, "endline": 61, "methods": []}], "apps/ai/migrations/0003_nutrition_estimate_prompt.py": [{"type": "function", "rank": "A", "name": "add_nutrition_prompt", "col_offset": 0, "lineno": 6, "complexity": 1, "endline": 52, "closures": []}, {"type": "function", "rank": "A", "name": "remove_nutrition_prompt", "col_offset": 0, "lineno": 56, "complexity": 1, "endline": 59, "closures": []}, {"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 62, "complexity": 1, "endline": 68, "methods": []}], "apps/ai/migrations/0006_add_ai_discovery_suggestion.py": [{"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 7, "complexity": 1, "endline": 35, "methods": []}], "apps/ai/migrations/0002_seed_prompts.py": [{"type": "function", "rank": "A", "name": "seed_prompts", "col_offset": 0, "lineno": 6, "complexity": 2, "endline": 291, "closures": []}, {"type": "function", "rank": "A", "name": "remove_prompts", "col_offset": 0, "lineno": 294, "complexity": 1, "endline": 297, "closures": []}, {"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 300, "complexity": 1, "endline": 306, "methods": []}], "apps/ai/migrations/0004_update_serving_adjustment_prompt.py": [{"type": "function", "rank": "A", "name": "update_prompt", "col_offset": 0, "lineno": 6, "complexity": 2, "endline": 46, "closures": []}, {"type": "function", "rank": "A", "name": "revert_prompt", "col_offset": 0, "lineno": 49, "complexity": 2, "endline": 78, "closures": []}, {"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 81, "complexity": 1, "endline": 87, "methods": []}], "apps/recipes/utils.py": [{"type": "function", "rank": "C", "name": "decimal_to_fraction", "col_offset": 0, "lineno": 92, "complexity": 14, "endline": 144, "closures": []}, {"type": "function", "rank": "B", "name": "tidy_ingredient", "col_offset": 0, "lineno": 147, "complexity": 7, "endline": 202, "closures": []}, {"type": "function", "rank": "A", "name": "tidy_quantities", "col_offset": 0, "lineno": 205, "complexity": 2, "endline": 214, "closures": []}], "apps/recipes/api_user.py": [{"type": "function", "rank": "A", "name": "add_recipe_to_collection", "col_offset": 0, "lineno": 202, "complexity": 3, "endline": 220, "closures": []}, {"type": "function", "rank": "A", "name": "add_favorite", "col_offset": 0, "lineno": 57, "complexity": 2, "endline": 66, "closures": []}, {"type": "function", "rank": "A", "name": "create_collection", "col_offset": 0, "lineno": 154, "complexity": 2, "endline": 166, "closures": []}, {"type": "function", "rank": "A", "name": "update_collection", "col_offset": 0, "lineno": 178, "complexity": 2, "endline": 189, "closures": []}, {"type": "function", "rank": "A", "name": "record_view", "col_offset": 0, "lineno": 265, "complexity": 2, "endline": 281, "closures": []}, {"type": "class", "rank": "A", "name": "FavoriteOut", "col_offset": 0, "lineno": 36, "complexity": 2, "endline": 42, "methods": [{"type": "method", "rank": "A", "classname": "FavoriteOut", "name": "resolve_created_at", "col_offset": 4, "lineno": 41, "complexity": 1, "endline": 42, "closures": []}]}, {"type": "class", "rank": "A", "name": "CollectionItemOut", "col_offset": 0, "lineno": 94, "complexity": 2, "endline": 101, "methods": [{"type": "method", "rank": "A", "classname": "CollectionItemOut", "name": "resolve_added_at", "col_offset": 4, "lineno": 100, "complexity": 1, "endline": 101, "closures": []}]}, {"type": "class", "rank": "A", "name": "CollectionOut", "col_offset": 0, "lineno": 104, "complexity": 2, "endline": 122, "methods": [{"type": "method", "rank": "A", "classname": "CollectionOut", "name": "resolve_recipe_count", "col_offset": 4, "lineno": 113, "complexity": 1, "endline": 114, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionOut", "name": "resolve_created_at", "col_offset": 4, "lineno": 117, "complexity": 1, "endline": 118, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionOut", "name": "resolve_updated_at", "col_offset": 4, "lineno": 121, "complexity": 1, "endline": 122, "closures": []}]}, {"type": "class", "rank": "A", "name": "CollectionDetailOut", "col_offset": 0, "lineno": 125, "complexity": 2, "endline": 143, "methods": [{"type": "method", "rank": "A", "classname": "CollectionDetailOut", "name": "resolve_recipes", "col_offset": 4, "lineno": 134, "complexity": 1, "endline": 135, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionDetailOut", "name": "resolve_created_at", "col_offset": 4, "lineno": 138, "complexity": 1, "endline": 139, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionDetailOut", "name": "resolve_updated_at", "col_offset": 4, "lineno": 142, "complexity": 1, "endline": 143, "closures": []}]}, {"type": "class", "rank": "A", "name": "HistoryOut", "col_offset": 0, "lineno": 244, "complexity": 2, "endline": 250, "methods": [{"type": "method", "rank": "A", "classname": "HistoryOut", "name": "resolve_viewed_at", "col_offset": 4, "lineno": 249, "complexity": 1, "endline": 250, "closures": []}]}, {"type": "function", "rank": "A", "name": "list_favorites", "col_offset": 0, "lineno": 50, "complexity": 1, "endline": 53, "closures": []}, {"type": "function", "rank": "A", "name": "remove_favorite", "col_offset": 0, "lineno": 70, "complexity": 1, "endline": 75, "closures": []}, {"type": "function", "rank": "A", "name": "list_collections", "col_offset": 0, "lineno": 147, "complexity": 1, "endline": 150, "closures": []}, {"type": "function", "rank": "A", "name": "get_collection", "col_offset": 0, "lineno": 170, "complexity": 1, "endline": 174, "closures": []}, {"type": "function", "rank": "A", "name": "delete_collection", "col_offset": 0, "lineno": 193, "complexity": 1, "endline": 198, "closures": []}, {"type": "function", "rank": "A", "name": "remove_recipe_from_collection", "col_offset": 0, "lineno": 224, "complexity": 1, "endline": 230, "closures": []}, {"type": "function", "rank": "A", "name": "list_history", "col_offset": 0, "lineno": 254, "complexity": 1, "endline": 261, "closures": []}, {"type": "function", "rank": "A", "name": "clear_history", "col_offset": 0, "lineno": 285, "complexity": 1, "endline": 289, "closures": []}, {"type": "class", "rank": "A", "name": "FavoriteIn", "col_offset": 0, "lineno": 32, "complexity": 1, "endline": 33, "methods": []}, {"type": "method", "rank": "A", "classname": "FavoriteOut", "name": "resolve_created_at", "col_offset": 4, "lineno": 41, "complexity": 1, "endline": 42, "closures": []}, {"type": "class", "rank": "A", "name": "ErrorOut", "col_offset": 0, "lineno": 45, "complexity": 1, "endline": 46, "methods": []}, {"type": "class", "rank": "A", "name": "CollectionIn", "col_offset": 0, "lineno": 85, "complexity": 1, "endline": 87, "methods": []}, {"type": "class", "rank": "A", "name": "CollectionItemIn", "col_offset": 0, "lineno": 90, "complexity": 1, "endline": 91, "methods": []}, {"type": "method", "rank": "A", "classname": "CollectionItemOut", "name": "resolve_added_at", "col_offset": 4, "lineno": 100, "complexity": 1, "endline": 101, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionOut", "name": "resolve_recipe_count", "col_offset": 4, "lineno": 113, "complexity": 1, "endline": 114, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionOut", "name": "resolve_created_at", "col_offset": 4, "lineno": 117, "complexity": 1, "endline": 118, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionOut", "name": "resolve_updated_at", "col_offset": 4, "lineno": 121, "complexity": 1, "endline": 122, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionDetailOut", "name": "resolve_recipes", "col_offset": 4, "lineno": 134, "complexity": 1, "endline": 135, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionDetailOut", "name": "resolve_created_at", "col_offset": 4, "lineno": 138, "complexity": 1, "endline": 139, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionDetailOut", "name": "resolve_updated_at", "col_offset": 4, "lineno": 142, "complexity": 1, "endline": 143, "closures": []}, {"type": "class", "rank": "A", "name": "HistoryIn", "col_offset": 0, "lineno": 240, "complexity": 1, "endline": 241, "methods": []}, {"type": "method", "rank": "A", "classname": "HistoryOut", "name": "resolve_viewed_at", "col_offset": 4, "lineno": 249, "complexity": 1, "endline": 250, "closures": []}], "apps/recipes/api.py": [{"type": "function", "rank": "B", "name": "search_recipes", "col_offset": 0, "lineno": 198, "complexity": 10, "endline": 265, "closures": [{"type": "function", "rank": "A", "name": "cache_in_background", "col_offset": 8, "lineno": 247, "complexity": 2, "endline": 259, "closures": []}]}, {"type": "function", "rank": "A", "name": "list_recipes", "col_offset": 0, "lineno": 135, "complexity": 4, "endline": 164, "closures": []}, {"type": "function", "rank": "A", "name": "scrape_recipe", "col_offset": 0, "lineno": 168, "complexity": 4, "endline": 194, "closures": []}, {"type": "class", "rank": "A", "name": "RecipeListOut", "col_offset": 0, "lineno": 80, "complexity": 3, "endline": 101, "methods": [{"type": "method", "rank": "A", "classname": "RecipeListOut", "name": "resolve_image", "col_offset": 4, "lineno": 94, "complexity": 2, "endline": 97, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeListOut", "name": "resolve_scraped_at", "col_offset": 4, "lineno": 100, "complexity": 1, "endline": 101, "closures": []}]}, {"type": "function", "rank": "A", "name": "cache_health", "col_offset": 0, "lineno": 269, "complexity": 2, "endline": 291, "closures": []}, {"type": "function", "rank": "A", "name": "get_recipe", "col_offset": 0, "lineno": 300, "complexity": 2, "endline": 312, "closures": []}, {"type": "function", "rank": "A", "name": "delete_recipe", "col_offset": 0, "lineno": 316, "complexity": 2, "endline": 329, "closures": []}, {"type": "class", "rank": "A", "name": "RecipeOut", "col_offset": 0, "lineno": 28, "complexity": 2, "endline": 77, "methods": [{"type": "method", "rank": "A", "classname": "RecipeOut", "name": "resolve_image", "col_offset": 4, "lineno": 66, "complexity": 2, "endline": 69, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeOut", "name": "resolve_scraped_at", "col_offset": 4, "lineno": 72, "complexity": 1, "endline": 73, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeOut", "name": "resolve_updated_at", "col_offset": 4, "lineno": 76, "complexity": 1, "endline": 77, "closures": []}]}, {"type": "method", "rank": "A", "classname": "RecipeOut", "name": "resolve_image", "col_offset": 4, "lineno": 66, "complexity": 2, "endline": 69, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeListOut", "name": "resolve_image", "col_offset": 4, "lineno": 94, "complexity": 2, "endline": 97, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeOut", "name": "resolve_scraped_at", "col_offset": 4, "lineno": 72, "complexity": 1, "endline": 73, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeOut", "name": "resolve_updated_at", "col_offset": 4, "lineno": 76, "complexity": 1, "endline": 77, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeListOut", "name": "resolve_scraped_at", "col_offset": 4, "lineno": 100, "complexity": 1, "endline": 101, "closures": []}, {"type": "class", "rank": "A", "name": "ScrapeIn", "col_offset": 0, "lineno": 104, "complexity": 1, "endline": 105, "methods": []}, {"type": "class", "rank": "A", "name": "ErrorOut", "col_offset": 0, "lineno": 108, "complexity": 1, "endline": 109, "methods": []}, {"type": "class", "rank": "A", "name": "SearchResultOut", "col_offset": 0, "lineno": 112, "complexity": 1, "endline": 119, "methods": []}, {"type": "class", "rank": "A", "name": "SearchOut", "col_offset": 0, "lineno": 122, "complexity": 1, "endline": 127, "methods": []}], "apps/recipes/sources_api.py": [{"type": "function", "rank": "A", "name": "test_source", "col_offset": 0, "lineno": 155, "complexity": 5, "endline": 222, "closures": []}, {"type": "function", "rank": "A", "name": "test_all_sources", "col_offset": 0, "lineno": 227, "complexity": 5, "endline": 303, "closures": []}, {"type": "class", "rank": "A", "name": "SourceOut", "col_offset": 0, "lineno": 20, "complexity": 3, "endline": 36, "methods": [{"type": "method", "rank": "A", "classname": "SourceOut", "name": "resolve_last_validated_at", "col_offset": 4, "lineno": 33, "complexity": 2, "endline": 36, "closures": []}]}, {"type": "function", "rank": "A", "name": "get_source", "col_offset": 0, "lineno": 96, "complexity": 2, "endline": 104, "closures": []}, {"type": "function", "rank": "A", "name": "toggle_source", "col_offset": 0, "lineno": 109, "complexity": 2, "endline": 122, "closures": []}, {"type": "function", "rank": "A", "name": "update_selector", "col_offset": 0, "lineno": 137, "complexity": 2, "endline": 150, "closures": []}, {"type": "method", "rank": "A", "classname": "SourceOut", "name": "resolve_last_validated_at", "col_offset": 4, "lineno": 33, "complexity": 2, "endline": 36, "closures": []}, {"type": "function", "rank": "A", "name": "list_sources", "col_offset": 0, "lineno": 78, "complexity": 1, "endline": 81, "closures": []}, {"type": "function", "rank": "A", "name": "enabled_count", "col_offset": 0, "lineno": 85, "complexity": 1, "endline": 91, "closures": []}, {"type": "function", "rank": "A", "name": "bulk_toggle_sources", "col_offset": 0, "lineno": 127, "complexity": 1, "endline": 132, "closures": []}, {"type": "class", "rank": "A", "name": "SourceToggleOut", "col_offset": 0, "lineno": 39, "complexity": 1, "endline": 41, "methods": []}, {"type": "class", "rank": "A", "name": "SourceUpdateIn", "col_offset": 0, "lineno": 44, "complexity": 1, "endline": 45, "methods": []}, {"type": "class", "rank": "A", "name": "SourceUpdateOut", "col_offset": 0, "lineno": 48, "complexity": 1, "endline": 50, "methods": []}, {"type": "class", "rank": "A", "name": "SourceTestOut", "col_offset": 0, "lineno": 53, "complexity": 1, "endline": 57, "methods": []}, {"type": "class", "rank": "A", "name": "ErrorOut", "col_offset": 0, "lineno": 60, "complexity": 1, "endline": 62, "methods": []}, {"type": "class", "rank": "A", "name": "BulkToggleIn", "col_offset": 0, "lineno": 65, "complexity": 1, "endline": 66, "methods": []}, {"type": "class", "rank": "A", "name": "BulkToggleOut", "col_offset": 0, "lineno": 69, "complexity": 1, "endline": 71, "methods": []}], "apps/recipes/tests.py": [{"type": "class", "rank": "A", "name": "BaseTestCase", "col_offset": 0, "lineno": 19, "complexity": 2, "endline": 47, "methods": [{"type": "method", "rank": "A", "classname": "BaseTestCase", "name": "setUp", "col_offset": 4, "lineno": 22, "complexity": 1, "endline": 47, "closures": []}]}, {"type": "class", "rank": "A", "name": "CollectionTests", "col_offset": 0, "lineno": 50, "complexity": 2, "endline": 239, "methods": [{"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_list_collections_empty", "col_offset": 4, "lineno": 53, "complexity": 1, "endline": 57, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_create_collection", "col_offset": 4, "lineno": 59, "complexity": 1, "endline": 70, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_create_collection_duplicate_name", "col_offset": 4, "lineno": 72, "complexity": 1, "endline": 83, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_list_collections", "col_offset": 4, "lineno": 85, "complexity": 1, "endline": 93, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_get_collection", "col_offset": 4, "lineno": 95, "complexity": 1, "endline": 113, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_get_collection_not_found", "col_offset": 4, "lineno": 115, "complexity": 1, "endline": 118, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_update_collection", "col_offset": 4, "lineno": 120, "complexity": 1, "endline": 135, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_delete_collection", "col_offset": 4, "lineno": 137, "complexity": 1, "endline": 146, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_add_recipe_to_collection", "col_offset": 4, "lineno": 148, "complexity": 1, "endline": 163, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_add_recipe_to_collection_increments_order", "col_offset": 4, "lineno": 165, "complexity": 1, "endline": 184, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_add_duplicate_recipe_to_collection", "col_offset": 4, "lineno": 186, "complexity": 1, "endline": 203, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_remove_recipe_from_collection", "col_offset": 4, "lineno": 205, "complexity": 1, "endline": 219, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_collection_isolation_between_profiles", "col_offset": 4, "lineno": 221, "complexity": 1, "endline": 239, "closures": []}]}, {"type": "class", "rank": "A", "name": "FavoriteTests", "col_offset": 0, "lineno": 242, "complexity": 2, "endline": 316, "methods": [{"type": "method", "rank": "A", "classname": "FavoriteTests", "name": "test_list_favorites_empty", "col_offset": 4, "lineno": 245, "complexity": 1, "endline": 249, "closures": []}, {"type": "method", "rank": "A", "classname": "FavoriteTests", "name": "test_add_favorite", "col_offset": 4, "lineno": 251, "complexity": 1, "endline": 260, "closures": []}, {"type": "method", "rank": "A", "classname": "FavoriteTests", "name": "test_add_duplicate_favorite", "col_offset": 4, "lineno": 262, "complexity": 1, "endline": 274, "closures": []}, {"type": "method", "rank": "A", "classname": "FavoriteTests", "name": "test_list_favorites", "col_offset": 4, "lineno": 276, "complexity": 1, "endline": 284, "closures": []}, {"type": "method", "rank": "A", "classname": "FavoriteTests", "name": "test_remove_favorite", "col_offset": 4, "lineno": 286, "complexity": 1, "endline": 295, "closures": []}, {"type": "method", "rank": "A", "classname": "FavoriteTests", "name": "test_remove_favorite_not_found", "col_offset": 4, "lineno": 297, "complexity": 1, "endline": 300, "closures": []}, {"type": "method", "rank": "A", "classname": "FavoriteTests", "name": "test_favorites_isolation_between_profiles", "col_offset": 4, "lineno": 302, "complexity": 1, "endline": 316, "closures": []}]}, {"type": "class", "rank": "A", "name": "HistoryTests", "col_offset": 0, "lineno": 319, "complexity": 2, "endline": 401, "methods": [{"type": "method", "rank": "A", "classname": "HistoryTests", "name": "test_list_history_empty", "col_offset": 4, "lineno": 322, "complexity": 1, "endline": 326, "closures": []}, {"type": "method", "rank": "A", "classname": "HistoryTests", "name": "test_record_view", "col_offset": 4, "lineno": 328, "complexity": 1, "endline": 337, "closures": []}, {"type": "method", "rank": "A", "classname": "HistoryTests", "name": "test_record_view_updates_timestamp", "col_offset": 4, "lineno": 339, "complexity": 1, "endline": 356, "closures": []}, {"type": "method", "rank": "A", "classname": "HistoryTests", "name": "test_list_history", "col_offset": 4, "lineno": 358, "complexity": 1, "endline": 366, "closures": []}, {"type": "method", "rank": "A", "classname": "HistoryTests", "name": "test_list_history_with_limit", "col_offset": 4, "lineno": 368, "complexity": 1, "endline": 376, "closures": []}, {"type": "method", "rank": "A", "classname": "HistoryTests", "name": "test_clear_history", "col_offset": 4, "lineno": 378, "complexity": 1, "endline": 385, "closures": []}, {"type": "method", "rank": "A", "classname": "HistoryTests", "name": "test_history_isolation_between_profiles", "col_offset": 4, "lineno": 387, "complexity": 1, "endline": 401, "closures": []}]}, {"type": "class", "rank": "A", "name": "NoProfileTests", "col_offset": 0, "lineno": 404, "complexity": 2, "endline": 434, "methods": [{"type": "method", "rank": "A", "classname": "NoProfileTests", "name": "setUp", "col_offset": 4, "lineno": 407, "complexity": 1, "endline": 418, "closures": []}, {"type": "method", "rank": "A", "classname": "NoProfileTests", "name": "test_favorites_requires_profile", "col_offset": 4, "lineno": 421, "complexity": 1, "endline": 424, "closures": []}, {"type": "method", "rank": "A", "classname": "NoProfileTests", "name": "test_collections_requires_profile", "col_offset": 4, "lineno": 426, "complexity": 1, "endline": 429, "closures": []}, {"type": "method", "rank": "A", "classname": "NoProfileTests", "name": "test_history_requires_profile", "col_offset": 4, "lineno": 431, "complexity": 1, "endline": 434, "closures": []}]}, {"type": "class", "rank": "A", "name": "QuantityTidyingTests", "col_offset": 0, "lineno": 437, "complexity": 2, "endline": 564, "methods": [{"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_half", "col_offset": 4, "lineno": 440, "complexity": 1, "endline": 444, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_quarter", "col_offset": 4, "lineno": 446, "complexity": 1, "endline": 450, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_third", "col_offset": 4, "lineno": 452, "complexity": 1, "endline": 457, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_two_thirds", "col_offset": 4, "lineno": 459, "complexity": 1, "endline": 464, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_three_quarters", "col_offset": 4, "lineno": 466, "complexity": 1, "endline": 470, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_mixed_number", "col_offset": 4, "lineno": 472, "complexity": 1, "endline": 478, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_whole_number", "col_offset": 4, "lineno": 480, "complexity": 1, "endline": 485, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_cups", "col_offset": 4, "lineno": 487, "complexity": 1, "endline": 493, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_tablespoons", "col_offset": 4, "lineno": 495, "complexity": 1, "endline": 500, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_teaspoons", "col_offset": 4, "lineno": 502, "complexity": 1, "endline": 507, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_keeps_grams", "col_offset": 4, "lineno": 509, "complexity": 1, "endline": 514, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_keeps_ml", "col_offset": 4, "lineno": 516, "complexity": 1, "endline": 521, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_countable_items", "col_offset": 4, "lineno": 523, "complexity": 1, "endline": 528, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_no_unit", "col_offset": 4, "lineno": 530, "complexity": 1, "endline": 535, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_quantities_list", "col_offset": 4, "lineno": 537, "complexity": 1, "endline": 551, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_empty_string", "col_offset": 4, "lineno": 553, "complexity": 1, "endline": 557, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_no_number", "col_offset": 4, "lineno": 559, "complexity": 1, "endline": 564, "closures": []}]}, {"type": "method", "rank": "A", "classname": "BaseTestCase", "name": "setUp", "col_offset": 4, "lineno": 22, "complexity": 1, "endline": 47, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_list_collections_empty", "col_offset": 4, "lineno": 53, "complexity": 1, "endline": 57, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_create_collection", "col_offset": 4, "lineno": 59, "complexity": 1, "endline": 70, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_create_collection_duplicate_name", "col_offset": 4, "lineno": 72, "complexity": 1, "endline": 83, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_list_collections", "col_offset": 4, "lineno": 85, "complexity": 1, "endline": 93, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_get_collection", "col_offset": 4, "lineno": 95, "complexity": 1, "endline": 113, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_get_collection_not_found", "col_offset": 4, "lineno": 115, "complexity": 1, "endline": 118, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_update_collection", "col_offset": 4, "lineno": 120, "complexity": 1, "endline": 135, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_delete_collection", "col_offset": 4, "lineno": 137, "complexity": 1, "endline": 146, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_add_recipe_to_collection", "col_offset": 4, "lineno": 148, "complexity": 1, "endline": 163, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_add_recipe_to_collection_increments_order", "col_offset": 4, "lineno": 165, "complexity": 1, "endline": 184, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_add_duplicate_recipe_to_collection", "col_offset": 4, "lineno": 186, "complexity": 1, "endline": 203, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_remove_recipe_from_collection", "col_offset": 4, "lineno": 205, "complexity": 1, "endline": 219, "closures": []}, {"type": "method", "rank": "A", "classname": "CollectionTests", "name": "test_collection_isolation_between_profiles", "col_offset": 4, "lineno": 221, "complexity": 1, "endline": 239, "closures": []}, {"type": "method", "rank": "A", "classname": "FavoriteTests", "name": "test_list_favorites_empty", "col_offset": 4, "lineno": 245, "complexity": 1, "endline": 249, "closures": []}, {"type": "method", "rank": "A", "classname": "FavoriteTests", "name": "test_add_favorite", "col_offset": 4, "lineno": 251, "complexity": 1, "endline": 260, "closures": []}, {"type": "method", "rank": "A", "classname": "FavoriteTests", "name": "test_add_duplicate_favorite", "col_offset": 4, "lineno": 262, "complexity": 1, "endline": 274, "closures": []}, {"type": "method", "rank": "A", "classname": "FavoriteTests", "name": "test_list_favorites", "col_offset": 4, "lineno": 276, "complexity": 1, "endline": 284, "closures": []}, {"type": "method", "rank": "A", "classname": "FavoriteTests", "name": "test_remove_favorite", "col_offset": 4, "lineno": 286, "complexity": 1, "endline": 295, "closures": []}, {"type": "method", "rank": "A", "classname": "FavoriteTests", "name": "test_remove_favorite_not_found", "col_offset": 4, "lineno": 297, "complexity": 1, "endline": 300, "closures": []}, {"type": "method", "rank": "A", "classname": "FavoriteTests", "name": "test_favorites_isolation_between_profiles", "col_offset": 4, "lineno": 302, "complexity": 1, "endline": 316, "closures": []}, {"type": "method", "rank": "A", "classname": "HistoryTests", "name": "test_list_history_empty", "col_offset": 4, "lineno": 322, "complexity": 1, "endline": 326, "closures": []}, {"type": "method", "rank": "A", "classname": "HistoryTests", "name": "test_record_view", "col_offset": 4, "lineno": 328, "complexity": 1, "endline": 337, "closures": []}, {"type": "method", "rank": "A", "classname": "HistoryTests", "name": "test_record_view_updates_timestamp", "col_offset": 4, "lineno": 339, "complexity": 1, "endline": 356, "closures": []}, {"type": "method", "rank": "A", "classname": "HistoryTests", "name": "test_list_history", "col_offset": 4, "lineno": 358, "complexity": 1, "endline": 366, "closures": []}, {"type": "method", "rank": "A", "classname": "HistoryTests", "name": "test_list_history_with_limit", "col_offset": 4, "lineno": 368, "complexity": 1, "endline": 376, "closures": []}, {"type": "method", "rank": "A", "classname": "HistoryTests", "name": "test_clear_history", "col_offset": 4, "lineno": 378, "complexity": 1, "endline": 385, "closures": []}, {"type": "method", "rank": "A", "classname": "HistoryTests", "name": "test_history_isolation_between_profiles", "col_offset": 4, "lineno": 387, "complexity": 1, "endline": 401, "closures": []}, {"type": "method", "rank": "A", "classname": "NoProfileTests", "name": "setUp", "col_offset": 4, "lineno": 407, "complexity": 1, "endline": 418, "closures": []}, {"type": "method", "rank": "A", "classname": "NoProfileTests", "name": "test_favorites_requires_profile", "col_offset": 4, "lineno": 421, "complexity": 1, "endline": 424, "closures": []}, {"type": "method", "rank": "A", "classname": "NoProfileTests", "name": "test_collections_requires_profile", "col_offset": 4, "lineno": 426, "complexity": 1, "endline": 429, "closures": []}, {"type": "method", "rank": "A", "classname": "NoProfileTests", "name": "test_history_requires_profile", "col_offset": 4, "lineno": 431, "complexity": 1, "endline": 434, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_half", "col_offset": 4, "lineno": 440, "complexity": 1, "endline": 444, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_quarter", "col_offset": 4, "lineno": 446, "complexity": 1, "endline": 450, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_third", "col_offset": 4, "lineno": 452, "complexity": 1, "endline": 457, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_two_thirds", "col_offset": 4, "lineno": 459, "complexity": 1, "endline": 464, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_three_quarters", "col_offset": 4, "lineno": 466, "complexity": 1, "endline": 470, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_mixed_number", "col_offset": 4, "lineno": 472, "complexity": 1, "endline": 478, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_decimal_to_fraction_whole_number", "col_offset": 4, "lineno": 480, "complexity": 1, "endline": 485, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_cups", "col_offset": 4, "lineno": 487, "complexity": 1, "endline": 493, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_tablespoons", "col_offset": 4, "lineno": 495, "complexity": 1, "endline": 500, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_teaspoons", "col_offset": 4, "lineno": 502, "complexity": 1, "endline": 507, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_keeps_grams", "col_offset": 4, "lineno": 509, "complexity": 1, "endline": 514, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_keeps_ml", "col_offset": 4, "lineno": 516, "complexity": 1, "endline": 521, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_countable_items", "col_offset": 4, "lineno": 523, "complexity": 1, "endline": 528, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_no_unit", "col_offset": 4, "lineno": 530, "complexity": 1, "endline": 535, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_quantities_list", "col_offset": 4, "lineno": 537, "complexity": 1, "endline": 551, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_empty_string", "col_offset": 4, "lineno": 553, "complexity": 1, "endline": 557, "closures": []}, {"type": "method", "rank": "A", "classname": "QuantityTidyingTests", "name": "test_tidy_ingredient_no_number", "col_offset": 4, "lineno": 559, "complexity": 1, "endline": 564, "closures": []}], "apps/recipes/models.py": [{"type": "class", "rank": "A", "name": "Recipe", "col_offset": 0, "lineno": 4, "complexity": 2, "endline": 95, "methods": [{"type": "method", "rank": "A", "classname": "Recipe", "name": "__str__", "col_offset": 4, "lineno": 94, "complexity": 1, "endline": 95, "closures": []}]}, {"type": "class", "rank": "A", "name": "SearchSource", "col_offset": 0, "lineno": 98, "complexity": 2, "endline": 117, "methods": [{"type": "method", "rank": "A", "classname": "SearchSource", "name": "__str__", "col_offset": 4, "lineno": 116, "complexity": 1, "endline": 117, "closures": []}]}, {"type": "class", "rank": "A", "name": "RecipeFavorite", "col_offset": 0, "lineno": 120, "complexity": 2, "endline": 140, "methods": [{"type": "method", "rank": "A", "classname": "RecipeFavorite", "name": "__str__", "col_offset": 4, "lineno": 139, "complexity": 1, "endline": 140, "closures": []}]}, {"type": "class", "rank": "A", "name": "RecipeCollection", "col_offset": 0, "lineno": 143, "complexity": 2, "endline": 161, "methods": [{"type": "method", "rank": "A", "classname": "RecipeCollection", "name": "__str__", "col_offset": 4, "lineno": 160, "complexity": 1, "endline": 161, "closures": []}]}, {"type": "class", "rank": "A", "name": "RecipeCollectionItem", "col_offset": 0, "lineno": 164, "complexity": 2, "endline": 184, "methods": [{"type": "method", "rank": "A", "classname": "RecipeCollectionItem", "name": "__str__", "col_offset": 4, "lineno": 183, "complexity": 1, "endline": 184, "closures": []}]}, {"type": "class", "rank": "A", "name": "RecipeViewHistory", "col_offset": 0, "lineno": 187, "complexity": 2, "endline": 206, "methods": [{"type": "method", "rank": "A", "classname": "RecipeViewHistory", "name": "__str__", "col_offset": 4, "lineno": 205, "complexity": 1, "endline": 206, "closures": []}]}, {"type": "class", "rank": "A", "name": "CachedSearchImage", "col_offset": 0, "lineno": 209, "complexity": 2, "endline": 234, "methods": [{"type": "method", "rank": "A", "classname": "CachedSearchImage", "name": "__str__", "col_offset": 4, "lineno": 233, "complexity": 1, "endline": 234, "closures": []}]}, {"type": "class", "rank": "A", "name": "ServingAdjustment", "col_offset": 0, "lineno": 237, "complexity": 2, "endline": 276, "methods": [{"type": "method", "rank": "A", "classname": "ServingAdjustment", "name": "__str__", "col_offset": 4, "lineno": 275, "complexity": 1, "endline": 276, "closures": []}]}, {"type": "method", "rank": "A", "classname": "Recipe", "name": "__str__", "col_offset": 4, "lineno": 94, "complexity": 1, "endline": 95, "closures": []}, {"type": "method", "rank": "A", "classname": "SearchSource", "name": "__str__", "col_offset": 4, "lineno": 116, "complexity": 1, "endline": 117, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeFavorite", "name": "__str__", "col_offset": 4, "lineno": 139, "complexity": 1, "endline": 140, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeCollection", "name": "__str__", "col_offset": 4, "lineno": 160, "complexity": 1, "endline": 161, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeCollectionItem", "name": "__str__", "col_offset": 4, "lineno": 183, "complexity": 1, "endline": 184, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeViewHistory", "name": "__str__", "col_offset": 4, "lineno": 205, "complexity": 1, "endline": 206, "closures": []}, {"type": "method", "rank": "A", "classname": "CachedSearchImage", "name": "__str__", "col_offset": 4, "lineno": 233, "complexity": 1, "endline": 234, "closures": []}, {"type": "method", "rank": "A", "classname": "ServingAdjustment", "name": "__str__", "col_offset": 4, "lineno": 275, "complexity": 1, "endline": 276, "closures": []}], "apps/recipes/services/fingerprint.py": [{"type": "function", "rank": "A", "name": "get_fallback_profiles", "col_offset": 0, "lineno": 66, "complexity": 3, "endline": 79, "closures": []}, {"type": "function", "rank": "A", "name": "get_random_profile", "col_offset": 0, "lineno": 46, "complexity": 1, "endline": 53, "closures": []}, {"type": "function", "rank": "A", "name": "get_random_delay", "col_offset": 0, "lineno": 56, "complexity": 1, "endline": 63, "closures": []}], "apps/recipes/services/image_cache.py": [{"type": "method", "rank": "B", "classname": "SearchImageCache", "name": "_download_and_save", "col_offset": 4, "lineno": 62, "complexity": 7, "endline": 116, "closures": []}, {"type": "method", "rank": "B", "classname": "SearchImageCache", "name": "_fetch_image", "col_offset": 4, "lineno": 118, "complexity": 6, "endline": 153, "closures": []}, {"type": "method", "rank": "B", "classname": "SearchImageCache", "name": "_convert_to_jpeg", "col_offset": 4, "lineno": 215, "complexity": 6, "endline": 250, "closures": []}, {"type": "class", "rank": "A", "name": "SearchImageCache", "col_offset": 0, "lineno": 25, "complexity": 5, "endline": 264, "methods": [{"type": "method", "rank": "A", "classname": "SearchImageCache", "name": "cache_images", "col_offset": 4, "lineno": 39, "complexity": 4, "endline": 60, "closures": []}, {"type": "method", "rank": "B", "classname": "SearchImageCache", "name": "_download_and_save", "col_offset": 4, "lineno": 62, "complexity": 7, "endline": 116, "closures": []}, {"type": "method", "rank": "B", "classname": "SearchImageCache", "name": "_fetch_image", "col_offset": 4, "lineno": 118, "complexity": 6, "endline": 153, "closures": []}, {"type": "method", "rank": "A", "classname": "SearchImageCache", "name": "get_cached_urls_batch", "col_offset": 4, "lineno": 155, "complexity": 4, "endline": 190, "closures": []}, {"type": "method", "rank": "A", "classname": "SearchImageCache", "name": "_generate_filename", "col_offset": 4, "lineno": 192, "complexity": 3, "endline": 213, "closures": []}, {"type": "method", "rank": "B", "classname": "SearchImageCache", "name": "_convert_to_jpeg", "col_offset": 4, "lineno": 215, "complexity": 6, "endline": 250, "closures": []}, {"type": "method", "rank": "A", "classname": "SearchImageCache", "name": "_is_image_url", "col_offset": 4, "lineno": 252, "complexity": 1, "endline": 264, "closures": []}]}, {"type": "method", "rank": "A", "classname": "SearchImageCache", "name": "cache_images", "col_offset": 4, "lineno": 39, "complexity": 4, "endline": 60, "closures": []}, {"type": "method", "rank": "A", "classname": "SearchImageCache", "name": "get_cached_urls_batch", "col_offset": 4, "lineno": 155, "complexity": 4, "endline": 190, "closures": []}, {"type": "method", "rank": "A", "classname": "SearchImageCache", "name": "_generate_filename", "col_offset": 4, "lineno": 192, "complexity": 3, "endline": 213, "closures": []}, {"type": "method", "rank": "A", "classname": "SearchImageCache", "name": "_is_image_url", "col_offset": 4, "lineno": 252, "complexity": 1, "endline": 264, "closures": []}], "apps/recipes/services/scraper.py": [{"type": "method", "rank": "B", "classname": "RecipeScraper", "name": "_download_image", "col_offset": 4, "lineno": 325, "complexity": 7, "endline": 357, "closures": []}, {"type": "method", "rank": "B", "classname": "RecipeScraper", "name": "_convert_webp_to_jpeg", "col_offset": 4, "lineno": 359, "complexity": 7, "endline": 390, "closures": []}, {"type": "method", "rank": "B", "classname": "RecipeScraper", "name": "scrape_url", "col_offset": 4, "lineno": 59, "complexity": 6, "endline": 157, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_parse_time", "col_offset": 4, "lineno": 285, "complexity": 5, "endline": 296, "closures": []}, {"type": "class", "rank": "A", "name": "RecipeScraper", "col_offset": 0, "lineno": 44, "complexity": 4, "endline": 407, "methods": [{"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "__init__", "col_offset": 4, "lineno": 56, "complexity": 1, "endline": 57, "closures": []}, {"type": "method", "rank": "B", "classname": "RecipeScraper", "name": "scrape_url", "col_offset": 4, "lineno": 59, "complexity": 6, "endline": 157, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_generate_tips_background", "col_offset": 4, "lineno": 159, "complexity": 3, "endline": 181, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_fetch_html", "col_offset": 4, "lineno": 183, "complexity": 4, "endline": 210, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_parse_recipe", "col_offset": 4, "lineno": 212, "complexity": 3, "endline": 260, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_safe_get", "col_offset": 4, "lineno": 262, "complexity": 4, "endline": 271, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_safe_get_ingredient_groups", "col_offset": 4, "lineno": 273, "complexity": 4, "endline": 283, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_parse_time", "col_offset": 4, "lineno": 285, "complexity": 5, "endline": 296, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_parse_servings", "col_offset": 4, "lineno": 298, "complexity": 3, "endline": 305, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_parse_rating", "col_offset": 4, "lineno": 307, "complexity": 3, "endline": 314, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_parse_rating_count", "col_offset": 4, "lineno": 316, "complexity": 3, "endline": 323, "closures": []}, {"type": "method", "rank": "B", "classname": "RecipeScraper", "name": "_download_image", "col_offset": 4, "lineno": 325, "complexity": 7, "endline": 357, "closures": []}, {"type": "method", "rank": "B", "classname": "RecipeScraper", "name": "_convert_webp_to_jpeg", "col_offset": 4, "lineno": 359, "complexity": 7, "endline": 390, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_is_image_url", "col_offset": 4, "lineno": 392, "complexity": 1, "endline": 396, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_generate_image_filename", "col_offset": 4, "lineno": 398, "complexity": 1, "endline": 407, "closures": []}]}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_fetch_html", "col_offset": 4, "lineno": 183, "complexity": 4, "endline": 210, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_safe_get", "col_offset": 4, "lineno": 262, "complexity": 4, "endline": 271, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_safe_get_ingredient_groups", "col_offset": 4, "lineno": 273, "complexity": 4, "endline": 283, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_generate_tips_background", "col_offset": 4, "lineno": 159, "complexity": 3, "endline": 181, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_parse_recipe", "col_offset": 4, "lineno": 212, "complexity": 3, "endline": 260, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_parse_servings", "col_offset": 4, "lineno": 298, "complexity": 3, "endline": 305, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_parse_rating", "col_offset": 4, "lineno": 307, "complexity": 3, "endline": 314, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_parse_rating_count", "col_offset": 4, "lineno": 316, "complexity": 3, "endline": 323, "closures": []}, {"type": "class", "rank": "A", "name": "ScraperError", "col_offset": 0, "lineno": 26, "complexity": 1, "endline": 29, "methods": []}, {"type": "class", "rank": "A", "name": "FetchError", "col_offset": 0, "lineno": 32, "complexity": 1, "endline": 35, "methods": []}, {"type": "class", "rank": "A", "name": "ParseError", "col_offset": 0, "lineno": 38, "complexity": 1, "endline": 41, "methods": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "__init__", "col_offset": 4, "lineno": 56, "complexity": 1, "endline": 57, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_is_image_url", "col_offset": 4, "lineno": 392, "complexity": 1, "endline": 396, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeScraper", "name": "_generate_image_filename", "col_offset": 4, "lineno": 398, "complexity": 1, "endline": 407, "closures": []}], "apps/recipes/services/search.py": [{"type": "method", "rank": "C", "classname": "RecipeSearch", "name": "_looks_like_recipe_url", "col_offset": 4, "lineno": 413, "complexity": 15, "endline": 527, "closures": []}, {"type": "method", "rank": "C", "classname": "RecipeSearch", "name": "_fallback_parse", "col_offset": 4, "lineno": 360, "complexity": 12, "endline": 411, "closures": []}, {"type": "method", "rank": "C", "classname": "RecipeSearch", "name": "search", "col_offset": 4, "lineno": 54, "complexity": 11, "endline": 157, "closures": []}, {"type": "class", "rank": "B", "name": "RecipeSearch", "col_offset": 0, "lineno": 38, "complexity": 6, "endline": 559, "methods": [{"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "__init__", "col_offset": 4, "lineno": 51, "complexity": 1, "endline": 52, "closures": []}, {"type": "method", "rank": "C", "classname": "RecipeSearch", "name": "search", "col_offset": 4, "lineno": 54, "complexity": 11, "endline": 157, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_apply_ai_ranking", "col_offset": 4, "lineno": 160, "complexity": 2, "endline": 172, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_search_source", "col_offset": 4, "lineno": 174, "complexity": 3, "endline": 213, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_parse_search_results", "col_offset": 4, "lineno": 215, "complexity": 5, "endline": 243, "closures": []}, {"type": "method", "rank": "B", "classname": "RecipeSearch", "name": "_find_link", "col_offset": 4, "lineno": 245, "complexity": 6, "endline": 261, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_extract_title", "col_offset": 4, "lineno": 263, "complexity": 5, "endline": 278, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_extract_rating", "col_offset": 4, "lineno": 280, "complexity": 3, "endline": 298, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_extract_image", "col_offset": 4, "lineno": 300, "complexity": 5, "endline": 312, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_extract_description", "col_offset": 4, "lineno": 314, "complexity": 2, "endline": 319, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_extract_result_from_element", "col_offset": 4, "lineno": 321, "complexity": 5, "endline": 357, "closures": []}, {"type": "method", "rank": "C", "classname": "RecipeSearch", "name": "_fallback_parse", "col_offset": 4, "lineno": 360, "complexity": 12, "endline": 411, "closures": []}, {"type": "method", "rank": "C", "classname": "RecipeSearch", "name": "_looks_like_recipe_url", "col_offset": 4, "lineno": 413, "complexity": 15, "endline": 527, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_record_failure", "col_offset": 4, "lineno": 529, "complexity": 1, "endline": 540, "closures": [{"type": "function", "rank": "A", "name": "update", "col_offset": 8, "lineno": 534, "complexity": 2, "endline": 538, "closures": []}]}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_record_success", "col_offset": 4, "lineno": 542, "complexity": 1, "endline": 559, "closures": [{"type": "function", "rank": "A", "name": "update", "col_offset": 8, "lineno": 547, "complexity": 1, "endline": 555, "closures": []}]}]}, {"type": "method", "rank": "B", "classname": "RecipeSearch", "name": "_find_link", "col_offset": 4, "lineno": 245, "complexity": 6, "endline": 261, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_parse_search_results", "col_offset": 4, "lineno": 215, "complexity": 5, "endline": 243, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_extract_title", "col_offset": 4, "lineno": 263, "complexity": 5, "endline": 278, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_extract_image", "col_offset": 4, "lineno": 300, "complexity": 5, "endline": 312, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_extract_result_from_element", "col_offset": 4, "lineno": 321, "complexity": 5, "endline": 357, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_search_source", "col_offset": 4, "lineno": 174, "complexity": 3, "endline": 213, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_extract_rating", "col_offset": 4, "lineno": 280, "complexity": 3, "endline": 298, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_apply_ai_ranking", "col_offset": 4, "lineno": 160, "complexity": 2, "endline": 172, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_extract_description", "col_offset": 4, "lineno": 314, "complexity": 2, "endline": 319, "closures": []}, {"type": "class", "rank": "A", "name": "SearchResult", "col_offset": 0, "lineno": 27, "complexity": 1, "endline": 35, "methods": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "__init__", "col_offset": 4, "lineno": 51, "complexity": 1, "endline": 52, "closures": []}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_record_failure", "col_offset": 4, "lineno": 529, "complexity": 1, "endline": 540, "closures": [{"type": "function", "rank": "A", "name": "update", "col_offset": 8, "lineno": 534, "complexity": 2, "endline": 538, "closures": []}]}, {"type": "method", "rank": "A", "classname": "RecipeSearch", "name": "_record_success", "col_offset": 4, "lineno": 542, "complexity": 1, "endline": 559, "closures": [{"type": "function", "rank": "A", "name": "update", "col_offset": 8, "lineno": 547, "complexity": 1, "endline": 555, "closures": []}]}], "apps/recipes/migrations/0001_initial.py": [{"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 7, "complexity": 1, "endline": 74, "methods": []}], "apps/recipes/migrations/0003_recipecollection_recipecollectionitem_recipefavorite_and_more.py": [{"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 7, "complexity": 1, "endline": 67, "methods": []}], "apps/recipes/migrations/0006_serving_adjustment_instructions_times.py": [{"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 6, "complexity": 1, "endline": 30, "methods": []}], "apps/recipes/migrations/0007_recipe_profile.py": [{"type": "function", "rank": "A", "name": "delete_all_recipes", "col_offset": 0, "lineno": 7, "complexity": 1, "endline": 10, "closures": []}, {"type": "function", "rank": "A", "name": "noop", "col_offset": 0, "lineno": 13, "complexity": 1, "endline": 15, "closures": []}, {"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 18, "complexity": 1, "endline": 56, "methods": []}], "apps/recipes/migrations/0004_cachedsearchimage.py": [{"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 6, "complexity": 1, "endline": 24, "methods": []}], "apps/recipes/migrations/0002_populate_search_sources.py": [{"type": "function", "rank": "A", "name": "populate_search_sources", "col_offset": 0, "lineno": 98, "complexity": 2, "endline": 103, "closures": []}, {"type": "function", "rank": "A", "name": "remove_search_sources", "col_offset": 0, "lineno": 107, "complexity": 2, "endline": 110, "closures": []}, {"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 113, "complexity": 1, "endline": 120, "methods": []}], "apps/recipes/migrations/0009_add_default_selectors.py": [{"type": "function", "rank": "A", "name": "add_selectors", "col_offset": 0, "lineno": 28, "complexity": 2, "endline": 31, "closures": []}, {"type": "function", "rank": "A", "name": "remove_selectors", "col_offset": 0, "lineno": 34, "complexity": 2, "endline": 37, "closures": []}, {"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 40, "complexity": 1, "endline": 47, "methods": []}], "apps/recipes/migrations/0005_serving_adjustment.py": [{"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 7, "complexity": 1, "endline": 29, "methods": []}], "apps/recipes/migrations/0008_rename_recipes_rec_profile_idx_recipes_rec_profile_7945b8_idx.py": [{"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 6, "complexity": 1, "endline": 16, "methods": []}], "apps/recipes/management/commands/cleanup_search_images.py": [{"type": "method", "rank": "B", "classname": "Command", "name": "handle", "col_offset": 4, "lineno": 40, "complexity": 9, "endline": 99, "closures": []}, {"type": "class", "rank": "B", "name": "Command", "col_offset": 0, "lineno": 24, "complexity": 6, "endline": 99, "methods": [{"type": "method", "rank": "A", "classname": "Command", "name": "add_arguments", "col_offset": 4, "lineno": 27, "complexity": 1, "endline": 37, "closures": []}, {"type": "method", "rank": "B", "classname": "Command", "name": "handle", "col_offset": 4, "lineno": 40, "complexity": 9, "endline": 99, "closures": []}]}, {"type": "method", "rank": "A", "classname": "Command", "name": "add_arguments", "col_offset": 4, "lineno": 27, "complexity": 1, "endline": 37, "closures": []}], "apps/legacy/apps.py": [{"type": "class", "rank": "A", "name": "LegacyConfig", "col_offset": 0, "lineno": 6, "complexity": 1, "endline": 10, "methods": []}], "apps/legacy/views.py": [{"type": "function", "rank": "A", "name": "recipe_detail", "col_offset": 0, "lineno": 133, "complexity": 5, "endline": 181, "closures": []}, {"type": "function", "rank": "A", "name": "play_mode", "col_offset": 0, "lineno": 187, "complexity": 5, "endline": 214, "closures": []}, {"type": "function", "rank": "A", "name": "_is_ai_available", "col_offset": 0, "lineno": 47, "complexity": 2, "endline": 53, "closures": []}, {"type": "function", "rank": "A", "name": "home", "col_offset": 0, "lineno": 69, "complexity": 2, "endline": 103, "closures": []}, {"type": "function", "rank": "A", "name": "search", "col_offset": 0, "lineno": 109, "complexity": 2, "endline": 127, "closures": []}, {"type": "function", "rank": "A", "name": "settings", "col_offset": 0, "lineno": 322, "complexity": 2, "endline": 355, "closures": []}, {"type": "function", "rank": "A", "name": "require_profile", "col_offset": 0, "lineno": 19, "complexity": 1, "endline": 44, "closures": [{"type": "function", "rank": "A", "name": "wrapper", "col_offset": 4, "lineno": 31, "complexity": 3, "endline": 42, "closures": []}]}, {"type": "function", "rank": "A", "name": "profile_selector", "col_offset": 0, "lineno": 56, "complexity": 1, "endline": 63, "closures": []}, {"type": "function", "rank": "A", "name": "all_recipes", "col_offset": 0, "lineno": 220, "complexity": 1, "endline": 240, "closures": []}, {"type": "function", "rank": "A", "name": "favorites", "col_offset": 0, "lineno": 246, "complexity": 1, "endline": 262, "closures": []}, {"type": "function", "rank": "A", "name": "collections", "col_offset": 0, "lineno": 268, "complexity": 1, "endline": 286, "closures": []}, {"type": "function", "rank": "A", "name": "collection_detail", "col_offset": 0, "lineno": 292, "complexity": 1, "endline": 316, "closures": []}], "apps/legacy/templatetags/legacy_tags.py": [{"type": "function", "rank": "A", "name": "format_time", "col_offset": 0, "lineno": 11, "complexity": 4, "endline": 22, "closures": []}, {"type": "function", "rank": "A", "name": "format_nutrition_key", "col_offset": 0, "lineno": 32, "complexity": 4, "endline": 53, "closures": []}, {"type": "function", "rank": "A", "name": "in_list", "col_offset": 0, "lineno": 26, "complexity": 1, "endline": 28, "closures": []}], "apps/core/encryption.py": [{"type": "function", "rank": "A", "name": "decrypt_value", "col_offset": 0, "lineno": 52, "complexity": 5, "endline": 82, "closures": []}, {"type": "function", "rank": "A", "name": "encrypt_value", "col_offset": 0, "lineno": 29, "complexity": 3, "endline": 49, "closures": []}, {"type": "function", "rank": "A", "name": "is_encrypted", "col_offset": 0, "lineno": 85, "complexity": 2, "endline": 87, "closures": []}, {"type": "function", "rank": "A", "name": "_get_encryption_key", "col_offset": 0, "lineno": 18, "complexity": 1, "endline": 26, "closures": []}], "apps/core/apps.py": [{"type": "class", "rank": "A", "name": "CoreConfig", "col_offset": 0, "lineno": 4, "complexity": 1, "endline": 6, "methods": []}], "apps/core/middleware.py": [{"type": "method", "rank": "C", "classname": "DeviceDetectionMiddleware", "name": "_is_legacy_device", "col_offset": 4, "lineno": 34, "complexity": 14, "endline": 64, "closures": []}, {"type": "class", "rank": "B", "name": "DeviceDetectionMiddleware", "col_offset": 0, "lineno": 4, "complexity": 6, "endline": 64, "methods": [{"type": "method", "rank": "A", "classname": "DeviceDetectionMiddleware", "name": "__init__", "col_offset": 4, "lineno": 27, "complexity": 1, "endline": 28, "closures": []}, {"type": "method", "rank": "A", "classname": "DeviceDetectionMiddleware", "name": "__call__", "col_offset": 4, "lineno": 30, "complexity": 1, "endline": 32, "closures": []}, {"type": "method", "rank": "C", "classname": "DeviceDetectionMiddleware", "name": "_is_legacy_device", "col_offset": 4, "lineno": 34, "complexity": 14, "endline": 64, "closures": []}]}, {"type": "method", "rank": "A", "classname": "DeviceDetectionMiddleware", "name": "__init__", "col_offset": 4, "lineno": 27, "complexity": 1, "endline": 28, "closures": []}, {"type": "method", "rank": "A", "classname": "DeviceDetectionMiddleware", "name": "__call__", "col_offset": 4, "lineno": 30, "complexity": 1, "endline": 32, "closures": []}], "apps/core/api.py": [{"type": "function", "rank": "B", "name": "reset_database", "col_offset": 0, "lineno": 110, "complexity": 7, "endline": 197, "closures": []}, {"type": "function", "rank": "A", "name": "health_check", "col_offset": 0, "lineno": 34, "complexity": 2, "endline": 43, "closures": []}, {"type": "function", "rank": "A", "name": "get_reset_preview", "col_offset": 0, "lineno": 81, "complexity": 1, "endline": 104, "closures": []}, {"type": "class", "rank": "A", "name": "HealthSchema", "col_offset": 0, "lineno": 28, "complexity": 1, "endline": 30, "methods": []}, {"type": "class", "rank": "A", "name": "DataCountsSchema", "col_offset": 0, "lineno": 46, "complexity": 1, "endline": 56, "methods": []}, {"type": "class", "rank": "A", "name": "ResetPreviewSchema", "col_offset": 0, "lineno": 59, "complexity": 1, "endline": 62, "methods": []}, {"type": "class", "rank": "A", "name": "ResetConfirmSchema", "col_offset": 0, "lineno": 65, "complexity": 1, "endline": 66, "methods": []}, {"type": "class", "rank": "A", "name": "ErrorSchema", "col_offset": 0, "lineno": 69, "complexity": 1, "endline": 71, "methods": []}, {"type": "class", "rank": "A", "name": "ResetSuccessSchema", "col_offset": 0, "lineno": 74, "complexity": 1, "endline": 77, "methods": []}], "apps/core/tests.py": [{"type": "method", "rank": "A", "classname": "EncryptionTests", "name": "test_is_encrypted", "col_offset": 4, "lineno": 40, "complexity": 4, "endline": 40, "closures": []}, {"type": "class", "rank": "A", "name": "EncryptionTests", "col_offset": 0, "lineno": 10, "complexity": 3, "endline": 47, "methods": [{"type": "method", "rank": "A", "classname": "EncryptionTests", "name": "test_encrypt_value", "col_offset": 4, "lineno": 13, "complexity": 3, "endline": 13, "closures": []}, {"type": "method", "rank": "A", "classname": "EncryptionTests", "name": "test_decrypt_value", "col_offset": 4, "lineno": 20, "complexity": 2, "endline": 20, "closures": []}, {"type": "method", "rank": "A", "classname": "EncryptionTests", "name": "test_encrypt_empty_string", "col_offset": 4, "lineno": 27, "complexity": 2, "endline": 27, "closures": []}, {"type": "method", "rank": "A", "classname": "EncryptionTests", "name": "test_decrypt_empty_string", "col_offset": 4, "lineno": 31, "complexity": 2, "endline": 31, "closures": []}, {"type": "method", "rank": "A", "classname": "EncryptionTests", "name": "test_decrypt_unencrypted_value", "col_offset": 4, "lineno": 35, "complexity": 2, "endline": 35, "closures": []}, {"type": "method", "rank": "A", "classname": "EncryptionTests", "name": "test_is_encrypted", "col_offset": 4, "lineno": 40, "complexity": 4, "endline": 40, "closures": []}, {"type": "method", "rank": "A", "classname": "EncryptionTests", "name": "test_roundtrip_special_characters", "col_offset": 4, "lineno": 47, "complexity": 2, "endline": 47, "closures": []}]}, {"type": "method", "rank": "A", "classname": "EncryptionTests", "name": "test_encrypt_value", "col_offset": 4, "lineno": 13, "complexity": 3, "endline": 13, "closures": []}, {"type": "class", "rank": "A", "name": "AppSettingsEncryptionTests", "col_offset": 0, "lineno": 55, "complexity": 3, "endline": 97, "methods": [{"type": "method", "rank": "A", "classname": "AppSettingsEncryptionTests", "name": "test_api_key_encrypted_on_save", "col_offset": 4, "lineno": 58, "complexity": 3, "endline": 58, "closures": []}, {"type": "method", "rank": "A", "classname": "AppSettingsEncryptionTests", "name": "test_api_key_property_decrypts", "col_offset": 4, "lineno": 73, "complexity": 2, "endline": 73, "closures": []}, {"type": "method", "rank": "A", "classname": "AppSettingsEncryptionTests", "name": "test_legacy_unencrypted_key_still_works", "col_offset": 4, "lineno": 83, "complexity": 2, "endline": 83, "closures": []}, {"type": "method", "rank": "A", "classname": "AppSettingsEncryptionTests", "name": "test_empty_api_key", "col_offset": 4, "lineno": 97, "complexity": 2, "endline": 97, "closures": []}]}, {"type": "method", "rank": "A", "classname": "AppSettingsEncryptionTests", "name": "test_api_key_encrypted_on_save", "col_offset": 4, "lineno": 58, "complexity": 3, "endline": 58, "closures": []}, {"type": "method", "rank": "A", "classname": "EncryptionTests", "name": "test_decrypt_value", "col_offset": 4, "lineno": 20, "complexity": 2, "endline": 20, "closures": []}, {"type": "method", "rank": "A", "classname": "EncryptionTests", "name": "test_encrypt_empty_string", "col_offset": 4, "lineno": 27, "complexity": 2, "endline": 27, "closures": []}, {"type": "method", "rank": "A", "classname": "EncryptionTests", "name": "test_decrypt_empty_string", "col_offset": 4, "lineno": 31, "complexity": 2, "endline": 31, "closures": []}, {"type": "method", "rank": "A", "classname": "EncryptionTests", "name": "test_decrypt_unencrypted_value", "col_offset": 4, "lineno": 35, "complexity": 2, "endline": 35, "closures": []}, {"type": "method", "rank": "A", "classname": "EncryptionTests", "name": "test_roundtrip_special_characters", "col_offset": 4, "lineno": 47, "complexity": 2, "endline": 47, "closures": []}, {"type": "method", "rank": "A", "classname": "AppSettingsEncryptionTests", "name": "test_api_key_property_decrypts", "col_offset": 4, "lineno": 73, "complexity": 2, "endline": 73, "closures": []}, {"type": "method", "rank": "A", "classname": "AppSettingsEncryptionTests", "name": "test_legacy_unencrypted_key_still_works", "col_offset": 4, "lineno": 83, "complexity": 2, "endline": 83, "closures": []}, {"type": "method", "rank": "A", "classname": "AppSettingsEncryptionTests", "name": "test_empty_api_key", "col_offset": 4, "lineno": 97, "complexity": 2, "endline": 97, "closures": []}], "apps/core/models.py": [{"type": "class", "rank": "A", "name": "AppSettings", "col_offset": 0, "lineno": 6, "complexity": 3, "endline": 43, "methods": [{"type": "method", "rank": "A", "classname": "AppSettings", "name": "save", "col_offset": 4, "lineno": 17, "complexity": 3, "endline": 24, "closures": []}, {"type": "method", "rank": "A", "classname": "AppSettings", "name": "get", "col_offset": 4, "lineno": 27, "complexity": 1, "endline": 30, "closures": []}, {"type": "method", "rank": "A", "classname": "AppSettings", "name": "openrouter_api_key", "col_offset": 4, "lineno": 33, "complexity": 1, "endline": 35, "closures": []}, {"type": "method", "rank": "A", "classname": "AppSettings", "name": "openrouter_api_key", "col_offset": 4, "lineno": 38, "complexity": 3, "endline": 43, "closures": []}]}, {"type": "method", "rank": "A", "classname": "AppSettings", "name": "save", "col_offset": 4, "lineno": 17, "complexity": 3, "endline": 24, "closures": []}, {"type": "method", "rank": "A", "classname": "AppSettings", "name": "openrouter_api_key", "col_offset": 4, "lineno": 38, "complexity": 3, "endline": 43, "closures": []}, {"type": "method", "rank": "A", "classname": "AppSettings", "name": "get", "col_offset": 4, "lineno": 27, "complexity": 1, "endline": 30, "closures": []}, {"type": "method", "rank": "A", "classname": "AppSettings", "name": "openrouter_api_key", "col_offset": 4, "lineno": 33, "complexity": 1, "endline": 35, "closures": []}], "apps/core/migrations/0001_initial.py": [{"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 6, "complexity": 1, "endline": 23, "methods": []}], "apps/profiles/utils.py": [{"type": "function", "rank": "A", "name": "get_current_profile", "col_offset": 0, "lineno": 9, "complexity": 3, "endline": 22, "closures": []}, {"type": "function", "rank": "A", "name": "get_current_profile_or_none", "col_offset": 0, "lineno": 25, "complexity": 3, "endline": 39, "closures": []}, {"type": "function", "rank": "A", "name": "aget_current_profile_or_none", "col_offset": 0, "lineno": 42, "complexity": 1, "endline": 59, "closures": [{"type": "function", "rank": "A", "name": "_get_profile", "col_offset": 4, "lineno": 50, "complexity": 3, "endline": 57, "closures": []}]}], "apps/profiles/apps.py": [{"type": "class", "rank": "A", "name": "ProfilesConfig", "col_offset": 0, "lineno": 4, "complexity": 1, "endline": 6, "methods": []}], "apps/profiles/api.py": [{"type": "function", "rank": "B", "name": "delete_profile", "col_offset": 0, "lineno": 198, "complexity": 6, "endline": 246, "closures": []}, {"type": "function", "rank": "A", "name": "list_profiles", "col_offset": 0, "lineno": 79, "complexity": 2, "endline": 116, "closures": []}, {"type": "function", "rank": "A", "name": "update_profile", "col_offset": 0, "lineno": 133, "complexity": 2, "endline": 139, "closures": []}, {"type": "function", "rank": "A", "name": "get_deletion_preview", "col_offset": 0, "lineno": 143, "complexity": 2, "endline": 192, "closures": []}, {"type": "function", "rank": "A", "name": "create_profile", "col_offset": 0, "lineno": 120, "complexity": 1, "endline": 123, "closures": []}, {"type": "function", "rank": "A", "name": "get_profile", "col_offset": 0, "lineno": 127, "complexity": 1, "endline": 129, "closures": []}, {"type": "function", "rank": "A", "name": "select_profile", "col_offset": 0, "lineno": 250, "complexity": 1, "endline": 254, "closures": []}, {"type": "class", "rank": "A", "name": "ProfileIn", "col_offset": 0, "lineno": 14, "complexity": 1, "endline": 18, "methods": []}, {"type": "class", "rank": "A", "name": "ProfileOut", "col_offset": 0, "lineno": 21, "complexity": 1, "endline": 26, "methods": []}, {"type": "class", "rank": "A", "name": "ProfileStatsSchema", "col_offset": 0, "lineno": 29, "complexity": 1, "endline": 36, "methods": []}, {"type": "class", "rank": "A", "name": "ProfileWithStatsSchema", "col_offset": 0, "lineno": 39, "complexity": 1, "endline": 46, "methods": []}, {"type": "class", "rank": "A", "name": "DeletionDataSchema", "col_offset": 0, "lineno": 49, "complexity": 1, "endline": 57, "methods": []}, {"type": "class", "rank": "A", "name": "ProfileSummarySchema", "col_offset": 0, "lineno": 60, "complexity": 1, "endline": 64, "methods": []}, {"type": "class", "rank": "A", "name": "DeletionPreviewSchema", "col_offset": 0, "lineno": 67, "complexity": 1, "endline": 70, "methods": []}, {"type": "class", "rank": "A", "name": "ErrorSchema", "col_offset": 0, "lineno": 73, "complexity": 1, "endline": 75, "methods": []}], "apps/profiles/models.py": [{"type": "class", "rank": "A", "name": "Profile", "col_offset": 0, "lineno": 4, "complexity": 2, "endline": 25, "methods": [{"type": "method", "rank": "A", "classname": "Profile", "name": "__str__", "col_offset": 4, "lineno": 24, "complexity": 1, "endline": 25, "closures": []}]}, {"type": "method", "rank": "A", "classname": "Profile", "name": "__str__", "col_offset": 4, "lineno": 24, "complexity": 1, "endline": 25, "closures": []}], "apps/profiles/migrations/0001_initial.py": [{"type": "class", "rank": "A", "name": "Migration", "col_offset": 0, "lineno": 6, "complexity": 1, "endline": 23, "methods": []}], "cookie/urls.py": [{"type": "function", "rank": "A", "name": "health", "col_offset": 0, "lineno": 29, "complexity": 1, "endline": 30, "closures": []}], "cookie/settings.py": [{"type": "function", "rank": "A", "name": "get_secret_key", "col_offset": 0, "lineno": 18, "complexity": 3, "endline": 27, "closures": []}]}
